<?hard-pagebreak?>
<section><title>solution : using tcp/ip</title>
	<para>1. Use <command>ifconfig</command> to list all your network interfaces and their ip-addresses. Write down your ip-address and subnet mask.</para>
	<screen>root@rhel6 ~# ifconfig | grep -B1 'inet '
eth1      Link encap:Ethernet  HWaddr 08:00:27:81:23:AC  
          inet addr:192.168.1.33  Bcast:192.168.1.255  Mask:255.255.255.0
--
eth2      Link encap:Ethernet  HWaddr 08:00:27:D5:D1:59  
          inet addr:192.168.1.90  Bcast:192.168.1.255  Mask:255.255.255.0
--
lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0</screen>
	<para>2. Use the GUI tool of your distro to set a fix ip address (use the same address as the one you got from dhcp). Verify with <command>ifconfig</command> and <command>ping</command> to a neighbour that it works. Also look at the configuration files in <command>/etc/network</command> or <command>/etc/sysconfig</command> to see how the GUI tool sets a fixed address.</para>
	<screen>
Rightclick on network manager to open.
ifconfig ethx
ping ip-address neighbour
cat /etc/sysconfig/netwrok-scripts/ifcfg-'press tab-tab'
</screen>
	<para>3. Use the GUI tool to enable dhcp again (and verify the changes in the config files).</para>
	<screen>root@rhel55 ~# cat /etc/sysconfig/network-scripts/ifcfg-eth2
# Advanced Micro Devices [AMD] 79c970 [PCnet32 LANCE]
DEVICE=eth2
BOOTPROTO=dhcp
ONBOOT=yes
HWADDR=08:00:27:a7:57:46
root@rhel55 ~# cat /etc/sysconfig/network-scripts/ifcfg-eth1
# Advanced Micro Devices [AMD] 79c970 [PCnet32 LANCE]
DEVICE=eth1
BOOTPROTO=dhcp
ONBOOT=yes
HWADDR=08:00:27:40:74:2f</screen>
	<para>4. Use <command>ifdown</command> or <command>ifconfig</command> to disable and enable a network card. Verify the results with <command>ifconfig</command>.</para>
	<screen>root@rhel55 ~# ifconfig eth2 | grep inet
          inet addr:192.168.1.35  Bcast:192.168.1.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fea7:5746/64 Scope:Link
root@rhel55 ~# ifdown eth2
root@rhel55 ~# ifconfig eth2 | grep inet
root@rhel55 ~# ifup eth2

Determining IP information for eth2... done.
root@rhel55 ~# ifconfig eth2 | grep inet
          inet addr:192.168.1.35  Bcast:192.168.1.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fea7:5746/64 Scope:Link
	</screen>
	<screen>
root@rhel55 ~# ifconfig eth2 | grep -A2 'inet '
          inet addr:192.168.1.35  Bcast:192.168.1.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fea7:5746/64 Scope:Link
          <command>UP BROADCAST RUNNING MULTICAST</command>  MTU:1500  Metric:1
root@rhel55 ~# ifconfig eth2 down
root@rhel55 ~# ifconfig eth2 | grep -A2 'inet '
          inet addr:192.168.1.35  Bcast:192.168.1.255  Mask:255.255.255.0
          <command>BROADCAST MULTICAST</command>  MTU:1500  Metric:1
          RX packets:161 errors:0 dropped:0 overruns:0 frame:0
root@rhel55 ~# ifconfig eth2 up
root@rhel55 ~# ifconfig eth2 | grep -A2 'inet '
          inet addr:192.168.1.35  Bcast:192.168.1.255  Mask:255.255.255.0
          inet6 addr: fe80::a00:27ff:fea7:5746/64 Scope:Link
          <command>UP BROADCAST RUNNING MULTICAST</command>  MTU:1500  Metric:1</screen>
	<para>5. Is the <command>dhclient</command> daemon running ?</para>
	<screen>root@rhel55 ~# ps -C dhclient
  PID TTY          TIME CMD
 1693 ?        00:00:00 dhclient
 3257 ?        00:00:00 dhclient</screen>
	<para>6. Verify that you have a default gateway with two commands.</para>
	<screen>root@rhel55 ~# route
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.1.0     *               255.255.255.0   U     0      0        0 eth0
192.168.1.0     *               255.255.255.0   U     0      0        0 eth2
root@rhel55 ~# netstat -nr
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
192.168.1.0     0.0.0.0         255.255.255.0   U         0 0          0 eth0
192.168.1.0     0.0.0.0         255.255.255.0   U         0 0          0 eth2</screen>
	<para>7. Ping the default gateway, then look at the <command>mac-address</command> of the default gateway.</para>
	<screen>paul@ubu10.04:~$ ping -c1 192.168.1.1
PING 192.168.1.1 (192.168.1.1) 56(84) bytes of data.
64 bytes from 192.168.1.1: icmp_seq=1 ttl=254 time=4.77 ms

--- 192.168.1.1 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 4.770/4.770/4.770/0.000 ms
paul@ubu10.04:~$ arp -a | grep 192.168.1.1
illyria (192.168.1.1) at 00:02:cf:aa:68:f0 [ether] on eth1</screen>
</section>
