<section><title>introduction to computer networks</title>
	<section><title>theory about network layers</title>
		<section><title>seven OSI layers</title>
			<para>When talking about protocol layers, people usually mention the seven layers of the <command>osi</command> protocol (Application, Presentation, Session, Transport, Network, Data Link and Physical). We will discuss layers 2 and 3 in depth, and focus less on the other layers. The reason is that these layers are important for understanding networks. You will hear administrators use words like "this is a layer 2 device" or "this is a layer 3 broadcast", and you should be able to understand what they are talking about.</para>
		</section>
		<section><title>four DoD layers</title>
			<para>The <command>DoD</command> (or tcp/ip) model has only four layers, roughly mapping its <command>network access layer</command> to OSI layers 1 and 2 (Physical and Datalink), its <command>internet</command> (IP) layer to the OSI <command>network layer</command>, its <command>host-to-host</command> (tcp, udp) layer to OSI layer 4 (transport) and its <command>application layer</command> to OSI layers 5, 6 and 7.</para>
			<para>Below an attempt to put OSI and DoD layers next to some protocols and devices.</para>
		<para>
 			<mediaobject><imageobject><imagedata fileref="images/networklayers.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
		</para>
		</section>
		<section><title>short introduction to the physical layer</title>
			<para>The physical layer, or <command>layer 1</command>, is all about voltage, electrical signals and mechanical connections. Some networks might still use <command>coax</command> cables, but most will have migrated to <command>utp</command> (cat 5 or better) with <command>rj45</command> connectors.</para>
			<para>Devices like <command>repeaters</command> and <command>hubs</command> are part of this layer. You cannot use software to 'see' a <command>repeater</command> or <command>hub</command> on the network. The only thing these devices are doing is amplifying electrical signals on cables. <command>Passive hubs</command> are multiport amplifiers that amplify an incoming electrical signal on all other connections. <command>Active hubs</command> do this by reading and retransmitting bits, without interpreting any meaning in those bits.</para>
			<para>Network technologies like <command>csma/cd</command> and <command>token ring</command> are defined on this layer.</para>
			<para>This is all we have to say about <command>layer 1</command> in this book.</para>
		</section>
		<section><title>short introduction to the data link layer</title>
			<para>The data link layer, or <command>layer 2</command> is about frames. A frame has a <command>crc</command> (cyclic redundancy check). In the case of ethernet (802.3), each network card is identifiable by a unique 48-bit <command>mac</command> address (media access control address).</para>
			<para>On this layer we find devices like bridges and switches. A bridge is more intelligent than a hub because a <command>bridge</command> can make decisions based on the mac address of computers. A <command>switch</command> also understands mac addresses.</para>
			<para>In this book we will discuss commands like <command>arp</command> and <command>ifconfig</command> to explore this layer.</para>
		</section>
		<section><title>short introduction to the network layer</title>
			<para><command>Layer 3</command> is about ip packets. This layer gives every host a unique 32-bit ip address. But <command>ip</command> is not the only protocol on this layer, there is also icmp, igmp, ipv6 and more. A complete list can be found in the <command>/etc/protocols</command> file.</para>
			<para>On this layer we find devices like <command>routers</command> and layer 3 switches, devices that know (and have) an ip address.</para>
			<para>In tcp/ip this layer is commonly referred to as the <command>internet layer</command>.</para>
		</section>
		<section><title>short introduction to the transport layer</title>
			<para>We will discuss the <command>tcp</command> and <command>udp</command> protocols in the context of layer 4. The DoD model calls this the host-to-host layer.</para>
		</section>
		<section><title>short introduction to layers 5, 6 and 7 </title>
			<para>The tcp/ip application layer includes layers 5, 6 and 7. Details on the difference between these layers our out of scope of this course.</para>
		</section>
	</section>
	<section><title>network layers in this book</title>
		<para>Stacking of layers in this book is based on the <command>Protocols in Frame</command> explanation in the <command>wireshark</command> sniffer. When sniffing a dhcp packet, we notice the following in the sniffer.</para>
		<screen>
[Protocols in Frame: eth:ip:udp:bootp]
		</screen>
		<para>Sniffing for ntp (Network Time Protocol) packets gives us this line, which makes us conclude to put <command>ntp</command> next to <command>bootp</command> in the protocol chart below.</para>
		<screen>
[Protocols in Frame: eth:ip:udp:ntp]
		</screen>
		<para>Sniffing an <command>arp</command> broadcast makes us put arp next to <command>ip</command>. All these protocols are explained later in this chapter.</para>
		<screen>
[Protocols in Frame: eth:arp]
		</screen>
		<para>Below is a protocol chart based on wireshark's knowledge. It contains some very common protocols that are discussed in this book. The chart does not contain all protocols.</para>
		<para>
 			<mediaobject><imageobject><imagedata fileref="images/networkprotocols.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
		</para>
	</section>
	<section><title>tcp/ip</title>
		<para>In the Sixties development of the <command>tcp/ip</command> protocol stack was started by the US Department of Defense. In the Eighties a lot of commercial enterprises developed their own protocol stack: IBM created <command>sna</command>, Novell had <command>ipx/spx</command>, Microsoft completed <command>netbeui</command> and Apple worked with <command>appletalk</command>. All the efforts from the Eighties failed to survive the Nineties. By the end of the Nineties, almost all computers in the world were able to speak tcp/ip.</para>
		<para>In my humble opinion, the main reason for the survival of <command>tcp/ip</command> over all the other protocols is its openness. Everyone is free to develop and use the tcp/ip protocol suite.</para>
	</section>
	<section><title>rfc (request for comment)</title>
		<para>The protocols that are used on the internet are defined in <command>rfc's</command>. An rfc or <command>request for comment</command> describes the inner working of all internet protocols. The <command>IETF</command> (Internet Engineering Task Force) is the sole publisher of these protocols since 1986.</para>
		<para>The official website for the rfc's is <command>http://www.rfc-editor.org</command>. This website contains all rfc's in plain text, for example rfc2132 (which defines dhcp and bootp) is accessible at http://www.rfc-editor.org/rfc/rfc2132.txt.</para>
	</section>
	<section><title>lan - man - wan</title>
		<para>The term <command>lan</command> is used for local area networks, as opposed to a <command>wan</command> for wide area networks. The difference between the two is determined by the <command>distance</command> between the computers, and not by the number of computers in a network. Some protocols like ATM are designed for use in a <command>wan</command>, others like ethernet are designed for use in a <command>lan</command>.</para>
		<para>A <command>man</command> is defined as a metropolitan area network (usually connecting buildings that are close to each other. A MAN often uses <command>fddi</command> or even <command>ethernet</command> for connectivity.</para>
	</section>
	<section><title>unicast - multicast - broadcast</title>
		<para>A <command>unicast</command> communication originates from one computer and is destined for one computer. A <command>broadcast</command> is meant for all, and a <command>multicast</command> is for a group of computers.</para>
		<para>Careful, a layer 2 broadcast is very different from a layer 3 broadcast. A layer two broadcast is received by all network cards on the same segment (it does not pass any router), whereas a layer 3 broadcast is received by all hosts in the same ip subnet.</para>
	</section>
	<section><title>internet - intranet - extranet</title>
		<para>The <command>internet</command> is a global network. It connects many networks using the tcp/ip protocol.</para>
		<para>The origin of the internet is the <command>arpanet</command>. The <command>arpanet</command> was created in 1969, that year only four computers were connected in the network. In 1971 <command>e-mail</command> was invented, taking 75 percent of all arpanet traffic in 1973. 1973 was the year <command>ftp</command> was introduced, and also saw the connection of the first European countries (Norway and UK). In 2009 the internet is available to 25 percent of the world population.</para>
		<para>An <command>intranet</command> is a private internet. An intranet uses the same protocols as the internet, but is only accessible to people from within one organization.</para>
		<para>An <command>extranet</command> is similar to an intranet, but some trusted organizations (partners/clients/suppliers/...) also get access.</para>
	</section>
	<section><title>vpn (virtual private network)</title>
		<para>A <command>vpn</command> is a network that uses another (usually bigger) network for connectivity. Typically a vpn is an encrypted tunnel over the internet.</para>
	</section>
</section>
