<section><title>GRUB</title>
	<section><title>GRand Unified Bootloader</title>
	<para>The most common bootloader on linux systems today is <command>grub</command><indexterm><primary>grub</primary></indexterm>. On almost all intel based systems grub is replacing <command>lilo</command><indexterm><primary>lilo</primary></indexterm> (LInux LOader). Even Solaris switched to grub on x86 architecture.</para>
	<para>One of the big advantages of rub over lilo is the capability to change the configuration during boot (by pressing e to edit the boot commandline).</para>
	</section>
	<section><title>menu.lst</title>
	<para>Grub's configuration file is called <command>menu.lst</command><indexterm><primary>menu.lst</primary></indexterm> (old versions used <command>grub.conf</command><indexterm><primary>grub.conf</primary></indexterm>) and is located in /boot/grub. The screenshot below shows (part of) a typical grub configuration file.</para>
<screen>
paul@barry:~$ cat /boot/grub/menu.lst
default		0
timeout		5
color cyan/blue white/blue

title		Debian GNU/Linux, kernel 2.6.17-2-686
root		(hd0,0)
kernel		/boot/vmlinuz-2.6.17-2-686 root=/dev/hda1 ro 
initrd		/boot/initrd.img-2.6.17-2-686
savedefault
boot

title		Debian GNU/Linux, kernel 2.6.15-1-686 (recovery mode)
root		(hd0,0)
kernel		/boot/vmlinuz-2.6.15-1-686 root=/dev/hda1 ro single
initrd		/boot/initrd.img-2.6.15-1-686
savedefault
boot

title		Debian GNU/Linux, kernel 2.6.15-1-686
root		(hd0,0)
kernel		/boot/vmlinuz-2.6.15-1-686 root=/dev/hda1 ro 
initrd		/boot/initrd.img-2.6.15-1-686
savedefault
...
</screen>
	<para>In the screenshot, you see some parameters at the top like <command>default</command> and <command>timeout</command>, followed by three <command>stanzas</command>. Each stanza is shown as a seperate choice on the bootmenu, and can be booted by grub by selecting it and pressing enter. The stanzas are automatically numbered, starting with 0. So when the default switch marks 0, then the first stanza will be booted, unless another choice is manually selected at boot time. Setting the default switch to 1 will boot the second stanza.</para>
	<para>The <command>timeout</command> switch defines the amount of seconds a user has to make a choice in the bootmenu. In this example, the timeout is set to five seconds, so grub will wait five seconds before booting the first stanza.</para>
	<para>Another interesting switch is <command>fallback</command>. This parameter allows you to set a backup stanza in case the first one fails. </para>
	</section>
	<section><title>Stanza commands</title>
	<para>The <command>title</command> command serves as a description of the stanza that is visible in the bootmenu. It can be anything you like. In this example it describes the distro and kernel version.</para>
<screen>
title		Debian GNU/Linux, kernel 2.6.17-2-686
root		(hd0,0)
kernel		/boot/vmlinuz-2.6.17-2-686 root=/dev/hda1 ro 
initrd		/boot/initrd.img-2.6.17-2-686
</screen>
	<para>The <command>root</command> command will point to the hard disk to use. (hd0) is the first hard disk device, (hd1) is the second hard disk device. (hd0,0) is the first partition on the first disk, (hd0,1) is the second partition on that disk.</para>
	<para>The <command>kernel</command> command point to the kernel(file) that grub needs to load. And <command>initrd</command><indexterm><primary>initrd</primary></indexterm> points to an initial RAM disk to accompany the kernel at system boot before mounting / .</para>
	</section>
	<section><title>Chainloading</title>
	<para>Chainloading refers to grub loading another operating system's bootloader. The <command>chainloader</command><indexterm><primary>chainloader</primary></indexterm> switch receives one option: the number of sectors to read and boot. For DOS one sector is enough, so a grub entry for a DOS or OS/2 partition might look like this. Note that MS-DOS requires the boot/root partition to be active!</para>
<screen>
title MS-DOS 6.22
root  (hd0,1)
makeactive
chainloader +1
</screen>
	</section>
<section><title>Installing grub</title>
	<para>Run the <command>grub-install</command><indexterm><primary>grub-install</primary></indexterm> to install grub. The command requires a destination for overwriting the boot sector or mbr.</para>
<screen>
# grub-install /dev/hda
</screen>
	</section>
</section>



