<section><title>kennismaking</title>
<section><title>voorstelling leerlingen</title>
	<para>1. Wie ben je ?</para>
	<para>2. Welke informaticakennis heb je al ?</para>
	<para>3. Welke netwerkenkennis heb je al ?</para>
	<para>4. Waarom ben je hier ?</para>
	<para>5. Welke onderwerpen wil je in deze cursus ?</para>
</section>
<section><title>voorstelling leraar</title>
	<para>1. Wie ben je ?</para>
	<screen>online:
cobbaut.blogspot.com
www.cobbaut.be
linkedin.com/in/cobbaut
facebook.com/cobbaut

offline:
Antwerpenaar
schaken op terrasjes met een pintje
zaakvoerder
consultant
leraar
fantasy
	</screen>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/fantasybooks.jpg" format="EPS" align="center"></imagedata></imageobject></mediaobject>
<?hard-pagebreak?>
	<para>2. Welke informaticakennis heb je al ?</para>
	<screen>jaren 80: machinetaal 68000, computerclubs
jaren 90: diploma KULeuven, C, C++, IBM
sinds 1997: zelfstandig consultant 
sinds 1999: zaakvoerder, prive-leraar voor bedrijven
sinds 2009: ambtenaar, cvotsm

systeembeheer:
1994 tot 1998: IBM OS/2
1997 tot 2005: MS Windows NT/2000/2003
sinds 2000: Linux/RHEL/Debian
sinds 2003: Solaris 9/10
</screen>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/hackingbooks.jpg" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>3. Welke netwerkenkennis heb je al ?</para>
	<screen>jaren 80: modems, bbs, ccc, nulmodem
jaren 90: SNA, ipx/spx, coax, LAN, WAN
jaren 00: tcp/ip, dns, dhcp</screen>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/networkbooks.jpg" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>4. Waarom ben je hier ?</para>
	<screen>lesgeven
kennis overdragen
niet om boek te maken ;-)
</screen>
	<para>5. Welke onderwerpen wil je in deze cursus ?</para>
	<screen>tcp/ip
dns
dhcp
standaard protocols voor internet (rfc's)
onafhankelijk van bedrijfseigen (proprietary) systemen
</screen>
	<para>Alle vragen i.v.m. systeembeheer en netwerk (dns, dhcp, tcp/ip, internet) zou ik moeten kunnen beantwoorden!</para>
</section>
<?hard-pagebreak?>
<section><title>leerplan van de overheid</title>
	<para>De overheid voorziet een <command>leerplan</command><indexterm><primary>leerplan</primary></indexterm> dat u hier <command>http://ond.vsko.be/dbs/plsql/vwo_ho_m$.startup</command> kan vinden.</para>
	<para>Het leerplan ziet er als volgt uit:</para>
	<screen>
Instapvereisten:
Vertrouwd zijn met de werking van een operating system en met het
gebruik van internet.

Verplichte voorafgaande modules:
geen

Studieduur:
60 Lt TV

Doelstellingen:
de cursist:
-kent de termen en afkortingen in gebruik bij communicatiesystemen
-kent de basiselementen van datatransmissie
-kan de parameters capaciteit, snelheid en de beperkingen van een
 communicatiekanaal situeren;
-kan de principes van modulatie en de bijbehorende normen benoemen en
 beschrijven;
-kan de multiplexeringstechnieken om een communicatiekanaal optimaal
 te gebruiken benoemen en beschrijven;
-kan de verschillende communicatiestructuren (topologieën): van
 punt-tot-punt tot het gebruik van een gemeenschappelijk kanaal (in
 een Lan, Man, Wan) en hun toepassingen beschrijven;
-kent de technieken waarbij computers communiceren in een lokaal
 netwerk via een gemeenschappelijk kanaal (bv. Ethernet) en kan een
 lokaal netwerk op basis van een gemeenschappelijk kanaal samenstellen;
-kan de voordelen en noodzakelijkheden van het gebruik van
 lagenmodellen in datacommunicatie opnoemen en  kan o.m. het klassieke
 OSI-model beschrijven;
-kan de structuur en de evolutie en de toepassingen van het Internet
 schetsen;
-kent het verschil tussen fysische en logische adressering en kan
 IP-adressen catalogeren en aanpassen (sub- en supernetten);
-de verschillende functionaliteiten tussen een server en werkstations
 weergeven;
-kan verschillende aspecten van netwerkbeveiliging onderscheiden;
-onderkent de voordelen en mogelijkheden van internet, extranet en
 intranet.

Leerinhouden:
Datacommunicatiemodel:
-basisbegrippen
-basiselementen datatransmissie
  -verband tussen bandbreedte en capaciteit
-fysieke media en hun eigenschappen.
  -snelheid
  -beperkingen
-modulatie en codering
-multiplexen
-topologiën:
  -point-to-point
  -multipoint met gemeenschappelijk kanaal
-voorbeelden van topologiën:
  -point-to-point: bv. RS-232-C
  -multipoint: bv. Ethernet

Leerinhouden:
Voorbeelden aan de hand van de TCP/IP protocolsuite.
-Adressering (IP-adressen):
  -IP-adres, netmask, netwerkadres, broadcast-adres
  -sub- en supernetting
-Werking van de TCP en IP protocollen.
  -packetswitching: IP
  -virtual circuitswitching: TCP

Leerinhouden:    
Datacommunicatie in de praktijk.
-Het OSI-model in de praktijk
-ontstaan en evolutie van Internet
  -verschil internet, extranet en intranet
-netwerkbeveiliging
-servers en werkstations

Methodologische wenken:
Deze module dient een inleiding te vormen in de datacommunicatie-
wereld. 
In de modules Netwerkbeheer 1 en 2 (A.10 - N.2) wordt de opgedane
kennis aan de praktijk getoetst. 
Het is echter niet de bedoeling een zuiver theoretische cursus te
geven. 
Praktijkvoorbeelden kunnen veel duidelijk maken: bijvoorbeeld
  -traces van een packetsniffer
  -verschillende interfaces
	</screen>
</section>
<?hard-pagebreak?>
<section><title>boeken</title>
	<para>Dit leerplan wordt bijna volledig besproken in het boek <command>computernetwerken</command><indexterm><primary>computernetwerken</primary></indexterm> van <command>Andrew S. Tanenbaum</command><indexterm><primary>Andrew S. Tanenbaum</primary></indexterm> ISBN 90 395 0557 8 (in het Engels: Computer Networks, ISBN 0-13-066102-3).</para>
	<para>Ook <command>Cisco</command><indexterm><primary>Cisco</primary></indexterm> heeft boeken (ter voorbereiding van hun CCNA examens) die de materie uit het leerplan in detail bespreken.</para>
	<para>Laat me ook nog <command>Communications Systems and Networks</command> vermelden van <command>Ray Horak</command> (ISBN 0 7645 7522 8), ook dit boek behandelt grotendeels de materie uit het leerplan.</para>
	<para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/boeken.jpg" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	</para>
	<para>Je bent niet verplicht om deze boeken aan te schaffen!</para>
</section>
<section><title>wikipedia</title>
	<para>De meeste begrippen die in deze cursus besproken worden, worden ook vrij goed uitgelegd op <command>wikipedia</command><indexterm><primary>wikipedia</primary></indexterm>.</para>
	<para>Wikipedia is niet altijd betrouwbaar, maar dan gaat het vooral over informatie betreffende personen, bedrijven, regeringen, politiek, religie, economie enz. Wat betreft informatica en computernetwerken, is wikipedia over het algemeen correct. De Engelstalige wikipedia is meestal wel vollediger dan de Nederlandstalige.</para>
</section>
</section>
<?hard-pagebreak?>
<section><title>terminologiebad</title>
	<para>Er gaat een blad rond, met daarop de volgende woorden. Iedere student kiest een woord en legt dit uit aan de klas. Andere studenten mogen op deze uitleg reageren.</para>
<screen>802.11
arpanet
broadcast
bsd
dhcp
dns
e-mail
ethernet
http
hub
internet
intranet
ip-adres
ipsec
isdn
kilobyte
lan - wan
layer 2 switch
leerplan
linux
loopback
mac
modem
multicast
nic
operating system
osi-model
packet switching
peer-to-peer
pop3
port 80
rfc
rfc 2131
router
server
smtp
sniffer
solaris
T1
unicast
unix
vpn
wep
wikipedia
windows nt
zeroconf</screen>
</section>
<?hard-pagebreak?>
<section><title>operating system</title>
	<para>Het leerplan vraagt dat u vertrouwd bent met de werking van een <command>operating system</command>.</para>
	<section><title>besturingssysteem</title>
		<para>Het Engelse woord <command>operating system</command><indexterm><primary>operating system</primary></indexterm> wordt in het Nederlands vertaald als <command>besturingssysteem</command><indexterm><primary>besturingssysteem</primary></indexterm>.</para>
		<para>Een <command>besturingssysteem</command> is zelf software, geschreven door programmeurs. Meer informatie vindt u op wikipedia <command>http://nl.wikipedia.org/wiki/Besturingssysteem</command>.</para>
		<para>Een besturingssysteem bestaat uit een <command>kernel</command><indexterm><primary>kernel</primary></indexterm> omringd door applicaties en gegevens. Deze <command>kernel</command> is software die geschreven is om de <command>hardware</command><indexterm><primary>hardware</primary></indexterm> te besturen, het <command>geheugen</command><indexterm><primary>geheugen</primary></indexterm> te beheren en <command>applicaties</command> te beheren.</para>
		<para>Onder <command>hardware</command> verstaan we toestellen zoals een toetsenbord, een scherm, een muis, maar ook interne <command>onderdelen</command> zoals <command>cpu's</command>, <command>pci devices</command>, <command>scsi</command> en <command>ide</command> harde schijven en nog veel meer.</para>
		<para>Moderne <command>kernels</command> zoals Linux, Solaris en NT (Windows) herkennen heel wat hardware en schermen die volledig af van applicaties en gebruikers.</para>
	</section>
	<section><title>Microsoft Windows</title>
		<para>Hieronder een overzicht van (recente) Microsoft besturingssystemen. Deze kunnen grotendeels onderverdeeld worden in de (verouderde) opvolgers van <command>ms-dos</command><indexterm><primary>ms-dos</primary></indexterm> en de evolutie van <command>windows nt</command><indexterm><primary>windows nt</primary></indexterm>.</para>
<table frame='all'><title>ms-dos vs windows nt</title>
<?dbfo table-width="100%" ?>
<?dbfo fontsize="7px" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='jaar' colwidth="1*" align="center"/>
<colspec colname='DOS' colwidth="3*" align="center"/>
<colspec colname='NT' colwidth="3*" align="center"/>
<thead>
<row>
  <entry>jaar</entry>
  <entry>MS-DOS</entry>
  <entry>Windows NT</entry>
</row>
</thead>
<tbody>
<row>
  <entry>1991</entry>
  <entry>MS-DOS 5.0 + Windows 3.1</entry>
  <entry>OS/2 3.00</entry>
</row>
<row>
  <entry>1993</entry>
  <entry>&nbsp;</entry>
  <entry>Windows NT 3.1</entry>
</row>
<row>
  <entry>1994</entry>
  <entry>MS-DOS 6.22 + Windows 3.11</entry>
  <entry>Windows NT 3.5</entry>
</row>
<row>
  <entry>1995</entry>
  <entry>Windows 95</entry>
  <entry>Windows NT 3.51</entry>
</row>
<row>
  <entry>1997</entry>
  <entry>Windows 98</entry>
  <entry>Windows NT 4.0</entry>
</row>
<row>
  <entry>2000</entry>
  <entry>Windows ME</entry>
  <entry>Windows 2000 (NT 5.0)</entry>
</row>
<row>
  <entry>2001</entry>
  <entry>&nbsp;</entry>
  <entry>Windows XP (NT 5.1)</entry>
</row>
<row>
  <entry>2007</entry>
  <entry>&nbsp;</entry>
  <entry>Windows Vista (NT 6.0)</entry>
</row>
<row>
  <entry>2009</entry>
  <entry>&nbsp;</entry>
  <entry>Windows 7 (NT 6.1)</entry>
</row>
</tbody>
</tgroup>
</table>
		<para>De <command>ms-dos</command><indexterm><primary>ms-dos</primary></indexterm> lijn eindigde met <command>windows me</command><indexterm><primary>windows me</primary></indexterm>, maar deze versie werd door bijna iedereen snel van de computer afgegooid en weer vervangen door het immens populaire <command>windows 98</command><indexterm><primary>windows 98</primary></indexterm>.</para>
		<para>Wat de NT lijn betreft is <command>windows xp</command><indexterm><primary>windows xp</primary></indexterm> nog steeds veruit de meest gebruikte, meer dan dubbel zoveel als <command>windows vista</command><indexterm><primary>windows vista</primary></indexterm> en <command>windows 7</command><indexterm><primary>windows 7</primary></indexterm> tesamen.</para>
		<para>IBM en Microsoft werkten in de jaren tachtig samen aan <command>OS/2</command><indexterm><primary>OS/2</primary></indexterm>. Toen IBM werkte aan <command>OS/2 2.0</command> en Microsoft bezig was met OS/2 versie 3.00 eindigde de samenwerking. Even later in 1993 bracht Microsoft <command>OS/2 3.00</command> uit onder de naam <command>Windows NT 3.1</command> (gelijklopend met Windows 3.1).</para>
		<para>Enkele links:</para>
		<screen>
<command>http://nl.wikipedia.org/wiki/OS/2</command>
<command>http://nl.wikipedia.org/wiki/Windows</command>
<command>http://nl.wikipedia.org/wiki/MS-DOS</command>
<command>http://www.microsoft.com</command>
		</screen>
	</section>
	<section><title>Unix</title>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/unixbooks.jpg" format="EPS" align="center"></imagedata></imageobject></mediaobject>
		<para><command>Unix</command><indexterm><primary>Unix</primary></indexterm> werd in 1969 ontwikkeld door <command>Dennis Ritchie</command><indexterm><primary>Dennis Ritchie</primary></indexterm>, <command>Ken Thompson</command><indexterm><primary>Ken Thompson</primary></indexterm> en <command>Douglas McIlroy</command><indexterm><primary>Douglas McIlroy</primary></indexterm>, onder de naam <command>UNICS</command><indexterm><primary>UNICS</primary></indexterm> (Uniplexed Information and Computing System) in de befaamde <command>Bell Labs</command>.</para>
		<para>In de jaren tachtig maakte zowat elke grote firma zijn eigen versie van Unix (IBM AIX, HP HP-UX, Sun SunOS (later Solaris), Microsoft Xenix, etc). Vanaf midden jaren 70 was er een dispuut met de universitaire ontwikkelaars uit California. Deze hippies noemden hun Unix <command>BSD</command><indexterm><primary>bsd</primary></indexterm>, wat we vandaag nog terugvinden in <command>OpenBSD</command><indexterm><primary>openBSD</primary></indexterm>, <command>FreeBSD</command><indexterm><primary>freeBSD</primary></indexterm> en <command>NetBSD</command><indexterm><primary>netBSD</primary></indexterm> (ook MacOSX en Solaris hebben BSD-wortels).</para>
		<para>Wil je meer weten, google dan gerust op 'Unix history' of surf naar <command>wikipedia</command><indexterm><primary>wikipedia</primary></indexterm> of lees de inleiding over Unix op www.linux-training.be.</para>
	</section>
	<section><title>GNU/Linux</title>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/linuxbooks.jpg" format="EPS" align="center"></imagedata></imageobject></mediaobject>
		<para>Sinds 1991 is er <command>Linux</command><indexterm><primary>Linux</primary></indexterm>, of zeggen we beter <command>GNU/Linux</command><indexterm><primary>GNU/Linux</primary></indexterm> ? </para>
		<para>Het verhaal van <command>Linux</command> begint eigenlijk in de jaren 80 bij <command>Richard Stallman</command><indexterm><primary>Richard Stallman</primary></indexterm>. Hij vond het niet zo leuk dat de open samenwerking van begin jaren 70 in de Unix wereld moest plaats ruimen voor een gesloten 'ieder voor zich' mentaliteit. Hij wou een operating system dat vrij was : vrij om te gebruiken, vrij om te bestuderen, vrij om te wijzigen en vrij om te kopiëren. Het duurde tot de winter van 1991, toen <command>Linus Torvalds</command><indexterm><primary>Linus Torvalds</primary></indexterm> de Linux kernel schreef, vooraleer GNU/Linux geboren was.</para>
		<para>Richard schreef in de jaren 80 een licentie genaamd <command>GNU GPL</command><indexterm><primary>gpl</primary></indexterm> die bepaalt dat je software mag kopiëren zoveel je maar wil. Je mag GPL software ook verkopen, maar de persoon die dat koopt krijgt dezelfde rechten. Je mag ook sleutelen aan de <command>broncode</command><indexterm><primary>open source</primary></indexterm> van gpl software, op voorwaarde dat je jouw aanpassingen ook onder de <command>gpl licentie</command> naar buiten brengt.</para>
		<para>Deze software noemt men ook wel eens <command>vrije software</command><indexterm><primary>vrije software</primary></indexterm>, dit in tegenstelling tot gesloten software zoals Microsoft producten (waar je geen broncode krijgt, niets mag kopiëren en niets mag aanpassen aan de software).</para>
		<para>Meer weten hierover (strikt genomen behoort het niet tot het leerplan), surf dan naar:</para>
<screen>
http://nl.wikipedia.org/wiki/Vrije_software
http://nl.wikipedia.org/wiki/Richard_M._Stallman
http://nl.wikipedia.org/wiki/GNU_General_Public_License
http://people.mech.kuleuven.be/~bruyninc/ictvisie.html
http://nl.wikipedia.org/wiki/Linux
</screen>
	</section>
</section>
<?hard-pagebreak?>
<section><title>geschiedenis internet</title>
	<para>Het internet is meer dan <command>de blauwe e</command> op de Windows desktop. Het <command>internet</command><indexterm><primary>internet</primary></indexterm> bestaat sinds 1969 en omvat behalve het <command>World Wide Web</command><indexterm><primary>world wide web</primary></indexterm> ook diensten zoals <command>smtp (e-mail)</command><indexterm><primary>smtp</primary></indexterm>, <command>nntp (usenet/nieuwsgroepen)</command><indexterm><primary>nntp</primary></indexterm> en de laatste jaren vooral <command>torrents</command> voor het downloaden van vele gigabytes en terabytes.</para>
	<section><title>1969 arpanet</title>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/arpanet_1969.jpg" format="EPS" align="center"></imagedata></imageobject></mediaobject>
		<para>Het <command>arpanet</command><indexterm><primary>arpanet</primary></indexterm> was het eerste netwerk van computers dat gebruik maakte van <command>packet switching</command><indexterm><primary>packet switching</primary></indexterm> technologie. Eind 1969 waren vier computers verbonden op dit <command>inter-network</command>. </para>
		<para>Het <command>arpanet</command> groeide tot honderden verbonden computers in 1983 (toen werd het opgesplitst in het publieke arpanet en het militaire <command>milnet</command><indexterm><primary>milnet</primary></indexterm>).</para>
	</section>
	<section><title>packet switching</title>
		<para>Ter vervanging van vast toegewezen communicatiekanalen werd in de jaren 60 een nieuwe techniek ontwikkeld die alle gegevens die over een netwerk moeten getransporteerd worden opdeelt in kleine <command>packetjes</command><indexterm><primary>packet switching</primary></indexterm>. Elk packetje bepaalt onafhankelijk van alle andere packetjes zijn route naar zijn bestemming. Dit laat toe dat meerdere computers tegelijkertijd gebruik maken van dezelfde (fysische) communicatiekanalen.</para>
		<para>Beknopte uitleg op de Nederlandstalige wikipedia pagina, uitgebreide uitleg in het Engels.</para>
<screen>
http://nl.wikipedia.org/wiki/Packet_switching
http://en.wikipedia.org/wiki/Packet_switching
</screen>
	</section>
	<section><title>jaren 70</title>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/arpanet_1977.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
		<para>De jaren 70 zagen ook de creatie van het <command>X.25</command><indexterm><primary>X.25</primary></indexterm> netwerk, <command>fidonet</command><indexterm><primary>fidonet</primary></indexterm>, <command>compuserve</command>, <command>bulletin board systems</command><indexterm><primary>bbs</primary></indexterm> en <command>uucp</command><indexterm><primary>uucp</primary></indexterm>. Al deze netwerken zijn vandaag volledig opgegaan in het <command>internet</command><indexterm><primary>internet</primary></indexterm> en <command>tcp/ip</command><indexterm><primary>tcp/ip</primary></indexterm>.</para>
	</section>
	<section><title>tcp/ip</title>
		<para>Da jaren 70 waren ook de start voor het <command>tcp/ip</command> protocol. Deze protocol stack zullen we later uitgebreid bespreken.</para>
		<para>Vandaag gebruikt 99 procent van het internet <command>ipv4</command><indexterm><primary>ipv4</primary></indexterm> (Internet Protocol versie 4). De opvolger <command>ipv6</command><indexterm><primary>ipv6</primary></indexterm> is klaar, maar breekt nauwelijks door.</para>
	</section>
	<section><title>ncp en osi</title>
		<para>Op 1 januari 1983, ook gekend als <command>flag day</command>, werd het <command>ncp</command><indexterm><primary>ncp</primary></indexterm> protocol op internet vervangen door tcp/ip. Van dan af zal tcp/ip, een protocol-stack waarvan de ontwikkeling begon in 1969, het internet domineren. Dit ondanks pogingen eind jaren 80 om het nieuwe <command>osi protocol</command><indexterm><primary>OSI protocol</primary></indexterm> als standaard door te voeren.</para>
		<para>Terzijde ook even vermelden dat in de jaren 80 zowat elke grote computerfirma begon met een eigen protocol ; IBM met <command>SNA</command><indexterm><primary>SNA</primary></indexterm>, Novell met <command>IPX/SPX</command><indexterm><primary>ipx/spx</primary></indexterm>, Microsoft met <command>NetBEUI</command><indexterm><primary>NetBEUI</primary></indexterm>, Apple met <command>Appletalk</command><indexterm><primary>appletalk</primary></indexterm> en Banyan met <command>Vines</command><indexterm><primary>Banyan Vines</primary></indexterm>. Maar al deze protocols werden van de kaart geveegd door het oudere en open <command>tcp/ip</command>.</para>
	</section>
	<section><title>e-mail</title>
		<para>Reeds in 1965 bestond er <command>e-mail</command><indexterm><primary>e-mail</primary></indexterm> op mainframe computers. Het <command>@ teken</command> dateert uit 1971. In de jaren 70 kon je e-mailen tussen verschillende netwerken zoals arpanet, vnet(ibm), bitnet, nsfnet en alle computers die uucp of ncp spraken.</para>
		<para>Sinds 1982 bestaat e-mail als <command>SMTP (Simple Mail Transfer Protocol)</command><indexterm><primary>smtp</primary></indexterm>, gedefineerd oorspronkelijk in <command>rfc 821</command><indexterm><primary>rfc 821</primary></indexterm> (later meermaals uitgebreid).</para>

<screen>
http://nl.wikipedia.org/wiki/SMTP
http://en.wikipedia.org/wiki/SMTP 
http://www.rfc-editor.org/rfc/rfc821.txt
http://www.rfc-editor.org/rfc/rfc5321.txt
</screen>
	</section>
	<section><title>rfc</title>
		<para>Sinds 1969 maakt men voor elk internet protocol een <command>rfc (Request for Comments)</command>. Een <command>rfc</command><indexterm><primary>rfc</primary></indexterm> is een (ascii) tekstbestand en bepaalt de werking van alle protocols op het internet. Deze tekstbestanden zijn vrij te raadplegen en te implementeren. Enkele voorbeelden van protocols die bepaald zijn door een <command>rfc</command> zijn tcp, ip, ftp, udp, dns, smtp, ntp, dhcp, http en duizenden anderen.</para>
		<para>Op <command>www.rfc-editor.org</command><indexterm><primary>www.rfc-editor.org</primary></indexterm> vind je alle rfc's. Je kan ook rechtstreeks naar de tekstversie gaan als je de rfc nummer kent (zoals 2131 voor dhcp) via :</para>
<screen>http://www.rfc-editor.org/rfc/rfc2131.txt</screen>
		<para>Elke <command>rfc</command> bevat o.a. een datum, opgepast voor humor als je <command>1 april</command> ziet.</para>
	</section>
	<section><title>www</title>
		<para><command>Tim Berners Lee</command><indexterm><primary>Tim Berners Lee</primary></indexterm> vond dat <command>gopher</command><indexterm><primary>gopher</primary></indexterm> en <command>ftp</command><indexterm><primary>ftp</primary></indexterm> niet volstonden, dus kwam hij in 1989 op de proppen met het <command>World Wide Web</command><indexterm><primary>world wide web</primary></indexterm>. Toch was het nog wachten tot de release van eerst de <command>mosaic</command><indexterm><primary>mosaic</primary></indexterm> browser en nadien <command>netscape navigator</command><indexterm><primary>netscape</primary></indexterm> alvorens dit <command>www</command><indexterm><primary>www</primary></indexterm> populair werd. In de jaren 1996-1997 surft 90 procent van de internetbevolking met <command>Netscape Navigator</command><indexterm><primary>Netscape Navigator</primary></indexterm> op het world wide web.</para>
		<para>In 1995 kwam <command>Spyglass, Inc</command><indexterm><primary>SpyGlass</primary></indexterm> met de <command>internet explorer</command><indexterm><primary>internet explorer</primary></indexterm> browser op de markt. Deze browser werkte op <command>Windows 95</command> (zat in het <command>Plus pack</command>) en werd nadien gebundeld met <command>Windows 98</command>. Tussen 2001 en 2005 surft meer dan 90 procent van de internetbevolking met de <command>blauwe e</command> van <command>Internet Explorer 6</command> op het world wide web.</para>
		<para>Na jaren van <command>Netscape</command> dominantie en jaren van <command>Internet Explorer 6</command> dominantie is de browser wereld nu verdeeld. De cijfers voor 2010 volgens <command>NetApplications</command>, <command>W3C</command><indexterm><primary>W3C</primary></indexterm> en <command>StatCounter</command>:</para>
<screen>
                      NA   W3C  SC
Internet Explorer 6 : 16%   7%  25%
Internet Explorer 7 : 10%   8%  18%
Internet Explorer 8 : 28%  16%  11%
Moilla Firefox      : 23%  46%  31%
Google Chrome       : 8%   17%   8%
Safari              : 5%    4%   4%
Opera               : 3%    2%   2%
</screen>
	<para>Altijd opletten met statistieken!</para>
	</section>
	<section><title>web 2.0</title>
		<para>Sinds de opkomst van <command>myspace</command>, <command>orkut</command><indexterm><primary>orkut</primary></indexterm>, <command>linkedin</command><indexterm><primary>linkedin</primary></indexterm> en zeker <command>facebook</command><indexterm><primary>facebook</primary></indexterm> is het al <command>web 2.0</command> wat de klok slaat. We noemen deze nieuwe trend van <command>vriendjes maken</command> in het Engels <command>social networking</command><indexterm><primary>social networking</primary></indexterm>, soms ongelukkig vertaald in het Nederlands als <command>sociale netwerken</command>.</para>
		<para>De strijd om de gebruiker, die gewonnen leek door <command>Microsoft</command> met hun bijna monopolistische aandeel op de eindgebruikers' desktop, speelt zich nu vooral online af. <command>Google</command><indexterm><primary>Google</primary></indexterm>, <command>Microsoft</command>, <command>Yahoo</command> en vele anderen proberen nu ook met <command>web 2.0</command> technieken om het succes van <command>Facebook</command> te bereiken.</para>
	</section>
	<section><title>Wie bestuurt het internet ?</title>
		<section><title>IETF</title>
			<para>De <command>Internet Engineering Task Force</command><indexterm><primary>IETF</primary></indexterm> is een organisatie die <command>rfc</command><indexterm><primary>rfc</primary></indexterm>'s kan goedkeuren als zijnde een <command>internet standard protocol</command>.</para>
		</section>
		<section><title>ICANN</title>
			<para>De <command>Internet Corporation for Assigned Names and Numbers</command><indexterm><primary>ICANN</primary></indexterm> is een Amerikaanse organisatie die beslist over domeinnamen (DNS) en controle heeft over <command>IANA</command>. De voorganger van <command>ICANN</command> was <command>InterNIC</command><indexterm><primary>InterNIC</primary></indexterm>.</para>
		</section>
		<section><title>IANA</title>
			<para>De <command>Internet Assigned Numbers Authority</command> beslist wereldwijd over wie welke ip-adressen krijgt (via de RIR's), beheert de DNS root servers en controleert MIME-types.</para>
			<para>Hieronder een kaartje van de ip-adressen zoals ze verdeeld zijn. Dit is getekend door XKCD (een cartoonist).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/ipmap.jpg" format="EPS" align="center"></imagedata></imageobject></mediaobject>
		</section>
		<section><title>RIR</title>
			<para>Elke <command>Regional Internet Registry</command><indexterm><primary>RIR</primary></indexterm> krijgt ip-adressen van IANA en verdeelt die over een regio. Er zijn vijf van deze RIR in de wereld:</para>
<screen>
ARIN : USA + Canada
RIPE : Europa + USSR + Midden-Oosten
AFRINIC : Africa
LACNIC : Latijns Amerika
APNIC : Oceanie + Asia (zonder USSR/Midden Oosten)
</screen>
		</section>
	</section>
	<section><title>mensen</title>
		<section><title>Vint Cerf</title>
			<para><command>Vinton Gray Cerf</command><indexterm><primary>Vint Cerf</primary></indexterm> werkte van 1976 tot 1982 bij DARPA aan de ontwikkeling van tcp/ip. Sinds 2005 werkt hij voor Google. Hij is medeoprichter van ICANN en de uitvinder van de EOF byte en de ASCII tabel. Hij is ook auteur van heel wat RFC's, onder andere rfc2468. Samen met <command>Kahn, Kleinrock en Roberts</command> vormt hij de vier vaders van het internet.</para>
		</section>
		<section><title>Jon Postel</title>
			<para><command>Jon Postel</command><indexterm><primary>Jon Postel</primary></indexterm> is de man die in 1969 gestart was met de RFC's. Hij beheerde ook tot zijn dood in 1998 de IANA.</para>
			<para>Jon Postel is ook de man achter de uitspraak "wees conservatief in wat je zegt, en liberaal in wat je aanvaardt".</para>
			<screen>http://tools.ietf.org/html/rfc2468
http://www.postel.org/postel.html</screen>
		</section>
		<section><title>Tim Berners Lee</title>
			<para><command>Sir Tim Berners Lee</command><indexterm><primary>Tim Berners Lee</primary></indexterm> is de uitvinder van het <command>www</command><indexterm><primary>www</primary></indexterm> (samen met de onbekende Belg <command>Robert Cailliau</command><indexterm><primary>Robert Cailliau</primary></indexterm>).</para>
<screen>http://en.wikipedia.org/wiki/Tim_Berners_Lee
http://en.wikipedia.org/wiki/Robert_Cailliau</screen>
		</section>
		<section><title>Al Gore</title>
			<para>Ondanks de misplaatste grappen rond zijn uitspraak "I invented the internet" tijdens de presidentsverkiezingen van 2000 hoort <command>Al Gore</command><indexterm><primary>Al Gore</primary></indexterm> toch thuis in dit rijtje omdat hij tijdens de jaren 70, 80 en 90 de grote drijfveer was achter de commercialisatie van het internet.</para>
		</section>
	</section>
	<section><title>internet servers</title>
		<para>In tegenstelling tot de desktop markt waar <command>Microsoft</command> dominant is, draaien de overgrote meerderheid van internet webservers, internet dns-servers en internet routers een of andere vorm van <command>Unix</command><indexterm><primary>Unix</primary></indexterm>.</para>
	</section>
</section>
</chapter>
<chapter><title>terminologie</title>
<section><title>bit</title>
	<para>Een <command>bit</command><indexterm><primary>bit</primary></indexterm> is de kleinste eenheid van informatie in de informaticawereld. Een <command>bit</command> kan twee waarden aannemen : nul of een. Hieronder een tabel met alle mogelijk waarden van een <command>bit</command> en de manier waarop deze worden voorgesteld.</para>
<table frame='all'><title>de waarden van een bit</title>
<?dbfo table-width="60%" ?>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<thead>
<row>
  <entry>waarde</entry>
  <entry>voorstelling</entry>
</row>
</thead>
<tbody>
<row>
  <entry>nul</entry>
  <entry>0</entry>
</row>
<row>
  <entry>een</entry>
  <entry>1</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>byte</title>
	<para>Een <command>byte</command><indexterm><primary>byte</primary></indexterm> is acht <command>bits</command><indexterm><primary>bit</primary></indexterm> wordt wel eens gezegd. Maar zo eenvoudig is het niet. Toen <command>Werner Buchholz</command><indexterm><primary>Werner Buchholz</primary></indexterm> de term in 1956 voor het eerst gebruikte bedoelde hij letterlijk "een reeks bits die de computer kan verwerken" (of bijten). Heden is een <command>byte</command> altijd gelijk aan <command>acht bits</command>, maar in de jaren zeventig waren er computers met <command>bytes</command> van 4 tot 36 bits (de PDP 10 uit 1966 had 36-bit bytes).</para>
	<para>Een <command>byte</command> wordt ook wel een <command>octet</command><indexterm><primary>octet</primary></indexterm> genoemd. De volgende tabel toont termen die wel eens gebruikt worden in relatie tot een byte.</para>
<table frame='all'><title>de byte en zijn verwanten</title>
<?dbfo table-width="75%" ?>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="3*" align="center"/>
<colspec colname='c2' colwidth="6*" align="center"/>
<thead>
<row>
  <entry>naam</entry>
  <entry>aantal bits</entry>
</row>
</thead>
<tbody>
<row>
  <entry>nibble</entry>
  <entry>4</entry>
</row>
<row>
  <entry>byte</entry>
  <entry>8</entry>
</row>
<row>
  <entry>word (x86)</entry>
  <entry>16</entry>
</row>
<row>
  <entry>word (meestal)</entry>
  <entry>8, 16 of 32</entry>
</row>
<row>
  <entry>word (andere)</entry>
  <entry>9, 12, 18, 24, 36, 39, 40, 48 of 60</entry>
</row>
<row>
  <entry>dword (x86)</entry>
  <entry>32</entry>
</row>
<row>
  <entry>long word (68k)</entry>
  <entry>32</entry>
</row>
</tbody>
</tgroup>
</table>
	<para>De term <command>dword</command><indexterm><primary>dword</primary></indexterm> staat voor <command>double word</command><indexterm><primary>double word</primary></indexterm> en is op de <command>Intel</command><indexterm><primary>Intel</primary></indexterm><indexterm><primary>x86</primary></indexterm> architectuur gelijk aan <command>32 bits</command><indexterm><primary>32-bit</primary></indexterm>. Dit ondanks dat de fysische <command>word</command>-grootte nu <command>32 bits</command> of zelfs <command>64 bits</command><indexterm><primary>64-bit</primary></indexterm> is.</para>
	<para>Het <command>long word</command> was eind jaren 80 <command>32 bits</command> lang op de <command>Apple</command><indexterm><primary>Apple</primary></indexterm> en <command>Commodore Amiga</command><indexterm><primary>Commodore Amiga</primary></indexterm> computers met <command>68k</command><indexterm><primary>68k</primary></indexterm> processor.</para>
	<para>Wat deze cursus betreft is een <command>byte</command> steeds <command>8 bits</command><indexterm><primary>8-bit</primary></indexterm>. Verder spreken we niet over een <command>word</command> of zijn varianten, maar zullen we steeds het aantal <command>bits</command> aanduiden.</para>
</section>
<section><title>kilobyte</title>
	<section><title>1000 of 1024</title>
		<para>Hoeveel bytes is een <command>kilobyte</command><indexterm><primary>kilobyte</primary></indexterm> ? Sinds de beginjaren van de informatica was het antwoord hierop eenduidig <command>1024 bytes</command><indexterm><primary>1024 bytes</primary></indexterm>, toch als we praten over harde schijven en computer geheugen. (In de telecommunicatie en netwerkterminologie was een kilo gelijk aan 1000<indexterm><primary>1000 bytes</primary></indexterm>. Zo is de kilo in <command>kilobits per seconde</command> gelijk aan 1000.)</para>
		<para>Maar eind jaren negentig beginnen enkele makers van harde schijven veelvouden van 1000 te gebruiken i.p.v. 1024. Als voorbeeld drie harde schijven in mijn desktop computer. De eerste is een 60GB Seagate, de tweede een 80GB Maxtor en de derde een 200GB Western Digital. In veelvouden van 1000 geeft dit:</para>
<screen>ST: 60.0 GB, 60022480896 bytes
Maxtor: 81.9 GB, 81964302336 bytes
WDC: 200.0 GB, 200049647616 bytes</screen>
		<para>In veelvouden van 1024 kom je op respectievelijk 56GB, 76GB en 186GB.</para>
		<para>De reden om 1000 te gebruiken i.p.v. 1024 is simpele marketing: hoe groter de harde schijven, hoe groter het verschil!</para>
<table frame='all'><title>veelvouden van 1000 of 1024</title>
<?dbfo table-width="80%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="3*" align="center"/>
<colspec colname='c2' colwidth="3*" align="center"/>
<colspec colname='c2' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>1000</entry>
  <entry>1024</entry>
  <entry>verschil</entry>
</row>
</thead>
<tbody>
<row>
  <entry>1000</entry>
  <entry>1024</entry>
  <entry>2,4 procent</entry>
</row>
<row>
  <entry>1000000</entry>
  <entry>1048576</entry>
  <entry>4,9 procent</entry>
</row>
<row>
  <entry>1000000000</entry>
  <entry>1073741824</entry>
  <entry>7,4 procent</entry>
</row>
<row>
  <entry>1000000000000</entry>
  <entry>1099511627776</entry>
  <entry>10 procent</entry>
</row>
</tbody>
</tgroup>
</table>
	</section>
	<section><title>kibibyte</title>
		<para>Er kwam een einde aan de verwarring (not!) toen de <command>IEC</command><indexterm><primary>IEC</primary></indexterm> in 1999 (met update in 2000 en tweede update in 2005) begon met een standaard die in 2008 samen met de <command>IEEE</command><indexterm><primary>IEEE</primary></indexterm>, de <command>ISO</command><indexterm><primary>ISO</primary></indexterm> en het <command>SI</command><indexterm><primary>SI</primary></indexterm> het volgende besliste: kilo = 1000 en kibi = 1024, behalve voor RAM geheugen en cache geheugen (en SD-kaartjes....).</para>
		<para>In de praktijk wordt nog steeds gesproken over <command>1024 bytes</command><indexterm><primary>1024 bytes</primary></indexterm> in elke <command>kilobyte</command>, tenzij je een harde schijf koopt.</para>
	</section>
<?hard-pagebreak?>
	<section><title>megabytes en meer</title>
		<para>Een <command>megabyte</command><indexterm><primary>megabyte</primary></indexterm> is dus 1000 maal 1000 bytes, een <command>gigabyte</command><indexterm><primary>gigabyte</primary></indexterm> is 1000 <command>megabyte</command>, en een <command>terabyte</command><indexterm><primary>terabyte</primary></indexterm> is 1000 <command>gigabyte</command>. Toch als we de nieuwe standaard volgen. In de prakrijk wordt nog wel eens 1024 gebruikt i.p.v. 1000.</para>
		<para>Het rijtje gaat verder zoals je in deze tabellen kan zien.</para>
<table frame='all'><title>megabytes en meer</title>
<?dbfo table-width="60%" ?>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<thead>
<row>
  <entry>aantal bytes</entry>
  <entry>binair</entry>
</row>
</thead>
<tbody>
<row>
  <entry>1000</entry>
  <entry>kilobyte</entry>
</row>
<row>
  <entry>1000 kilo</entry>
  <entry>megabyte</entry>
</row>
<row>
  <entry>1000 mega</entry>
  <entry>gigabyte</entry>
</row>
<row>
  <entry>1000 giga</entry>
  <entry>terabyte</entry>
</row>
<row>
  <entry>1000 tera</entry>
  <entry>petabyte</entry>
</row>
<row>
  <entry>1000 peta</entry>
  <entry>exabyte</entry>
</row>
<row>
  <entry>1000 exa</entry>
  <entry>zettabyte</entry>
</row>
<row>
  <entry>1000 zetta</entry>
  <entry>yottabyte</entry>
</row>
</tbody>
</tgroup>
</table>

<table frame='all'><title>mebibytes en meer</title>
<?dbfo table-width="60%" ?>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<thead>
<row>
  <entry>aantal bytes</entry>
  <entry>binair</entry>
</row>
</thead>
<tbody>
<row>
  <entry>1024</entry>
  <entry>kibibyte</entry>
</row>
<row>
  <entry>1024 kilo</entry>
  <entry>mebibyte</entry>
</row>
<row>
  <entry>1024 mega</entry>
  <entry>gibibyte</entry>
</row>
<row>
  <entry>1024 giga</entry>
  <entry>tebibyte</entry>
</row>
<row>
  <entry>1024 tera</entry>
  <entry>pebibyte</entry>
</row>
<row>
  <entry>1024 peta</entry>
  <entry>exbibyte</entry>
</row>
<row>
  <entry>1024 exa</entry>
  <entry>zebibyte</entry>
</row>
<row>
  <entry>1024 zetta</entry>
  <entry>yobibyte</entry>
</row>
</tbody>
</tgroup>
</table>
	<para>Wikipedia heeft een uitgebreid overzicht van de kilo-1000 versus kilo-1024 geschiedenis en de geboorte van <command>kibibytes</command><indexterm><primary>kibibyte</primary></indexterm> en <command>zebibytes</command><indexterm><primary>zebibyte</primary></indexterm>.</para>
	<screen>http://en.wikipedia.org/wiki/Binary_prefix</screen>
	</section>
</section>
<?hard-pagebreak?>
<section><title>zender en ontvangers</title>
	<para>Alle vier deze termen worden regelmatig gebruikt in datacommunicatie en netwerken om aan te duiden welk bereik een zender heeft.</para>
	<section><title>unicast</title>
		<para>Gaat een signaal naar een eenduidige unieke bestemming, dan is dit een <command>unicast</command><indexterm><primary>unicast</primary></indexterm>. Heel wat datacommunicatie bestaat uit <command>unicast</command> berichten tussen twee computers.</para>
	</section>
	<section><title>multicast</title>
		<para>Is het signaal bedoeld voor leden van een welbepaalde groep, dan spreken we over een <command>multicast</command><indexterm><primary>multicast</primary></indexterm>.</para>
	</section>
	<section><title>broadcast</title>
		<para>Wanneer een signaal gestuurd wordt naar iedereen heet dit <command>broadcast</command><indexterm><primary>broadcast</primary></indexterm>. Let wel op dat je duidelijk bepaalt wie 'iedereen' is. Als we de klas even beschouwen als 'iedereen', dan is een bericht dat de hele klas bereikt een <command>broadcast</command> in de klas. Als we echter alle klassen in de school beschouwen als 'iedereen', dan is een bericht dat de hele klas bereikt, maar niet de hele school, geen <command>broadcast</command>.</para>
	</section>
	<section><title>anycast</title>
		<para>Nieuw tegenwoordig, en in de praktijk gebruikt door de <command>root name servers</command><indexterm><primary>root servers(DNS)</primary></indexterm> van internet is de <command>anycast</command><indexterm><primary>anycast</primary></indexterm>. Een <command>anycast</command> is een signaal naar de dichtstbijzijnde van een groep.</para>
	</section>
</section>
<?hard-pagebreak?>
<section><title>lan-wan-man</title>
	<section><title>lan</title>
		<para>Een <command>lan </command><indexterm><primary>LAN</primary></indexterm> (Local Area Network) is een lokaal netwerk. Dit kan een klaslokaal zijn, of een verdieping, of zelfs een gebouw. Men spreekt over een <command>lan</command> omdat de computers dicht bij elkaar staan. Heden wordt een <command>lan</command> meestal bepaald doordat de computers verbonden zijn met <command>ethernet</command>.</para>
		<para>Een <command>lan</command> kan bestaan uit meerdere kleine <command>lan</command>'s.</para>
	</section>
	<section><title>wan</title>
		<para>Een <command>wan</command><indexterm><primary>WAN</primary></indexterm> (Wide Area Network) is een netwerk waar de computers ver uit elkaar staan. Deze computers zijn dikwijls verbonden via <command>gehuurde lijnen</command>. Een <command>wan</command> is dus het omgekeerde van een <command>lan</command>. Een <command>wan</command> gebruikt geen <command>ethernet</command> maar andere protocols zoals <command>FDDI</command><indexterm><primary>fddi</primary></indexterm>, <command>Frame Relay</command><indexterm><primary>frame relay</primary></indexterm>, <command>ATM</command><indexterm><primary>atm</primary></indexterm> of <command>X.25</command><indexterm><primary>X.25</primary></indexterm> om computers te verbinden die enkele of enkele duizenden kilometers van elkaar verwijderd zijn.</para>
		<para>De term <command>wan</command> wordt ook gebruikt voor netwerken die een groot oppervlak bestrijken, zoals het <command>internet</command>, ook al gebruiken deze netwerken <command>tcp/ip</command>.</para>
		<para><command>Cisco</command><indexterm><primary>Cisco</primary></indexterm> is vooral gekend voor <command>wan</command> technologie, zij maken <command>routers</command><indexterm><primary>router</primary></indexterm> die onder andere <command>lan</command> netwerken verbinden via <command>wan</command> protocols.</para>
	</section>
	<section><title>man</title>
		<para>Een <command>man</command><indexterm><primary>MAN</primary></indexterm> (Metropolitan Area Network) is een term die soms gebruikt wordt voor een netwerk dat meerdere gebouwen in dezelfde agglomeratie omvat.</para>
	</section>
	<section><title>pan-can-wpan</title>
		<para>Heel soms wordt er gesproken over een <command>pan</command><indexterm><primary>PAN</primary></indexterm> (Personal Area Network) of een <command>can</command> (Campus Area Network). Een draadloze <command>pan</command> is een <command>wpan</command><indexterm><primary>WPAN</primary></indexterm>.</para>
	</section>
</section>
<?hard-pagebreak?>
<section><title>topologie van een netwerk</title>
	<para>Meer info en mooie tekeningen op Wikipedia:</para>
	<screen>http://nl.wikipedia.org/wiki/Netwerktopologie
http://en.wikipedia.org/wiki/Network_topology</screen>
	<section><title>punt tot punt</title>
		<para>De eenvoudigste topologie van een netwerk is een <command>point-to-point</command><indexterm><primary>point-to-point</primary></indexterm> verbinding tussen twee toestellen. Bijvoorbeeld een telefoonverbinding op het oude telefoonnetwerk (<command>circuit switched</command><indexterm><primary>circuit switched</primary></indexterm>). Deze verbinding is meestal dynamisch, maar kan ook permanent zijn, zoals de rode telefoon.</para>
		<para>We spreken ook van een <command>punt-tot-punt</command><indexterm><primary>punt-tot-punt</primary></indexterm> verbinding als je twee computers verbindt met een <command>seriële</command><indexterm><primary>seriële verbinding</primary></indexterm> of een <command>parallelle</command><indexterm><primary>parallelle verbinding</primary></indexterm> kabel, of als je de netwerkkaarten rechtstreeks verbindt. Ook een klassieke <command>modem</command> verbinding tussen twee computers is een <command>punt-tot-punt</command> verbinding.</para>
		<para>Niet te verwarren met <command>peer-to-peer</command> waar een applicatie zorgt voor overzicht tussen de <command>peers</command>.</para>
	</section>
	<section><title>bus</title>
		<para>In een <command>bus</command><indexterm><primary>bus(netwerk)</primary></indexterm> netwerk is elke computer verbonden met dezelfde kabel (meestal een coax kabel). Aan de twee eindes van de <command>bus</command> zit dan een <command>terminator</command>. Met <command>T-stukjes</command><indexterm><primary>T-stuk(coax)</primary></indexterm> kan je dan computers bij op de kabel plaatsen. Er kan slechts één computer tegelijk gebruik maken van de <command>bus</command>. Als twee computers tegelijk zenden, dan botsen de signalen tegen elkaar. Deze botsing heet een <command>collision</command><indexterm><primary>collision</primary></indexterm>.</para>
	</section>
	<section><title>ster</title>
		<para>Van zodra we een centraal toestel hebben zoals een <command>hub</command><indexterm><primary>hub</primary></indexterm>, <command>switch</command><indexterm><primary>switch</primary></indexterm> of <command>MAU</command><indexterm><primary>mau</primary></indexterm> spreken we van een <command>ster</command><indexterm><primary>ster(netwerk)</primary></indexterm> netwerk. Elke computer heeft een eigen kabel naar dit centrale toestel.</para>
		<para>In theorie kan je de <command>point-to-point</command> topologie beschouwen als een ster met één arm.</para>
	</section>
	<section><title>ring</title>
		<para>Een <command>ring</command><indexterm><primary>ring(netwerk)</primary></indexterm> topologie bestaat uit toestellen die elk met twee andere toestellen verbonden zijn, en wel zo dat ze een ring vormen. Gegevens gaan van de ene <command>node</command> naar de volgende, en zo de hele ring rond. Een probleem met één verbinding kan de hele ring platleggen.</para>
		<para>Typisch voorbeeld hier is een <command>Token Ring</command><indexterm><primary>Token Ring</primary></indexterm> netwerk. Deze technologie van IBM bestond fysisch uit een <command>ster</command> topologie met centrale <command>MAU</command><indexterm><primary>MultiStation Access Unit</primary></indexterm> (Multistation Access Unit) en speciale <command>token ring</command> kabels naar elke computer. Logisch gezien vormden de computers een ring. Telkens was er één computer die het <command>token</command><indexterm><primary>token</primary></indexterm> had, deze computer kon zenden op de <command>ring</command>.</para>
	</section>
	<section><title>tree</title>
		<para>Een netwerk kan ook hierarchisch georganiseerd zijn, zoals een boomstructuur. We spreken dan van een <command>tree</command><indexterm><primary>tree(netwerk)</primary></indexterm> met een <command>root node</command> aan de top van de boomstructuur. Type voorbeeld is de logische structuur van <command>DNS</command> servers op internet.</para>
	</section>
	<section><title>mesh</title>
		<para>Elke computer in een <command>mesh</command> kan met vele (of alle) andere computers verbonden zijn.</para>
		<para>Een <command>mesh</command><indexterm><primary>mesh</primary></indexterm> netwerk bestaat dus uit computers die allen dienst kunnen doen als <command>router</command><indexterm><primary>router</primary></indexterm>.</para>
	</section>
	<section><title>hybride</title>
		<para>Elke combinatie van bovenstaande architecturen die niet onder één van deze valt, noemt men een <command>hybride</command><indexterm><primary>hybride netwerk</primary></indexterm> netwerk.</para>
	</section>
</section>
<?hard-pagebreak?>
<section><title>telefoon en data</title>
	<section><title>pstn</title>
		<para>In tegenstelling tot het internet is het originele <command>pstn</command><indexterm><primary>PSTN</primary></indexterm> (Public Switched Telephone Network) een <command>circuit-switched</command><indexterm><primary>circuit switched</primary></indexterm> netwerk. Elk telefoongesprek eiste een nagenoeg fysieke verbinding tussen de twee sprekers.</para>
		<para>Dit oude analoge telefoonnetwerk, ook wel <command>pots</command><indexterm><primary>POTS</primary></indexterm> (Plain Old Telephone Service) genoemd, werd gebouwd met simpele <command>twisted pair</command><indexterm><primary>twisted pair</primary></indexterm> koperdraden om de menselijke stem over te brengen. Dit netwerk draagt golven tussen 300 en 3400 <command>Hertz</command><indexterm><primary>Hertz</primary></indexterm>, wat overeenkomt met een <command>bandbreedte</command> van 3100 Hertz.</para>
		<para>Omdat dit netwerk (geluids)golven rechtstreeks als communicatie gebruikt, noemt men dit een analoog netwerk.</para>
	</section>
	<section><title>twisted pair ?</title>
		<para>Deze oude <command>twisted pair</command> is een paar koperdraden waar af en toe een draai in zit. Niet te verwarren met moderne <command>stp</command><indexterm><primary>stp</primary></indexterm> of <command>utp</command><indexterm><primary>utp</primary></indexterm> kabels die heel wat meer <command>twists</command> bevatten.</para>
	</section>
	<section><title>modem</title>
		<para>Een <command>modem</command><indexterm><primary>modem</primary></indexterm> is een toestel dat een digitaal apparaat, bijvoorbeeld een computer, verbindt met het analoge telefoonnetwerk. Aan de andere kant staat eveneens een modem die het geluid op het telefoonnetwerk weer omzet in (digitale) bytes. Op die manier kunnen twee computers verbonden worden.</para>
		<para>Tegenwoordig zijn er ook <command>modems</command> die niet met geluid werken, zoals <command>adsl-modems</command> en <command>kabelmodems</command>. Later volgt er een les die meer uitlegt geeft over allerhande <command>modems</command>.</para>
	</section>
	<section><title>ppp</title>
		<para>Het <command>Point-to-Point Protocol</command><indexterm><primary>point-to-point-protocol</primary></indexterm> zit in <command>laag 2</command><indexterm><primary>layer 2</primary></indexterm> van het <command>OSI Model</command><indexterm><primary>OSI-model</primary></indexterm> en kan twee computers met elkaar verbinden via het telefoonnetwerk of via een seriële kabel. <command>ppp</command><indexterm><primary>ppp</primary></indexterm> werd veel gebruikt voor <command>dial up</command><indexterm><primary>dial up</primary></indexterm> toegang tot internet.</para>
		<para>Het <command>ppp</command> protocol is ontworpen om behalve met <command>ip</command> ook te werken met <command>ipx/spx</command><indexterm><primary>ipx/spx</primary></indexterm> en <command>appletalk</command><indexterm><primary>appletalk</primary></indexterm>. Meer info op Wikipedia of <command>rfc-editor.org</command><indexterm><primary>rfc-editor.org</primary></indexterm>.</para>
		<screen>http://www.rfc-editor.org/rfc/rfc1661.txt</screen>
		<para>Voor <command>ppp</command> was er <command>slip</command><indexterm><primary>slip</primary></indexterm> om <command>ip</command> packetjes in te pakken zodat ze over een seriële kabel of modem konden verstuurd worden. De meeste <command>Unix</command><indexterm><primary>Unix</primary></indexterm> computers ondersteunen dit nog steeds.</para>
		<screen>http://www.rfc-editor.org/rfc/rfc1055.txt</screen>
	</section>
	<section><title>isdn</title>
		<para>Het <command>isdn</command> ofte <command>Integrated Services Digital Network</command><indexterm><primary>isdn</primary></indexterm> is recenter dan <command>pots</command><indexterm><primary>pots</primary></indexterm> en is digitaal. Oorspronkelijk was <command>isdn</command> enkel te verkrijgen in stedelijke gebieden, de dag van vandaag is het overbodig gemaakt door <command>(a)dsl</command><indexterm><primary>adsl</primary></indexterm> en internet via de <command>kabel</command>.</para>
		<para>Een isdn <command>bearer(B)</command><indexterm><primary>bearer(ISDN)</primary></indexterm> kanaal heeft een bandbreedte van <command>64kb/s</command>, en wordt met de letter B aangegeven. De meest courante isdn connecties werden genoteerd als <command>2B+D</command><indexterm><primary>2B+D(isdn)</primary></indexterm>, wat betekent dat er twee <command>bearer</command> kanalen van <command>64kb/s</command> voorzien zijn, samen met een <command>16kb/s</command> <command>data(D)</command><indexterm><primary>data(isdn)</primary></indexterm>. Deze <command>16kB/s</command> link wordt ook <command>bri</command> of <command>Basic Rate Interface</command><indexterm><primary>bri(isdn)</primary></indexterm> genoemd.</para>
	</section>
	<section><title>kb of kB ?</title>
		<para>Noteer even dat <command>kb</command><indexterm><primary>kb</primary></indexterm> hier de afkorting is van <command>kilobits</command><indexterm><primary>kilobits</primary></indexterm> en <command>kB</command> staat voor <command>kiloBytes</command><indexterm><primary>kiloBytes</primary></indexterm>. In beide gevallen staat de <command>k</command> of <command>kilo</command> voor 1000, dat was vroeger al zo, en is volgens de nieuwe regels nog steeds zo.</para>
		<para>Als je <command>b(bits)</command> en <command>B(bytes)</command> verwarring wil vermijden, gebruik dan steeds <command>kilobits</command> of <command>kilobytes</command> i.p.v. van <command>kb</command> of <command>kB</command>.</para>
	</section>
	<section><title>T1</title>
		<para>Een <command>T1</command><indexterm><primary>T1</primary></indexterm> is een <command>23B+D</command><indexterm><primary>23B+D(isdn)</primary></indexterm> <command>isdn</command> verbinding in de Verenigde Staten. En ook al spreekt men van een <command>T1</command> in de rest van de wereld, eigenlijk gebruikt men dan een <command>E1</command><indexterm><primary>E1(isdn)</primary></indexterm> ofte <command>30B+D</command><indexterm><primary>30B+D(isdn)</primary></indexterm>. Een <command>T1/E1</command> noemt men ook een <command>PRI (Primary Rate Interface)</command><indexterm><primary>pri(isdn)</primary></indexterm>.</para>
	</section>
	<section><title>T3</title>
		<para>Een <command>T3</command><indexterm><primary>T3</primary></indexterm> lijn is een <command>gehuurde lijn</command><indexterm><primary>gehuurde lijn</primary></indexterm> met een bandbreedte van <command>44.736 Mbit</command> per seconde. Dit type verbinding wordt meestal gebruikt tussen providers en telefoonmaatschappijen onderling.</para>
	</section>
</section>
<?hard-pagebreak?>
<section><title>oefening</title>
	<para>Als oefening rekenen we even de totale bandbreedte van deze verbindingen.</para>
	<para>Hoe lang duurt het om een bestand van 1 kilobyte, 1 megabyte, 1 gigabyte en 1 gibibyte te copiëren langs een 9.6k modem, een 64k isdn modem, een T1, een E1, een 10Mbit LAN, een 100Mbit LAN en een 1gigabit LAN ?</para>
<table frame='all'><title>weinig data over netwerken</title>
<?dbfo table-width="99%" ?>
<tgroup cols='5' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="3*" align="center"/>
<colspec colname='c2' colwidth="2*" align="center"/>
<colspec colname='c3' colwidth="2*" align="center"/>
<colspec colname='c4' colwidth="2*" align="center"/>
<colspec colname='c5' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>medium</entry>
  <entry>1 KB</entry>
  <entry>1 MB</entry>
  <entry>1 GB</entry>
  <entry>1 GiB</entry>
</row>
</thead>
<tbody>
<row>
  <entry>9.6 modem</entry>
  <entry>0,83"</entry>
  <entry>13'53"</entry>
  <entry>9d15u28'</entry>
  <entry>10d8u33'</entry>
</row>
<row>
  <entry>isdn modem</entry>
  <entry>0,13"</entry>
  <entry>2'5"</entry>
  <entry>34u43'20"</entry>
  <entry>37u16'58"</entry>
</row>
<row>
  <entry>T1</entry>
  <entry></entry>
  <entry>5,43"</entry>
  <entry>1u30'35"</entry>
  <entry>1u37'16"</entry>
</row>
<row>
  <entry>E1</entry>
  <entry></entry>
  <entry>4,17"</entry>
  <entry>1u09'27"</entry>
  <entry>1u14'34"</entry>
</row>
<row>
  <entry>10Mbit LAN</entry>
  <entry></entry>
  <entry>0,8"</entry>
  <entry>13'20"</entry>
  <entry>14'19"</entry>
</row>
<row>
  <entry>100Mbit LAN</entry>
  <entry></entry>
  <entry></entry>
  <entry>1'20"</entry>
  <entry>1'25"</entry>
</row>
<row>
  <entry>1Gbit LAN</entry>
  <entry></entry>
  <entry></entry>
  <entry>8"</entry>
  <entry>8,59"</entry>
</row>
</tbody>
</tgroup>
</table>
	<para>Idem voor een terabyte, een exabyte en een zettabyte (veelvouden van duizend dus).</para>
<table frame='all'><title>veel data over netwerken</title>
<?dbfo table-width="99%" ?>
<tgroup cols='4' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="center"/>
<colspec colname='c2' colwidth="2*" align="center"/>
<colspec colname='c3' colwidth="2*" align="center"/>
<colspec colname='c4' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>medium</entry>
  <entry>1 TB</entry>
  <entry>1 EB</entry>
  <entry>1 ZB</entry>
</row>
</thead>
<tbody>
<row>
  <entry>9.6 modem</entry>
  <entry>26 jaar 155 dagen</entry>
  <entry>26,4 miljoen jaar</entry>
  <entry>26,4 miljard jaar</entry>
</row>
<row>
  <entry>isdn modem</entry>
  <entry>3jaar 351 dagen</entry>
  <entry>3,9 miljoen jaar</entry>
  <entry>3,9 miljard jaar</entry>
</row>
<row>
  <entry>T1</entry>
  <entry>62 dagen 21 uur</entry>
  <entry>172 duizend jaar</entry>
  <entry>172 miljoen jaar</entry>
</row>
<row>
  <entry>E1</entry>
  <entry>48 dagen 5 uur</entry>
  <entry>132 duizend jaar</entry>
  <entry>132 miljoen jaar</entry>
</row>
<row>
  <entry>10Mbit LAN</entry>
  <entry>9d6u13'</entry>
  <entry>25 duizend jaar</entry>
  <entry>25 miljoen jaar</entry>
</row>
<row>
  <entry>100Mbit LAN</entry>
  <entry>22u13'20"</entry>
  <entry>2536 jaar</entry>
  <entry>2,536 miljoen jaar</entry>
</row>
<row>
  <entry>1Gbit LAN</entry>
  <entry>2u13'20"</entry>
  <entry>238j8m5d</entry>
  <entry>253 duizend jaar</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
</chapter>
<chapter><title>derde les</title>
<section><title>OSI model</title>
	<para>Elke cursus over datacommunicatie en netwerken bespreekt het <command>OSI-model</command><indexterm><primary>OSI-model</primary></indexterm>, deze cursus is daarop geen uitzondering.</para>
	<para>In 1977 richtte de <command>ISO</command><indexterm><primary>ISO</primary></indexterm> (International Organization for Standardization) het <command>OSI</command><indexterm><primary>OSI</primary></indexterm> (Open Systems Interconnection) op. Het <command>OSI</command> creerde een zeven-lagen model om de werking van computernetwerken te beschrijven. De zeven lagen zijn (van 7 naar 1) Application, Presentation, Session, Transport, Network, Data Link en Physical. </para>
	<para>Er is heden geen populair protocol dat de zeven lagen ook effectief correct implementeert. In de praktijk worden vooral de lagen twee en drie vernoemd om toestellen duidelijk te onderscheiden.</para>
	<para>We bespreken elke laag (layer) even apart.</para>
	<section><title>layer 7: application</title>
		<para>De <command>application layer</command><indexterm><primary>application layer</primary></indexterm> beschrijft applicaties. Op het internet vandaag betekent dat protocols zoals dns, http, ntp, smtp, snmp, ssh, ftp, X, pop3, imap, irc, telnet en tftp. Dit is de laag die de gebruiker 'ziet' in de vorm van toepassingen.</para>
	</section>
	<section><title>layer 6: presentation</title>
		<para>De <command>presentation layer</command><indexterm><primary>presentation layer</primary></indexterm> beschrijft data-formaten. De presentatielaag zorgt bij de ontvanger dat de data wordt samengesteld in een formaat dat de applicatie begrijpt.</para>
		<para>Het <command>MIME</command><indexterm><primary>mime</primary></indexterm> protocol (rfc2046) dat toelaat om bestandsformaten (die meekomen met email of websites) te identificeren hoort ook in deze laag. Dankzij <command>MIME</command> komt je applicatie te weten of de <command>attachment</command> een <command>jpeg</command> foto of een <command>mp3</command> geluidje is.</para>
	</section>
	<section><title>layer 5: session</title>
		<para>De <command>session layer</command><indexterm><primary>session layer</primary></indexterm> beschrijft sessies tussen <command>hosts</command>. Als je een website bezoekt, dan heeft jou computer een <command>sessie</command> met de webserver.</para>
		<para>Een <command>host</command><indexterm><primary>host</primary></indexterm> op internet kan omschreven worden als elk toestel dat een <command>ip-adres</command> heeft, maar zelf geen <command>router</command><indexterm><primary>router</primary></indexterm> is.</para>
	</section>
	<section><title>layer 4: transport</title>
		<para>De <command>transport layer</command><indexterm><primary>transport layer</primary></indexterm> beschrijft het knip en plakwerk om data te segmenteren in segmenten (of <command>datagrams</command>). Typisch vandaag vind je hier de <command>tcp</command><indexterm><primary>tcp</primary></indexterm> en <command>udp</command><indexterm><primary>udp</primary></indexterm> protocollen.</para>
		<para>Deze laag zorgt dat elk stukje data genummerd is, zodat de zender de in stukjes geknipte data mooi terug kan opbouwen.</para>
	</section>
	<section><title>layer 3: network</title>
		<para>Met de <command>network layer</command><indexterm><primary>network layer</primary></indexterm> komen we in een boeiende materie. Het <command>IP</command><indexterm><primary>ip</primary></indexterm> protocol nestelt zich in deze laag en zal in de cursus uitgebreid besproken worden. We zullen ook <command>IpSec</command><indexterm><primary>ipsec</primary></indexterm>, <command>icmp</command><indexterm><primary>icmp</primary></indexterm> en <command>igmp</command><indexterm><primary>igmp</primary></indexterm> kort bespreken en demonstreren.</para>
		<para>Deze laag is verantwoordelijk voor de adressering van individuele packetjes, en zorgt ervoor dat packetjes van de bron tot aan de bestemming komen (bijvoorbeeld van je laptop naar een webserver).</para>
	</section>
	<section><title>layer 2: data link</title>
		<para>Ook de <command>data link</command><indexterm><primary>data link layer</primary></indexterm> laag gaat regelmatig onze aandacht opeisen. Deze laag zorgt voor de communicatie tussen computers (of nodes) die rechtstreeks met elkaar verbonden zijn (zoals de computers in deze klas, of nodes aan beide uiteinden van een T1 leased line).</para>
		<para>We bespreken in de les later het <command>arp</command><indexterm><primary>arp</primary></indexterm> protocol van deze laag. We zullen zien dat <command>arp</command> de verbinding is tussen laag 3 (ip) en laag 2(mac).</para>
		<para>In deze laag vinden we ook het <command>mac-adres</command><indexterm><primary>mac</primary></indexterm> van onze <command>ethernet</command> netwerkkaart. Het <command>ethernet</command> protocol zelf zit ook in deze laag, en zorgt voor de link naar laag 1.</para>
		<para>Ook <command>isdn</command><indexterm><primary>arp</primary></indexterm>, <command>ppp</command><indexterm><primary>ppp</primary></indexterm>, <command>slip</command><indexterm><primary>slip</primary></indexterm>, <command>fddi</command><indexterm><primary>fddi</primary></indexterm>, <command>frame relay</command><indexterm><primary>frame relay</primary></indexterm> en <command>ATM</command><indexterm><primary>ATM</primary></indexterm> vinden we hier terug.</para>
	</section>
	<section><title>layer 1: physical</title>
		<para>De <command>physical layer</command><indexterm><primary>physical layer</primary></indexterm> beschrijft stekkers en elektromagnetische signalen van een fysieke verbinding tussen nodes.</para>
		<para>In deze laag vinden we bijvoorbeeld <command>ethernet</command><indexterm><primary>ethernet</primary></indexterm>, <command>wi-fi</command><indexterm><primary>wi-fi</primary></indexterm>, <command>twisted pair</command><indexterm><primary>twisted pair</primary></indexterm> en <command>modems</command><indexterm><primary>modem</primary></indexterm>, adsl<indexterm><primary>adsl</primary></indexterm>, isdn<indexterm><primary>isdn</primary></indexterm>, T1<indexterm><primary>T1</primary></indexterm>, gsm, bluetooth<indexterm><primary>bluetooth</primary></indexterm>, firewire<indexterm><primary>firewire</primary></indexterm>, usb<indexterm><primary>usb</primary></indexterm> en irda<indexterm><primary>irda</primary></indexterm>.</para>
		<para>Sommige protocols komen voor in meer dan 1 laag, omdat ze functionaliteiten hebben die op meerdere lagen van toepassing zijn. Zo beschrijft onder andere het <command>ATM</command> protocol zowel laag 1 als laag 2.</para>
	</section>
</section>

<section><title>osi-model versus DoD</title>
	<para>Het zeven-lagen model van het OSI is verdrongen door het vier-lagen model van <command>tcp/ip</command><indexterm><primary>tcp/ip</primary></indexterm>. Deze protocol stack is vooral in de jaren zeventig ontwikkeld door <command>DARPA</command><indexterm><primary>DARPA</primary></indexterm>(Defense Advanced Research Projects Agency), een onderdeel van het Amerikaanse Department of Defense (DoD). Vandaar dat het <command>tcp/ip</command> model ook wel het <command>DoD model</command><indexterm><primary>DoD model</primary></indexterm> wordt genoemd.</para>
<para>De vier lagen van dit model zijn : Application (ongeveer laag 5-6-7 osi), Transport (ongeveer laag 4), Internet (osi laag 3) en Link Layer (osi laag 2). Op het internet zijn heel wat grafiekjes te vinden die beide lagen naast elkaar zetten, sommige doen dit correcter dan anderen.</para>
</section>

<section><title>sniffer</title>
	<para>Op het netwerk, op de bekabeling, reizen vele packetjes (hopelijk) naar hun bestemming. Als je een <command>sniffer</command> gebruikt, dan kan je al deze packetjes zien (en bewaren). Een <command>sniffer</command><indexterm><primary>sniffer</primary></indexterm> is dus een software die toelaat dat je alles ziet wat er gebeurt op het netwerk. </para>
	<para>De gekendste en meest gebruikte <command>sniffer</command> heet <command>wireshark</command><indexterm><primary>wireshark</primary></indexterm> (vroeger <command>ethereal</command><indexterm><primary>ethereal</primary></indexterm>). We zullen deze <command>sniffer</command> in de klas gebruiken om meer inzicht te krijgen in een netwerk.</para>
	<para>!!!! Vraag toelating alvorens op een bedrijfsnetwerk een sniffer te gebruiken !!!!</para>
</section>
<?hard-pagebreak?>
<section><title>op de computer</title>
	<para>1. Installeer wireshark op de computer (google voor wireshark).</para>
	<para></para>
	<para>2. Open via "Start - cmd" een <command>command prompt</command> op Windows, of open een <command>shell</command> op Unix. Laat deze open staan, we zullen er later commandos in uitvoeren.</para>
	<para></para>
	<para>3. Noteer het ip-adres van jou computer en van je buurman. Gebruik hiervoor op Windows het commando <command>ipconfig</command> in een command prompt. Op Unix, Linux, MacOSX kan je <command>ifconfig</command> gebruiken.</para>
	<para></para>
	<para>4. Start wireshark, en start in wireshark een capture.</para>
	<para></para>
	<para>5. Open een website en controleer dat je vanalles ziet in wireshark (roep anders de leraar). Zo weet je zeker dat wireshark werkt. Je moet nog niet begrijpen wat je allemaal ziet, we bespreken dat later stap voor stap.</para>
	<para></para>
	<para>6. Werk even samen met je buurman voor deze vraag. Start op beide computers een nieuwe capture. Deze oefening is makkelijker als je geen browser (internet explorer of firefox) hebt open staan (want dit zorgt soms voor veel packetjes in wireshark). Gebruik het commando <command>ping ip-adres-buurman</command>  op 1 van de computers (niet op beide!), naar de andere computer.</para>
	<para></para>
	<para>7. Welke packetjes heb je in wireshark gezien door het uitvoeren van die ping ? Normaalgezien moet er twee <command>arp</command> packetjes zijn voor de ping (icmp packetjes).</para>
	<para></para>
	<para>8. Doe een ping naar een onbestaand ip-adres (bv 192.168.0.109). Wat zie je nu in wireshark ?</para>
	<para></para>
	<para>9. Je kan in wireshark een filter instellen om niet te veel packetjes te zien, bijvoorbeeld <command>arp or icmp</command>. Je kan elke lijn in wireshark selecteren en dan onderaan meer details zien. Ken je het ip-adres of het mac-adres vinden in de gesnuffelde packetjes ?</para>
	<para></para>
	<para>10. Wat zie je als je het commando <command>arp</command> (of arp -a) uitvoert ?</para>
	<para></para>
	<para>11. Doe een ping naar google.com. Wat zie je nu in de uitvoer van <command>arp</command> ?</para>
	<para></para>
	<para>12. Open nu het leerplatform, zorg dat je uitgelogd bent. Start een nieuwe capture en log dan in op het leerplatform. Stop de capture en bestudeer de boeiende informatie die je nu hebt zoals :</para>
	<para>Naam van de website :</para>
	<para>Besturingssysteem van de webserver :</para>
	<para>Besturingssysteem van jou pc :</para>
	<para>MAC adres van jou pc :</para>
	<para>Webserver software :</para>
	<para>Browser op jou pc :</para>
	<para>ip-adres van de webserver :</para>
	<para>ip-adres van jou pc :</para>
	<para>De poort gebruikt om de webserver te bereiken :</para>
	<para>De poort gebruikt om terug naar je client te gaan :</para>
	<para>Jou gebruikersnaam :</para>
	<para>Jou paswoord :</para>
	<para></para>
	<para>13. Waarom zie je het MAC-adres van de webserver niet ?</para>
	<para></para>
	<para>14. Welk ander MAC-adres zie je dan wel ?</para>
	<para></para>
	<para>Iedereen die met een sniffer tussen jou pc en de webserver zit kan dezelfde informatie zien. De mensen die de webserver beheren, beschikken ook over deze informatie...</para>
	<para></para>
	<para>15. Probeer het paswoord te sniffen van een gmail of hotmail account. Waarom lukt dit niet ?</para>
	<para></para>
	<para>16. Kopieer een tekstbestand van de ene computer naar de andere. Kan je dit bestand ook lezen via de sniffer ?</para>
	<para></para>
	<para>17. Kan je ook tekstbestanden lezen die andere computers in de klas naar elkaar sturen ? Waarom wel of waarom niet ?</para>
	<para></para>
	<para></para>
</section>
<?hard-pagebreak?>
<section><title>toestellen en lagen</title>
<para>In een netwerk vinden we heel wat toestellen (devices). We zetten ze even laag per laag op een rijtje. </para>
	<section><title>physical</title>
		<para>Toestellen in laag 1 zijn in principe onzichtbaar op ons netwerk. We kunnen ze niet allemaal eenvoudig met software detecteren. We vinden hier onder andere de <command>netwerkkaart</command><indexterm><primary>netwerkkaart</primary></indexterm>, de <command>repeater</command><indexterm><primary>repeater</primary></indexterm>, de <command>hub</command><indexterm><primary>hub</primary></indexterm> en de <command>modem</command><indexterm><primary>modem</primary></indexterm>.</para>
		<para>De <command>netwerkkaart</command> of <command>nic (Network Interface Card)</command><indexterm><primary>nic</primary></indexterm> of ook <command>network adapter</command><indexterm><primary>network adapter</primary></indexterm> is tegenwoordig een vast onderdeel elke computer. De netwerkkaart ontvangt electrische signalen en zet deze om in bytes (en omgekeerd). De netwerkkaart controleert ook of een packetje van het netwerk wel voor haar is of niet. Indien niet, dan gooit de netwerkkaart dit packetje weg (<command>drop</command><indexterm><primary>drop</primary></indexterm>).</para>
		<para>De meeste netwerkkaarten vandaag zijn <command>ethernet</command><indexterm><primary>ethernet</primary></indexterm> kaarten met een 48-bit uniek <command>mac-adres</command><indexterm><primary>mac</primary></indexterm>. Enkele jaren terug waren ook <command>Token Ring</command><indexterm><primary>Token Ring</primary></indexterm> kaarten courant in gebruik.</para>
		<para>Een <command>repeater</command><indexterm><primary>repeater</primary></indexterm> is een versterker. Elektrische signalen verzwakken, dus als de netwerkkabel te lang is, dan kan een repeater het signaal versterken.</para>
		<para>Een <command>hub</command><indexterm><primary>hub</primary></indexterm> wordt ook wel een <command>multiport repeater</command><indexterm><primary>multiport repeater</primary></indexterm> genoemd. Net zoals een <command>repeater</command> zal ook een hub het elektrische signaal versterken. Daar waar een repeater tussen twee kabels zit, zit een hub tussen meerdere kabels, en versterkt hij het signaal naar alle verbonden kabels.</para>
		<para>Hubs kunnen <command>actief</command> of <command>passief</command> zijn. Een passieve hub versterkt het elektrische signaal, en logischerwijs ook de ruis op het kanaal. Teveel passieve hubs achter elkaar zorgt voor een te grote versterking van de ruis, waardoor het signaal verloren kan gaan.</para>
		<para>Een <command>actieve hub</command><indexterm><primary>hub (actief)</primary></indexterm> is slimmer dan een <command>passieve hub</command><indexterm><primary>hub (passief)</primary></indexterm>. In plaats van het signaal gewoon te versterken, leest een actieve hub de bits van een signaal, en stuurt deze bits naar alle verbonden kanalen. Op deze manier treedt er geen ruisversterking op.</para>
		<para>Een <command>modem</command><indexterm><primary>modem</primary></indexterm> (<command>modulator/demodulator</command><indexterm><primary>moduleren</primary></indexterm>) is een toestel dat (in het geval van een <command>pots-modem</command>) bits omzet in geluid, en omgekeerd aan de andere kant van de lijn dit geluid weer omzet in dezelfde bits.</para>
		<para>Een <command>kabel modem</command> zoals die van Telenet of Brutele vertaalt bits naar frequenties die oorspronkelijk bedoeld waren om TV-signalen door te sturen. Ook <command>ADSL</command><indexterm><primary>adsl</primary></indexterm> modems gebruiken een frequentie die buiten de menselijke stem liggen.</para>
	</section>
	<section><title>data link</title>
		<para>In deze laag vinden we toestellen zoals een <command>bridge</command><indexterm><primary>bridge</primary></indexterm> en een <command>switch</command><indexterm><primary>switch</primary></indexterm>. In dat laatste geval uiteraard een <command>layer 2 switch</command>.</para>
		<para>Een <command>bridge</command> en <command>switch</command> zijn beide slimmer dan een hub of repeater, in de zin dat deze laatste niet weten wat een mac-adres is. Een bridge en een switch interpreteren het mac-adres om te weten of (in het geval van de bridge) en waar (in het geval van de switch) ze het packetje doorsturen.</para>
		<para>Een echte bridge is zeldzaam vandaag (want een switch kan alles wat een bridge kan).</para>
	</section>
	<section><title>network</title>
		<para>De <command>router</command><indexterm><primary>router</primary></indexterm> en de <command>layer 3 switch</command><indexterm><primary>layer 3 switch</primary></indexterm> zijn typische layer 3 toestellen. Toestellen in deze laag weten wat een ip-adres is, en kunnen uiteraard ook alles wat <command>layer 2 devices</command> kunnen.</para>
		<para>Een echte router verbind netwerken (bijvoorbeeld ethernet met T1, of ADSL met WiFi), maar de term wordt ook gebruikt voor ethernet-ethernet toestellen.</para>
		<para>Een layer 3 switch kent bijvoorbeeld <command>icmp</command><indexterm><primary>icmp</primary></indexterm> en wordt ook gebruikt om sniffen van het netwerk te verhinderen.</para>
	</section>
	<section><title>hogere lagen</title>
		<para>Een <command>gateway</command><indexterm><primary>gateway</primary></indexterm> is een toestel dat protocols vertaalt, bijvoorbeeld <command>NetBIOS</command> naar <command>tcp/ip</command>.</para>
	</section>
</section>
<?hard-pagebreak?>
<section><title>vierde les ?</title>
<section><title>onze data op reis</title>
	<para>Dit hoofdstuk beschrijft zeer beknopt de weg die onze data bewandelt als we in een <command>browser</command><indexterm><primary>browser</primary></indexterm> zoals <command>firefox</command><indexterm><primary>firefox</primary></indexterm> een webpagina van de VRT (van teletekst) bekijken. Je kan dit hoofdstuk bekijken als een beknopt overzicht van de hele cursus, alles wat we in de cursus bekijken is wel ergens in dit verhaal te plaatsen.</para>
	<section><title>laag 7: applicatie</title>
		<para>De reis begint in de bovenste laag. Dat is laag 7, de applicatielaag. We gebruiken als voorbeeld de applicatie genaamd <command>firefox</command><indexterm><primary>mozilla firefox</primary></indexterm> waarop pagina 525 van vrt teletekst open staat. Uiteraard bevindt de applicatie <command>firefox</command> zich in de bovenste laag.</para>
		<para>We klikten op het knopje <command>toon</command> om de pagina te verversen. Klikken op dat knopje stuurt een <command>http request</command><indexterm><primary>http</primary></indexterm> naar de vrt teletekst <command>webserver</command><indexterm><primary>webserver</primary></indexterm>. Het <command>layer 7 protocol</command><indexterm><primary>layer 7 protocol</primary></indexterm> waar webservers en web clients (aka browsers) mee werken is <command>http (hyper text transfer protocol)</command><indexterm><primary>http</primary></indexterm>. Onze data zakt naar laag 6.</para>
		<para>
	        <mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/pagina525.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	        </para>
	</section>
	<section><title>lagen 6 en 5: presentatie en sessie</title>
		<para>Deze lagen zijn nu niet van toepassing. Waarom niet ? Wel omdat we met <command>tcp/ip</command><indexterm><primary>tcp/ip</primary></indexterm> werken en niet met een 7-lagig osi protocol.</para>
		<para>In de volgende laag zien we hoe de <command>tcp</command><indexterm><primary>tcp</primary></indexterm> van <command>tcp/ip</command> toch een <command>sessie</command> opzet.</para>
	</section>
	<section><title>laag 4: transport</title>
		<para>Zoals eerder al geschreven vindt er in deze laag wat knip en plakwerk plaats. Alleen is het nu net een geval waar er niet moet geknipt worden. We vragen een webpagina aan een webserver, en deze vraag past perfect in een packetje, dus er moet niet geknipt worden. Het protocol aan het werk hier is <command>tcp (Transfer Control Protocol)</command><indexterm><primary>transfer control protocol</primary></indexterm>. </para>
		<para>Maar er gebeurt toch nog iets meer dan enkel de vraag sturen van <command>firefox</command> naar de vrt teletekst <command>webserver</command>. Het <command>tcp</command> protocol gaat eerst een <command>tcp sessie</command><indexterm><primary>tcp sessie</primary></indexterm> opzetten met de vrt webserver. We kunnen dit controleren door een <command>sniffer</command><indexterm><primary>sniffer</primary></indexterm> op te starten.</para>
		<para>
        	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/tcpsessie.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
        	</para>
        	<para>Je ziet drie <command>tcp packetjes</command> voordat het <command>http</command> packetje (wat ook een tcp packetje is) wordt verstuurd. <command>tcp</command> zet een sessie op door eerst een packetje te sturen met de vraag om een sessie op te zetten (SYN), hierop komt een antwoord van de VRT webserver (SYN,ACK) en als laatste wordt er vanuit mijn laptop nog een (ACK) gestuurd.</para>
		<para>In het screenshot hierboven zie je een <command>http GET</command><indexterm><primary>http</primary></indexterm> van pagina 511 i.p.v. pagina 525, maar dat heeft geen belang voor de theorie.</para>
	</section>
	<section><title>laag 3: network</title>
		<para>Onze vraag voor een webpagina moet terecht komen bij de <command>webserver</command> van de vrt. Deze computer staat niet in onze klas (en ook niet bij mij thuis). Het <command>ip</command> protocol zorgt voor de bezorging van het packetje ter plaatse in de Reyerslaan (waar deze vrt webserver staat).</para>
		<para>Om op de correcte plaats te geraken, is er een <command>ip-adres</command><indexterm><primary>ip adres</primary></indexterm> nodig. Het ip-adres van de vrt webserver is <command>193.191.175.137</command>. We vinden dit terug in elke packetje dat we naar de webserver van de vrt sturen, in de ruimte voorzien voor <command>destination IP-address</command>. Als bron ip-adres wordt telkens het ip-adres van mijn laptop thuis gebruikt, in dit geval <command>192.168.1.34</command>.</para>
		<para>Onze sniffer vertaalt de <command>hexadecimale code</command><indexterm><primary>hexadecimaal</primary></indexterm> die de computer gebruikt naar menselijk leesbare <command>decimale cijfers</command>.</para>
		<para>
        	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/ipadresvrt.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
		</para>
		<para>Hoe kan onze computer het <command>ip-adres</command> van de webserver van vrt teletekst kennen ? Daarvoor doet <command>tcp/ip</command><indexterm><primary>tcp/ip</primary></indexterm> een beroep op <command>dns</command><indexterm><primary>dns</primary></indexterm>. Indien je voor het eerst sinds een tijdje naar de website van teletekst gaat op <command>url</command> <command>http://teletekst.een.be</command>, zal er een <command>dns-query</command> gaan van onze computer naar onze lokale <command>DNS server</command><indexterm><primary>dns server</primary></indexterm>.</para>
		<para><command>DNS (Domain Name System)</command> wordt later uitgebreid besproken, maar het zou kunnen dat je hetvolgende ziet in de sniffer.</para>
		<para>
        	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/dnsteletekst.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
		</para>
	</section>
	<section><title>laag 2: data link</title>
		<para>De <command>OSI data link layer</command> is een deel van de <command>DoD link layer</command> van <command>tcp/ip</command>. In deze laag maken we gebruik van het <command>MAC</command><indexterm><primary>mac</primary></indexterm> adres van een netwerkkaart. Een <command>mac adres</command> is een fysisch adres dat ingebrand is in de netwerkkaart.</para>
		<para>Voordat ons eerste packetje kan vertrekken moet het <command>mac-adres</command> van de lokale bestemming gevonden worden. De webserver van vrt teletekst staat niet bij mij thuis, dus de lokale bestemming is mijn <command>router</command><indexterm><primary>router</primary></indexterm> (aka de adsl modem). Deze heeft <command>ip-adres</command> 192.168.1.1.</para>
		<para>Mijn laptop zal een <command>arp</command><indexterm><primary>arp</primary></indexterm> broadcast uitvoeren om het mac-adres te vinden van de computer met ip-adres 192.168.1.1. Mijn <command>router</command> zal hierop antwoorden. In een sniffer ziet dit er als volgt uit.</para>
		<para>
        	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/arpillyria.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
		</para>
	</section>
	<section><title>laag 1: physical</title>
		<para>De netwerkkaart is gelukkig als het packetje volledig is, en smijt het letterlijk op mijn lokaal netwerk. Fysisch is dit een broadcast, alle computers in het lokale netwerk ontvangen dit packetje, maar enkel de enige correcte bestemmeling zal het packetje ook aanvaarden. Die correcte bestemming is mijn lokale <command>router</command>.</para>
		<para>In de OSI wereld is dit een aparte laag, in de DoD wereld is dit een onderdeel van de <command>DoD link layer</command><indexterm><primary>link layer</primary></indexterm>.</para>
	</section>
</section>
<section><title>onze data onderweg</title>
	<para>Onze <command>http request</command><indexterm><primary>http</primary></indexterm> voor een teletekst pagina is nu onderweg van centrum Antwerpen naar de reyerslaan in Brussel. Het packetje springt van router tot router, totdat het op het netwerk van de <command>webserver</command> van de vrt zit.</para>
	<para>Je kan deze weg (de routers) bekijken door een <command>traceroute</command><indexterm><primary>traceroute</primary></indexterm> te doen. Hieronder zie je de uitvoer van het <command>traceroute</command> commando op mijn laptop.</para>
	<screen>traceroute to 193.191.175.137 (193.191.175.137), 30 hops max, 60 byte packets
1  illyria (192.168.1.1)  0.812 ms  1.285 ms  1.764 ms
2  213.219.148.1.adsl.dyn.edpnet.net (213.219.148.1) 26.453 ms 26.833 ms 27.216 ms
3  ndl2-rb01.edpnet.be (213.219.132.237)  27.655 ms  28.035 ms  28.412 ms
4  adslgwbe.edpnet.net (212.71.1.78)  28.924 ms  29.305 ms  29.798 ms
5  10ge.cr1.brueve.belnet.net (194.53.172.65)  30.165 ms  30.543 ms  30.888 ms
6  10ge.ar1.brucam.belnet.net (193.191.16.193)  31.991 ms  31.530 ms  31.960 ms
7  vrt.customer.brussels.belnet.net (193.191.4.189) 32.046 ms 9.004 ms 24.205 ms
8  * * *
9  * * *
	</screen>
	<para>Wat je ziet, is dat de eerste router <command>illyria</command> heet en <command>192.168.1.1</command> als ip adres heeft. Dit is mijn lokale <command>adsl modem</command><indexterm><primary>adsl</primary></indexterm> met ingebouwde router functie. Op de tweede lijn ziet u de andere kant van mijn adsl modem, de kant van mijn <command>internet service provider (ISP)</command> genaamd <command>edpnet</command><indexterm><primary>edpnet</primary></indexterm>.</para>
	<para>Daarna passeren we enkele routers van edpnet, om vervolgens te reizen naar <command>belnet</command>. Het Belgische <command>belnet</command><indexterm><primary>belnet</primary></indexterm> is een snel backbone netwerk waar o.a. universiteiten en openbare instellingen op aangesloten zijn.</para>
	<para>De laatste router die we zien heet <command>vrt.customer.brussels.belnet.net</command>. Uit deze naam kan je afleiden dat de VRT een klant is van <command>belnet</command> in Brussel.</para>
	<para>Nadien zien we enkel nog sterretjes, dat is omdat de <command>systeembeheerder</command> van de VRT beslist heeft om geen <command>traceroute</command> door zijn <command>firewall</command><indexterm><primary>firewall</primary></indexterm> te laten. Onze <command>http request</command> mag gelukkig wel door.</para>
</section>
<section><title>bestemming bereikt</title>
	<para>Als alles goed gaat, dan bereikt onze data (of onze <command>http request</command>) zijn bestemming. De laatste <command>router</command> gooit onze data op het lokale netwerk van de <command>webserver</command> van de VRT.</para>
	<para>De netwerkkaart van deze server converteert de elektrische signalen in bytes, en controleert of de eerste zes bytes wel overeenstemmen met haar <command>MAC adres</command><indexterm><primary>mac</primary></indexterm>. Dat is gelukkig juist, dus is het de beurt aan <command>IP</command>.</para>
	<para>Het <command>ip protocol</command> controleert of het <command>destination ip address</command> wel correct is, en dat is (gelukkig) weeral juist.</para>
	<para>Verdere <command>metadata</command> in het packetje vertelt deze computer dat het een <command>tcp packet</command> is, met als bestemming de <command>http-server</command><indexterm><primary>http</primary></indexterm>.</para>
	<para>De <command>http server (of webserver)</command> zelf zoekt dan de gevraagde webpagina, en stuurt deze webpagina als antwoord op onze vraag.</para>
</section>
<section><title>er komt antwoord</title>
	<para>De webserver heeft de bewuste <command>webpagina</command> klaar en wil een antwoord sturen naar mijn laptop. Deze computer kent mijn <command>ip-adres</command><indexterm><primary>ip adres</primary></indexterm> omdat dit meegeleverd is in het packetje als <command>source ip-address</command>.</para>
	<para>We zakken weer van de <command>applicatie-laag</command> (ja ook een http-server is een applicatie) naar beneden.</para>
	<para>Tussen haakjes, de <command>presentatie</command> van deze data aan de browser gebeurt met een <command>mime type</command>. Email berichten (en websites) bestaan al lang niet meer enkel uit <command>ascii</command><indexterm><primary>ascii</primary></indexterm> karakters, maar bevatten ook andere karakters, fotos, geluid en film.</para>
	<para><command>MIME (Multipurpose Internet Mail Extensions)</command><indexterm><primary>mime</primary></indexterm> defineert een mechanisme om deze inhoud te versturen over email (of zoals in ons voorbeeld over <command>http</command>). Je zou <command>mime</command> in <command>osi layer 6</command> kunnen zetten.</para>
	<para>De <command>tcp-sessie</command><indexterm><primary>tcp sessie</primary></indexterm> die mijn laptop heeft opgezet, die is er nog steeds. Het antwoord kan dus onmiddelijk door de <command>transport-laag</command> naar <command>ip</command>, of toch bijna. De gevraagde webpagina is immers te groot om in 1 packetje door te sturen, dus moet er geknipt en geplakt worden door <command>tcp</command>. Dit kan je zien in de sniffer als een opeenvolging van <command>tcp segment</command> packetjes, gevolgd door een <command>tcp ack</command><indexterm><primary>tcp</primary></indexterm>nowledgement.</para>
	<para>
        <mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/tcpknipplak.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	</para>
	<para>Het <command>ip</command><indexterm><primary>ip</primary></indexterm> protocol zal zorgen voor de terugweg van Brussel naar Antwerpen, eventueel via andere <command>routers</command>.</para>
	<para>Eens het antwoord terug op ons netwerk is, gaat de data van onder naar boven door de lagen, totdat onze <command>browser</command> de webpagina kan tonen.</para>
	<para></para>
</section>
</section>

<section><title>onbeantwoorde vragen</title>
	<para>Hoe weet de computer van de VRT dat het packetje naar de http-server moet ?</para>
	<para>Hoe weet mijn laptop voor welke applicatie het packetje is ?</para>
	<para>Hoe kan DNS weten waar die VRT webserver staat ?</para>
	<para>Wat is nat ?</para>
	<para>Hoe werkt een router ?</para>
	<para>Hoe kies je een correct ip-adres ? Thuis ? En op internet ?</para>
</section>
<section><title>tcp en udp</title>
	<para>Behalve <command>tcp</command> vinden we in <command>layer 4</command> ook nog <command>udp</command>. U hebt genoteerd dat alvorens een <command>http request</command> verstuurd wordt, er eerst een <command>tcp handshake</command> plaatsvind, maar dat er voor de <command>dns query</command> helemaal geen handshake was. Dat komt omdat <command>http</command> gebruikt maakt van <command>tcp</command> in <command>layer 4</command>, terwijl <command>dns</command> hier werkt bovenop <command>udp</command>.</para>
	<section><title>tcp</title>
		<para><command>tcp</command><indexterm><primary>tcp</primary></indexterm> staat voor <command>Transmission Control Protocol</command>. Het is een protocol dat een <command>connectie</command> opzet alvorens data te versturen. Als je zekerheid wil dat je packetjes aankomen, dan is <command>tcp</command> het aangewezen protocol. In de <command>tcp header</command> zit heel wat overhead. Als een <command>tcp packetje</command> niet aankomt, dan wordt het nogmaals verstuurd.</para>
		<para>De huidige <command>tcp</command> standaard werd vastgelegd in <command>rfc 793</command> van 1981.</para>
		<para>De <command>tcp triple handshake</command><indexterm><primary>tcp handshake</primary></indexterm> gaat steeds vooraf aan de <command>tcp</command> connectie. Dit wil zeggen dat er minstens vier packetjes over het netwerk gaan.</para>
	</section>
	<section><title>udp</title>
		<para>In tegenstelling tot <command>tcp</command> is er bij <command>udp</command><indexterm><primary>udp</primary></indexterm> geen connectie, en ook geen handshake. Men noemt <command>udp</command> een <command>connectionless</command> protocol.</para>
		<para><command>udp</command> heeft minder overhead dan <command>tcp</command> en is bijgevolg sneller voor het doorsturen van data. Maar <command>udp</command> doet geen controle of een packetje ook wel degelijk aankomt. Als een <command>udp</command> packetje zijn bestemming niet bereikt, dan ben je het kwijt.</para>
	</section>
	<section><title>oefening</title>
		<para>Bedenk zelf wanneer je udp zou gebruiken, en wanneer tcp.</para>
		<screen>
email van je manager ?




website van een klant ?




live radio uitzending van Clijsters tegen Henin ?




dns ?




		</screen>
	</section>
</section>
<section><title>ip adressen</title>
	<para>Een <command>ip-adres</command><indexterm><primary>ip adres</primary></indexterm> is een 32-bit getal dat als logisch adres aan een computer wordt gegeven. Een <command>ip adres</command> is de unieke identificatie van een <command>host</command> op laag 3.</para>
	<para>Theoretisch hebben we 4294967296 ip adressen (256*256*256*256). In decimale octetjes schrijven we dat van 0.0.0.0 tot 255.255.255.255, in hexadecimale bytes is dat van 00:00:00:00 tot FF:FF:FF:FF en binair is dat van 00000000.00000000.00000000.00000000 tot 11111111.11111111.11111111.11111111.</para>
</section>
<section><title>private en publieke adressen</title>
	<para>Om een geldig <command>ip adres</command> te hebben op het <command>internet</command>, moet je dit aankopen bij je lokale <command>RIR (Regional Internet Registry)</command><indexterm><primary>regional internet registry</primary></indexterm>. Voor Europa is dit <command>RIPE NCC (Réseaux IP Européens Network Coordination Centre)</command><indexterm><primary>ripe</primary></indexterm> in Amsterdam.</para>
	<para>In de meeste gevallen is het de <command>isp (Internet Service Provider)</command><indexterm><primary>isp</primary></indexterm> die deze aankoop doet, eindgebruikers merken daar weinig van.</para>
	<para>Niet alle <command>ip adressen</command> zijn geldig op internet. Sommige reeksen zijn gereserveerd voor speciale doeleinden.</para>
	<section><title>private adressen</title>
		<para>Er zijn drie reeksen gereserveerd voor <command>prive</command><indexterm><primary>private ip ranges</primary></indexterm> gebruik. Deze ip-adressen zijn niet te gebruiken op internet (ze werken niet). Technisch kan je zeggen dat routers op internet alle packetjes voor deze adresssen automatisch verwerpen.</para>
		<para>De drie reeksen zijn:</para>
<table frame='all'><title>private ip adressen</title>
<?dbfo table-width="90%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<colspec colname='c3' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>eerste ip adres</entry>
  <entry>laatste ip adres</entry>
  <entry>aantal adressen in de reeks</entry>
</row>
</thead>
<tbody>
<row>
  <entry>10.0.0.0</entry>
  <entry>10.255.255.255</entry>
  <entry>16777216 (+16 miljoen)</entry>
</row>
<row>
  <entry>172.16.0.0</entry>
  <entry>172.31.255.255</entry>
  <entry>1048576 (+1 miljoen)</entry>
</row>
<row>
  <entry>192.168.0.0</entry>
  <entry>192.168.255.255</entry>
  <entry>65536 (+65 duizend)</entry>
</row>
</tbody>
</tgroup>
</table>
		<para>De volledige definitie van deze reeksen vind u in <command>rfc 1918</command>.</para>
		<screen>http://www.rfc-editor.org/rfc/rfc1918.txt</screen>
	</section>
	<section><title>loopback adressen</title>
		<para>Elke <command>tcp/ip stack</command> heeft een virtuele <command>loopback interface</command>. Dit is een ip adres dat gebruikt wordt om naar de computer zelf te wijzen (en om te testen of <command>tcp/ip</command> wel werkend is).</para>
		<para>Meestal is dit <command>127.0.0.1</command><indexterm><primary>127.0.0.1</primary></indexterm>, vaak wijst de hele reeks echter naar ditzelfde adres.</para>
		<screen>
van 127.0.0.0 tot 127.255.255.255
		</screen>
		<para>Meestal wordt <command>localhost</command><indexterm><primary>localhost</primary></indexterm> vertaald naar <command>127.0.0.1</command>.</para>
	</section>
	<section><title>zeroconf adressen</title>
		<para>Een <command>zeroconf</command><indexterm><primary>zeroconf</primary></indexterm> adres wordt ook wel een <command>link local</command><indexterm><primary>link local</primary></indexterm> adres genoemd. Het is een ip adres dat begint met <command>169.254</command><indexterm><primary>169.254.x.y</primary></indexterm> en dan twee willekeurig gekozen bytes. Microsoft noemt dit <command>APIPA (Automatic Private IP Adressing)</command><indexterm><primary>apipa</primary></indexterm>.</para>
		<para>Een host die automatisch een ip adres zou moeten krijgen van <command>dhcp</command><indexterm><primary>dhcp</primary></indexterm>, maar dit niet krijgt, kan zichzelf van een <command>zeroconf</command> adres voorzien. De host zal op het lokale netwerk (de <command>local link</command>) eerst testen dat geen enkele andere host dit adres gebruikt, alvorens het aan zichzelf toe te wijzen.</para>
		<screen>
van 169.254.0.0 tot 169.254.255.255
		</screen>
		<para>Als een computer in de praktijk in een bedrijf een <command>zeroconf</command> adres heeft, dan wil dit meestal zeggen dat de netwerkbekabeling van de computer onderbroken is. Soms duidt zo'n adres op een probleem met de <command>dhcp server</command>.</para>
	</section>
	<section><title>Oefening</title>
		<para>Duid voor de volgende ip adressen aan waarvoor ze dienen (privaat, publiek, loopback of zeroconf)</para> 
<table frame='all'><title>oefening gereserveerde ip adressen</title>
<?dbfo table-width="70%" ?>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<thead>
<row>
  <entry>ip adres</entry>
  <entry>gereserveerd doel</entry>
</row>
</thead>
<tbody>
<row>
  <entry>192.168.244.16</entry>
  <entry>privaat</entry>
</row>
<row>
  <entry>195.238.2.21</entry>
  <entry></entry>
</row>
<row>
  <entry>169.254.33.42</entry>
  <entry></entry>
</row>
<row>
  <entry>127.0.0.1</entry>
  <entry></entry>
</row>
<row>
  <entry>9.33.42.12</entry>
  <entry></entry>
</row>
<row>
  <entry>10.11.12.13</entry>
  <entry></entry>
</row>
<row>
  <entry>171.191.42.33</entry>
  <entry></entry>
</row>
<row>
  <entry>172.18.33.42</entry>
  <entry></entry>
</row>
</tbody>
</tgroup>
</table>
	</section>
</section>
<section><title>classful addressing</title>
	<para><command>IP adressen</command><indexterm><primary>ip adres</primary></indexterm> zijn onverdeeld in klassen. Een adres van <command>klasse A</command><indexterm><primary>class A</primary></indexterm> begint binair met als meest significante bit een 0. Een <command>klasse B</command><indexterm><primary>class B</primary></indexterm> adres begint binair met 10, <command>klasse C</command><indexterm><primary>class C</primary></indexterm> met 110, <command>klasse D</command> met 1110 en tenslotte <command>klasse E</command> met 1111.</para>
<para>De eerste byte decimaal omgerekend komen we tot de volgende indeling van ip adressen:</para>
<table frame='all'><title>ip address classes</title>
<?dbfo table-width="80%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="left"/>
<colspec colname='c3' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>class</entry>
  <entry>first bit(s)</entry>
  <entry>first decimal byte</entry>
</row>
</thead>
<tbody>
<row>
  <entry>A</entry>
  <entry>0</entry>
  <entry>0-127</entry>
</row>
<row>
  <entry>B</entry>
  <entry>10</entry>
  <entry>128-191</entry>
</row>
<row>
  <entry>C</entry>
  <entry>110</entry>
  <entry>192-223</entry>
</row>
<row>
  <entry>D</entry>
  <entry>1110</entry>
  <entry>224-239</entry>
</row>
<row>
  <entry>E</entry>
  <entry>1111</entry>
  <entry>240-255</entry>
</row>
</tbody>
</tgroup>
</table>
<para>Alle ip adressen die beginnen met een getal lager dan 127 zijn dus klasse A adressen (onthou dat 127 zelf gereserveerd is voor de loopback adapter).</para>
<para><command>Oefening:</command> Duid voor de volgende ip adressen steeds de correcte klasse aan:</para>
<table frame='all'><title>oefening classful ip addressing</title>
<?dbfo table-width="70%" ?>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="3*" align="center"/>
<colspec colname='c2' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>ip adres</entry>
  <entry>klasse ?</entry>
</row>
</thead>
<tbody>
<row>
  <entry>192.168.42.33</entry>
  <entry></entry>
</row>
<row>
  <entry>9.101.12.01</entry>
  <entry>A</entry>
</row>
<row>
  <entry>188.33.42.33</entry>
  <entry></entry>
</row>
<row>
  <entry>9.42.12.33</entry>
  <entry></entry>
</row>
<row>
  <entry>230.19.4.42</entry>
  <entry></entry>
</row>
<row>
  <entry>11.19.6.200</entry>
  <entry></entry>
</row>
<row>
  <entry>191.192.193.194</entry>
  <entry></entry>
</row>
<row>
  <entry>134.0.0.42</entry>
  <entry></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>default subnet masks</title>
<para>Klasse A, B en C hebben een standaard <command>subnet mask</command><indexterm><primary>subnet mask</primary></indexterm>. Klasse A heeft een subnet mask waar de eerste 8 bits gelijk zijn aan 1 (en de rest aan 0). Bij klasse B zijn de eerste 16 bits een 1, en bij klasse C de eerste 24 bits.</para>
<para>Dit geeft ons de volgende tabel</para>
<table frame='all'><title>default subnet mask</title>
<?dbfo table-width="80%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='klasse' colwidth="2*" align="center"/>
<colspec colname='bits' colwidth="4*" align="center"/>
<colspec colname='subnet' colwidth="5*" align="center"/>
<thead>
<row>
  <entry>klasse</entry>
  <entry>aantal bits op 1</entry>
  <entry>default subnet mask</entry>
</row>
</thead>
<tbody>
<row>
  <entry>A</entry>
  <entry>8</entry>
  <entry>255.0.0.0</entry>
</row>
<row>
  <entry>B</entry>
  <entry>16</entry>
  <entry>255.255.0.0</entry>
</row>
<row>
  <entry>C</entry>
  <entry>24</entry>
  <entry>255.255.255.0</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>network id en host id</title>
	<para>Bij het uitvoeren van <command>ifconfig</command><indexterm><primary>ifconfig(Unix)</primary></indexterm> op een Unix/Linux en <command>ipconfig</command><indexterm><primary>ipconfig(MS)</primary></indexterm> op een MS Windows computer merkt U dat U steeds een <command>ip adres</command><indexterm><primary>ip adres</primary></indexterm> en en <command>subnet mask</command><indexterm><primary>subnet mask</primary></indexterm> krijgt. De combinatie van die twee bepaalt in welk netwerk een computer zich bevindt.</para>
	<para>Als het subnet mask gelijk is aan 255.0.0.0, dan vormt de eerste byte van het ip-adres aangevuld met nullen het <command>network id</command><indexterm><primary>network id</primary></indexterm>. Bij 255.255.0.0 als subnet mask zijn er twee bytes (aangevuld met nullen) die het <command>network id</command> vormen. Bij 255.255.255.0 zijn er drie bytes (en een nul) die het <command>network id</command> vormen.</para>
	<para>De rest van het ip-adres is dan het <command>host id</command>. Het <command>network id</command> bepaalt het netwerk waarin een computer zich bevind, het <command>host id</command><indexterm><primary>host id</primary></indexterm> is uniek voor een host binnen het netwerk.</para>
	<para>Een overzichtje met voorbeelden:</para>
<table frame='all'><title>network id en host id</title>
<?dbfo table-width="95%" ?>
<tgroup cols='4' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="center"/>
<colspec colname='c2' colwidth="3*" align="center"/>
<colspec colname='c3' colwidth="2*" align="center"/>
<colspec colname='c4' colwidth="1*" align="center"/>
<thead>
<row>
  <entry>ip adres</entry>
  <entry>default subnet mask</entry>
  <entry>network id</entry>
  <entry>host id</entry>
</row>
</thead>
<tbody>
<row>
  <entry>192.168.1.42</entry>
  <entry>255.255.255.0</entry>
  <entry>192.168.1.0</entry>
  <entry>42</entry>
</row>
<row>
  <entry>192.168.1.33</entry>
  <entry>255.255.255.0</entry>
  <entry>192.168.1.0</entry>
  <entry>33</entry>
</row>
<row>
  <entry>192.168.12.1</entry>
  <entry>255.255.255.0</entry>
  <entry>192.168.12.0</entry>
  <entry>1</entry>
</row>
<row>
  <entry>172.16.12.1</entry>
  <entry>255.255.0.0</entry>
  <entry>172.16.0.0</entry>
  <entry>12.1</entry>
</row>
<row>
  <entry>172.16.33.42</entry>
  <entry>255.255.0.0</entry>
  <entry>172.16.0.0</entry>
  <entry>33.42</entry>
</row>
<row>
  <entry>10.3.0.4</entry>
  <entry>255.0.0.0</entry>
  <entry>10.0.0.0</entry>
  <entry>3.0.4</entry>
</row>
<row>
  <entry>10.33.0.42</entry>
  <entry>255.0.0.0</entry>
  <entry>10.0.0.0</entry>
  <entry>33.0.42</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>Lokale computer of niet ?</title>
	<para>Wat is het nu van het kennen van een <command>network id</command>? Wel het <command>network id</command> bepaald of een computer lokaal in je netwerk staat of niet.</para>
	<para>Indien je wil communiceren met een andere computer, dan heb je zijn <command>ip-adres</command> nodig. Als die computer dan op hetzelfde netwerk zit, dan doe jou computer een <command>arp</command><indexterm><primary>arp</primary></indexterm> om het <command>MAC adres</command><indexterm><primary>MAC</primary></indexterm> van de andere computer te vinden. Als die computer echter op een ander netwerk zet, dan stuurt jou computer het packetje naar de <command>router</command>.</para>
	<para>Alvorens over te gaan tot een <command>arp</command> (voor die andere computer of voor de router) zal jou computer het <command>network id</command> van jou computer vergelijken met dat van de andere computer. Indien gelijk, dan betreft het een computer op hetzelfde netwerk, indien verschillend, dan staat die computer achter de <command>router</command><indexterm><primary>router</primary></indexterm>.</para>
	<para>Een overzichtje met voorbeelden (gebruik standaard subnet mask):</para>
<table frame='all'><title>locale or remote computer?</title>
<?dbfo table-width="98%" ?>
<tgroup cols='5' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' align="center"/>
<colspec colname='c2' align="center"/>
<colspec colname='c3' align="center"/>
<colspec colname='c4' align="center"/>
<colspec colname='c5' align="center"/>
<thead>
<row>
  <entry>computer A</entry>
  <entry>computer B</entry>
  <entry>network id A</entry>
  <entry>network id B</entry>
  <entry>lokaal ?</entry>
</row>
</thead>
<tbody>
<row>
  <entry>192.168.1.42</entry>
  <entry>192.168.1.33</entry>
  <entry>192.168.1.0</entry>
  <entry>192.168.1.0</entry>
  <entry>ja</entry>
</row>
<row>
  <entry>192.168.1.33</entry>
  <entry>192.168.12.1</entry>
  <entry>192.168.1.0</entry>
  <entry>192.168.12.0</entry>
  <entry>nee</entry>
</row>
<row>
  <entry>10.3.0.4</entry>
  <entry>10.33.0.42</entry>
  <entry>10.0.0.0</entry>
  <entry>10.0.0.0</entry>
  <entry>ja</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>subnet notatie</title>
	<para>We kunnen de notatie van <command>ip adres/subnet mask</command><indexterm><primary>cidr</primary></indexterm> afkorten als we voor de subnet mask enkel het aantal bits vernoemen dat op 1 staat. Zo wordt 255.0.0.0 gelijk aan /8, wordt 255.255.0.0 gelijk aan /16 en 255.255.255.0 gelijk aan /24.</para>
<para>Afgekort kunnen we dus 192.168.1.42/24 schrijven i.p.v. 192.168.1.42 met subnet mask 255.255.255.0 .</para>
<table frame='all'><title>cidr notatie</title>
<?dbfo table-width="80%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='klasse' colwidth="1*" align="center"/>
<colspec colname='bits' colwidth="2*" align="center"/>
<colspec colname='subnet' colwidth="1*" align="center"/>
<thead>
<row>
  <entry>klasse</entry>
  <entry>default subnet mask</entry>
  <entry>notatie</entry>
</row>
</thead>
<tbody>
<row>
  <entry>A</entry>
  <entry>255.0.0.0</entry>
  <entry>/8</entry>
</row>
<row>
  <entry>B</entry>
  <entry>255.255.0.0</entry>
  <entry>/16</entry>
</row>
<row>
  <entry>C</entry>
  <entry>255.255.255.0</entry>
  <entry>/24</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>computers in een netwerk tellen</title>
<para>Hoeveel computers kan je zetten in een netwerk ? Hou rekening met de <command>network id</command><indexterm><primary>network id</primary></indexterm> die zelf al een ip adres gebruikt. Elk netwerk heeft ook een <command>broadcast</command><indexterm><primary>broadcast</primary></indexterm> adres (alle decimale delen van het host id zijn dan 255).</para>
<para>Bijvoorbeeld:</para>

<table frame='all'><title>aantal computers in een subnet<indexterm><primary>subnet mask</primary></indexterm></title>
<?dbfo table-width="100%" ?>
<tgroup cols='4' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="7*" align="center"/>
<colspec colname='c2' colwidth="6*" align="center"/>
<colspec colname='c3' colwidth="7*" align="center"/>
<colspec colname='c4' colwidth="13*" align="center"/>
<thead>
<row>
  <entry>network</entry>
  <entry>network id</entry>
  <entry>broadcast ip</entry>
  <entry>max aantal hosts</entry>
</row>
</thead>
<tbody>
<row>
  <entry>192.168.1.0/24</entry>
  <entry>192.168.1.0</entry>
  <entry>192.168.1.255</entry>
  <entry>256 - 2 = 254</entry>
</row>
<row>
  <entry>192.168.15.0/24</entry>
  <entry>192.168.15.0</entry>
  <entry>192.168.15.255</entry>
  <entry>256 - 2 = 254</entry>
</row>
<row>
  <entry>172.16.0.0/16</entry>
  <entry>172.16.0.0</entry>
  <entry>172.16.255.255</entry>
  <entry>256*256 - 2 = 65534</entry>
</row>
<row>
  <entry>10.0.0.0/8</entry>
  <entry>10.0.0.0</entry>
  <entry>10.255.255.255</entry>
  <entry>256*256*256 - 2 = 16777214</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>te weinig ip adressen ?</title>
	<para>Is vier miljard dan niet genoeg ? We verspillen enorm veel ip adressen door de verkoop van klasse A en klasse B aan organizaties die eigenlijk veel minder adressen nodig hebben.</para>
	<para>Wat doe je als je 300 adressen nodig hebt ? Of 2000 ? Je kan kiezen voor een klasse B<indexterm><primary>class B</primary></indexterm> range, maar dan verspil je meer dan 90 procent. Je kan ook zeggen dat 8 klasse C<indexterm><primary>class C</primary></indexterm> adressen voldoen voor 2000 computers, maar dan vergroot je de <command>routing tables</command> weer.</para>
	<para>Je kan het tekort verzachten door <command>nat</command> te gebruiken. Eerst bekijken we hoe <command>classless ip addressing</command> met <command>binaire subnet masks</command><indexterm><primary>subnet mask</primary></indexterm> ofte <command>supernetting</command> mitigerend kan werken.</para>
<screen>
</screen>
</section>
<section><title>binaire classful subnets</title>
<para>Stel u eens voor dat computers <command>binair</command><indexterm><primary>binair</primary></indexterm> rekenen i.p.v. decimaal ;-)</para>
<para>Computers rekenen met <command>bits</command><indexterm><primary>bit</primary></indexterm> en <command>bytes</command><indexterm><primary>byte</primary></indexterm>, mensen rekenen decimaal. Onze computers zien een <command>ip adres</command><indexterm><primary>ip adres</primary></indexterm> als een 32-bit getal, hetzelfde geld voor de <command>subnet mask</command><indexterm><primary>subnet mask</primary></indexterm>. De drie subnet masks die we tot nu toe kennen zijn decimaal en binair voorgesteld in de volgende tabel:</para>
<table frame='all'><title>binary classful<indexterm><primary>classful</primary></indexterm> subnets</title>
<?dbfo table-width="90%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="2*" align="center"/>
<colspec colname='c3' colwidth="6*" align="center"/>
<thead>
<row>
  <entry>class</entry>
  <entry>subnet</entry>
  <entry>binary subnet</entry>
</row>
</thead>
<tbody>
<row>
  <entry>A</entry>
  <entry>255.0.0.0</entry>
  <entry>11111111.00000000.00000000.00000000</entry>
</row>
<row>
  <entry>B</entry>
  <entry>255.255.0.0</entry>
  <entry>11111111.11111111.00000000.00000000</entry>
</row>
<row>
  <entry>C</entry>
  <entry>255.255.255.0</entry>
  <entry>11111111.11111111.11111111.00000000</entry>
</row>
</tbody>
</tgroup>
</table>
<para>Voor de volledigheid volgt ook nog eens het aantal computers dat in een <command>classful</command> netwerk past.</para>
<table frame='all'><title>max computers classful subnets</title>
<?dbfo table-width="90%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="6*" align="center"/>
<colspec colname='c3' colwidth="3*" align="center"/>
<thead>
<row>
  <entry>class</entry>
  <entry>binary subnet</entry>
  <entry>computers</entry>
</row>
</thead>
<tbody>
<row>
  <entry>A</entry>
  <entry>11111111.00000000.00000000.00000000</entry>
  <entry>256*256*256 - 2</entry>
</row>
<row>
  <entry>B</entry>
  <entry>11111111.11111111.00000000.00000000</entry>
  <entry>256*256 - 2</entry>
</row>
<row>
  <entry>C</entry>
  <entry>11111111.11111111.11111111.00000000</entry>
  <entry>256 - 2</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>ip adressen verdelen</title>
<para><command>Klasse A</command><indexterm><primary>class A</primary></indexterm> adressen kunnen dus een dikke 16 miljoen computers bevatten, <command>klasse B</command><indexterm><primary>class B</primary></indexterm> een goei 65 duizend en <command>klasse C</command><indexterm><primary>class C</primary></indexterm> iets meer dan 200.</para>
<para>Stel dat jou organisatie 3000 ip adressen nodig heeft, dan moet je een klasse B gebruiken. Maar dat wil zeggen dat je meer dan 62 duizend ip adressen <command>verspilt</command>. Onthou ook dat heel wat klasse A ranges begin jaren 90 in hun geheel verkocht zijn (<command>IANA</command><indexterm><primary>IANA</primary></indexterm> beheert dit wereldwijd).</para>
<screen>http://www.iana.org/assignments/ipv4-address-space/</screen>
<para>In de jaren 70-80 was dit een goed systeem, er waren immers maar enkele duizenden computers op dit <command>internetwerk</command><indexterm><primary>internet</primary></indexterm>. Maar de laatste jaren zijn er meer dan een miljard computers verbonden met internet. Met een totaal van vier miljard (256*256*256*256) ip-adressen kunnen we ons niet langer veroorloven om ip-adressen te verspillen.</para>
</section>
<section><title>routing tables...</title>
<para>Je zou kunnen argumenteren op het vorige dat je ook twaalf <command>klasse C</command><indexterm><primary>class C</primary></indexterm> kan gebruiken voor een netwerk met 3000 computers. En dat is correct, maar heeft wel tot gevolg dat de <command>routing tables</command><indexterm><primary>router</primary></indexterm> in de internet routers er twaalf routes bijkrijgen i.p.v. slechts eentje.</para>
<para>Alle grote netwerken opbouwen met klasse C ip ranges is dus ook geen oplosssing. (routing tables bespreken we later)</para>
</section>
<section><title>nat...</title>
<para>Een andere verzachtende techniek voor het naderende tekort aan ip adressen is <command>nat</command><indexterm><primary>nat</primary></indexterm>. Een <command>nat</command> toestel kan meerdere <command>private ip adressen </command><indexterm><primary>private ip adressen</primary></indexterm>(en dus meerdere computers) met een (of enkele) publieke adressen verbinden met het internet.</para>
<para>Maar <command>nat</command> heeft dan weer het nadeel dat niet alle applicaties kunnen werken achter een <command>nat</command> (bijvoorbeeld <command>ipsec</command><indexterm><primary>ipsec</primary></indexterm>).</para>
</section>

<section><title>supernetting</title>
<para>Zoals je ziet begint de subnet mask binair steeds met eentjes en eindigt steeds met nulletjes. Wat als we nu een eentje meer of minder zetten ?</para>
<para>Onze verkorte notatie<indexterm><primary>cidr</primary></indexterm> laat toe om dit snel te noteren. We schrijven simpelweg 172.16.0.0/17 i.p.v. 172.16.0.0/16 . Maar wat zijn de gevolgen hiervan ?</para>
<para>Ten eerste is een eentje meer hetzelfde als het halveren van het aantal computers in het netwerk. Want we vergroten het <command>network id</command><indexterm><primary>network id</primary></indexterm> en verkleinen het aantal mogelijke <command>host id's</command><indexterm><primary>host id</primary></indexterm>.</para>
<para>Laten we ons voorbeeld beginnen met het netwerk in de klas zoals het er nu uitziet:</para>

<table frame='all'><title>/24 netwerk in de klas</title>
<?dbfo table-width="99%" ?>
<tgroup cols='4' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<colspec colname='c3' colwidth="6*" align="center"/>
<colspec colname='c4' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>network id</entry>
  <entry>subnet</entry>
  <entry>binair subnet</entry>
  <entry>aantal computers</entry>
</row>
</thead>
<tbody>
<row>
  <entry>192.168.0.0</entry>
  <entry>/24</entry>
  <entry>11111111.11111111.11111111.00000000</entry>
  <entry>256 - 2 = 254</entry>
</row>
</tbody>
</tgroup>
</table>
<para>En kijk wat er gebeurt als we de <command>subnet mask</command><indexterm><primary>subnet mask</primary></indexterm> veranderen van 24 <command>bits</command> naar 25 <command>bits</command><indexterm><primary>bit</primary></indexterm> die op 1 staan.</para>
<table frame='all'><title>/25 netwerk in de klas</title>
<?dbfo table-width="99%" ?>
<tgroup cols='4' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<colspec colname='c3' colwidth="6*" align="center"/>
<colspec colname='c4' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>network id</entry>
  <entry>subnet</entry>
  <entry>binair subnet</entry>
  <entry>aantal computers</entry>
</row>
</thead>
<tbody>
<row>
  <entry>192.168.0.0</entry>
  <entry>/25</entry>
  <entry>11111111.11111111.11111111.10000000</entry>
  <entry>128 - 2 = 126</entry>
</row>
</tbody>
</tgroup>
</table>
	<para>De reeks ip adressen<indexterm><primary>ip adres</primary></indexterm> die behoren tot 192.168.0.0/25 begint met 192.168.0.1 en eindigt met 192.168.0.126, de network id is 192.168.0.0 en het <command>broadcast</command><indexterm><primary>broadcast</primary></indexterm> adres is 192.168.0.127.</para>
<para>Als we dit binair voorstellen wordt het duidelijk:</para>
<table frame='all'><title>/25 binair bekijken</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="4*" align="center"/>
<colspec colname='c2' colwidth="11*" align="center"/>
<colspec colname='c3' colwidth="5*" align="center"/>
<thead>
<row>
  <entry>omschrijving</entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>network id</entry>
  <entry>11000000.10101000.00000000.00000000</entry>
  <entry>192.168.0.0</entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry>11111111.11111111.11111111.10000000</entry>
  <entry>255.255.255.128</entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry>11000000.10101000.00000000.00000001</entry>
  <entry>192.168.0.1</entry>
</row>
<row>
  <entry>tweede ip</entry>
  <entry>11000000.10101000.00000000.00000010</entry>
  <entry>192.168.0.2</entry>
</row>
<row>
  <entry>derde ip</entry>
  <entry>11000000.10101000.00000000.00000011</entry>
  <entry>192.168.0.3</entry>
</row>
<row>
  <entry>vierde ip</entry>
  <entry>11000000.10101000.00000000.00000100</entry>
  <entry>192.168.0.4</entry>
</row>
<row>
  <entry>vijfde ip</entry>
  <entry>11000000.10101000.00000000.00000101</entry>
  <entry>192.168.0.5</entry>
</row>
<row>
  <entry>...</entry>
  <entry>...</entry>
  <entry>...</entry>
</row>
<row>
  <entry>voorlaatste ip</entry>
  <entry>11000000.10101000.00000000.01111101</entry>
  <entry>192.168.0.125</entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry>11000000.10101000.00000000.01111110</entry>
  <entry>192.168.0.126</entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry>11000000.10101000.00000000.01111111</entry>
  <entry>192.168.0.127</entry>
</row>
</tbody>
</tgroup>
</table>
<para>We voegen nog een <command>bit</command><indexterm><primary>bit</primary></indexterm> toe aan de <command>subnet mask</command><indexterm><primary>subnet mask</primary></indexterm>, dan komen we aan /26 (255.255.255.192). De tabel ziet er dan als volgt uit:</para>
<table frame='all'><title>/26 binair<indexterm><primary>binair</primary></indexterm> bekijken</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="4*" align="center"/>
<colspec colname='c2' colwidth="11*" align="center"/>
<colspec colname='c3' colwidth="5*" align="center"/>
<thead>
<row>
  <entry>omschrijving</entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>network id</entry>
  <entry>11000000.10101000.00000000.00000000</entry>
  <entry>192.168.0.0</entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry>11111111.11111111.11111111.11000000</entry>
  <entry>255.255.255.192</entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry>11000000.10101000.00000000.00000001</entry>
  <entry>192.168.0.1</entry>
</row>
<row>
  <entry>tweede ip</entry>
  <entry>11000000.10101000.00000000.00000010</entry>
  <entry>192.168.0.2</entry>
</row>
<row>
  <entry>derde ip</entry>
  <entry>11000000.10101000.00000000.00000011</entry>
  <entry>192.168.0.3</entry>
</row>
<row>
  <entry>...</entry>
  <entry>...</entry>
  <entry>...</entry>
</row>
<row>
  <entry>voorlaatste ip</entry>
  <entry>11000000.10101000.00000000.00111101</entry>
  <entry>192.168.0.61</entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry>11000000.10101000.00000000.00111110</entry>
  <entry>192.168.0.62</entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry>11000000.10101000.00000000.00111111</entry>
  <entry>192.168.0.63</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>binaire subnets decimaal voorstellen</title>
<para>We weten al dat 255 <command>decimaal</command><indexterm><primary>decimaal</primary></indexterm> gelijk is aan 11111111 <command>binair</command><indexterm><primary>binair</primary></indexterm> (en dat 0 decimaal gelijk is aan 00000000 binair). Een binair <command>subnet mask</command><indexterm><primary>subnet mask</primary></indexterm> begint steeds met eentjes, en eindigt met nulletjes. De volgende tabel kan dus handig zijn bij het decimaal neerschrijven van een binair subnet mask.</para>
<table frame='all'><title>decimale waarde binaire subnet bytes</title>
<?dbfo table-width="70%" ?>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<thead>
<row>
  <entry>binair subnet mask</entry>
  <entry>decimaal getal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>11111111</entry>
  <entry>255</entry>
</row>
<row>
  <entry>11111110</entry>
  <entry>254</entry>
</row>
<row>
  <entry>11111100</entry>
  <entry>252</entry>
</row>
<row>
  <entry>11111000</entry>
  <entry>248</entry>
</row>
<row>
  <entry>11110000</entry>
  <entry>240</entry>
</row>
<row>
  <entry>11100000</entry>
  <entry>224</entry>
</row>
<row>
  <entry>11000000</entry>
  <entry>192</entry>
</row>
<row>
  <entry>10000000</entry>
  <entry>128</entry>
</row>
<row>
  <entry>00000000</entry>
  <entry>0</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>32 binaire subnet masks</title>
<para>Bij supernetting zijn er theoretisch 32 <command>binaire</command><indexterm><primary>binair</primary></indexterm> <command>subnet masks</command><indexterm><primary>subnet mask</primary></indexterm> i.p.v. de drie <command>classful</command><indexterm><primary>classful</primary></indexterm> (255.255.255.0, 255.255.0.0, 255.0.0.0). We zetten ze alle 32 op een rijtje.</para>
<table frame='all'><title>32 binaire subnets</title>
<?dbfo table-width="70%" ?>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>aantal bits op 1</entry>
  <entry>decimale waarde</entry>
</row>
</thead>
<tbody>
<row>
  <entry>1</entry>
  <entry>128.0.0.0</entry>
</row>
<row>
  <entry>2</entry>
  <entry>192.0.0.0</entry>
</row>
<row>
  <entry>3</entry>
  <entry>224.0.0.0</entry>
</row>
<row>
  <entry>4</entry>
  <entry>240.0.0.0</entry>
</row>
<row>
  <entry>5</entry>
  <entry>248.0.0.0</entry>
</row>
<row>
  <entry>6</entry>
  <entry>252.0.0.0</entry>
</row>
<row>
  <entry>7</entry>
  <entry>254.0.0.0</entry>
</row>
<row>
  <entry>8</entry>
  <entry>255.0.0.0</entry>
</row>
<row>
  <entry>9</entry>
  <entry>255.128.0.0</entry>
</row>
<row>
  <entry>10</entry>
  <entry>255.192.0.0</entry>
</row>
<row>
  <entry>11</entry>
  <entry>255.224.0.0</entry>
</row>
<row>
  <entry>12</entry>
  <entry>255.240.0.0</entry>
</row>
<row>
  <entry>13</entry>
  <entry>255.248.0.0</entry>
</row>
<row>
  <entry>14</entry>
  <entry>255.252.0.0</entry>
</row>
<row>
  <entry>15</entry>
  <entry>255.254.0.0</entry>
</row>
<row>
  <entry>16</entry>
  <entry>255.255.0.0</entry>
</row>
<row>
  <entry>17</entry>
  <entry>255.255.128.0</entry>
</row>
<row>
  <entry>18</entry>
  <entry>255.255.192.0</entry>
</row>
<row>
  <entry>19</entry>
  <entry>255.255.224.0</entry>
</row>
<row>
  <entry>20</entry>
  <entry>255.255.240.0</entry>
</row>
<row>
  <entry>21</entry>
  <entry>255.255.248.0</entry>
</row>
<row>
  <entry>22</entry>
  <entry>255.255.252.0</entry>
</row>
<row>
  <entry>23</entry>
  <entry>255.255.254.0</entry>
</row>
<row>
  <entry>24</entry>
  <entry>255.255.255.0</entry>
</row>
<row>
  <entry>25</entry>
  <entry>255.255.255.128</entry>
</row>
<row>
  <entry>26</entry>
  <entry>255.255.255.192</entry>
</row>
<row>
  <entry>27</entry>
  <entry>255.255.255.224</entry>
</row>
<row>
  <entry>28</entry>
  <entry>255.255.255.240</entry>
</row>
<row>
  <entry>29</entry>
  <entry>255.255.255.248</entry>
</row>
<row>
  <entry>30</entry>
  <entry>255.255.255.252</entry>
</row>
<row>
  <entry>31</entry>
  <entry>255.255.255.254</entry>
</row>
<row>
  <entry>32</entry>
  <entry>255.255.255.255</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>aantal computers</title>
<para>We kunnen de tabel uitbreiden met een kolom die het aantal computers telt dat we in deze <command>binaire</command><indexterm><primary>binair</primary></indexterm> netwerkjes kunnen plaatsen.</para>
<para>De simpelste formule om het aantal computers in een <command>subnet</command><indexterm><primary>subnet</primary></indexterm> te berekenen is twee verheffen tot de macht 'het aantal bits op 0 in de subnet' min twee. Bij 16 bits op 1 wordt dat dus 2 tot de zestiende min twee. In de tabel gebruiken we 256 i.p.v. twee tot de achtste.</para>
<table frame='all'><title>aantal computers in binaire subnets</title>
<?dbfo table-width="90%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<colspec colname='c3' colwidth="1*" align="center"/>
<thead>
<row>
  <entry>aantal bits op 1</entry>
  <entry>berekening</entry>
  <entry>aantal computers</entry>
</row>
</thead>
<tbody>
<row>
  <entry>8</entry>
  <entry>256*256*256-2</entry>
  <entry>16777214</entry>
</row>
<row>
  <entry>9</entry>
  <entry>256*256*128-2</entry>
  <entry>8388606</entry>
</row>
<row>
  <entry>10</entry>
  <entry>256*256*64-2</entry>
  <entry>4194302</entry>
</row>
<row>
  <entry>11</entry>
  <entry>256*256*32-2</entry>
  <entry>2097150</entry>
</row>
<row>
  <entry>12</entry>
  <entry>256*256*16-2</entry>
  <entry>1048574</entry>
</row>
<row>
  <entry>13</entry>
  <entry>256*256*8-2</entry>
  <entry>524286</entry>
</row>
<row>
  <entry>14</entry>
  <entry>256*256*4-2</entry>
  <entry>262142</entry>
</row>
<row>
  <entry>15</entry>
  <entry>256*256*2-2</entry>
  <entry>131070</entry>
</row>
<row>
  <entry>16</entry>
  <entry>256*256-2</entry>
  <entry>65534</entry>
</row>
<row>
  <entry>17</entry>
  <entry>256*128-2</entry>
  <entry>32766</entry>
</row>
<row>
  <entry>18</entry>
  <entry>256*64-2</entry>
  <entry>16382</entry>
</row>
<row>
  <entry>19</entry>
  <entry>256*32-2</entry>
  <entry>8190</entry>
</row>
<row>
  <entry>20</entry>
  <entry>256*16-2</entry>
  <entry>4094</entry>
</row>
<row>
  <entry>21</entry>
  <entry>256*8-2</entry>
  <entry>2046</entry>
</row>
<row>
  <entry>22</entry>
  <entry>256*4-2</entry>
  <entry>1022</entry>
</row>
<row>
  <entry>23</entry>
  <entry>256*2-2</entry>
  <entry>510</entry>
</row>
<row>
  <entry>24</entry>
  <entry>256-2</entry>
  <entry>254</entry>
</row>
<row>
  <entry>25</entry>
  <entry>128-2</entry>
  <entry>126</entry>
</row>
<row>
  <entry>26</entry>
  <entry>64-2</entry>
  <entry>62</entry>
</row>
<row>
  <entry>27</entry>
  <entry>32-2</entry>
  <entry>30</entry>
</row>
<row>
  <entry>28</entry>
  <entry>16-2</entry>
  <entry>14</entry>
</row>
<row>
  <entry>29</entry>
  <entry>8-2</entry>
  <entry>6</entry>
</row>
<row>
  <entry>30</entry>
  <entry>4-2</entry>
  <entry>2</entry>
</row>
</tbody>
</tgroup>
</table>
<para>Zie ook eens op <command>http://www.rfc-editor.org/rfc/rfc1878.txt</command>.</para>
</section>
<section><title>network id en host id vinden</title>
	<para>Als we een <command>ip adres</command><indexterm><primary>ip adres</primary></indexterm> krijgen, kunnen we dan het <command>network id</command><indexterm><primary>network id</primary></indexterm> en het <command>host id</command><indexterm><primary>host id</primary></indexterm> vinden ?</para>
<para>We zullen beginnen met een simpel classful voorbeeld: <command>192.168.1.5/24</command>.</para>
<screen>
ip adres    : 192.168.  1.5
subnet mask : <command>255.255.255</command>.0
network id  : <command>192.168.  1</command>.0
host id     :             <command>5</command>
</screen>
<para>We kunnen dit ook binair bekijken:</para>
<screen>
ip adres    : 11000000.10101000.00000001.00000101
subnet mask : <command>11111111.11111111.11111111</command>.00000000
network id  : <command>11000000.10101000.00000001</command>.00000000
host id     : 00000000.00000000.00000000.<command>00000101</command>
</screen>
<para></para>
<para>Nog een tweede voorbeeld: <command>192.168.199.233/24</command>.</para>
<screen>
ip adres    : 192.168.199.233
subnet mask : <command>255.255.255</command>.0
network id  : <command>192.168.199</command>.0
host id     :             <command>233</command>
</screen>
<para>We kunnen dit tweede voorbeeld ook binair bekijken.</para>
<screen>
ip adres    : 11000000.10101000.11000111.11101001
subnet mask : <command>11111111.11111111.11111111</command>.00000000
network id  : <command>11000000.10101000.11000111</command>.00000000
host id     : 00000000.00000000.00000000.<command>11101001</command>
</screen>
<para></para>
<para>Als derde voorbeeld zullen we hetzelfde ip adres nemen als in het tweede, maar met een supernet: <command>192.168.199.233/22</command>. We bekijken het eerst binair, want dit is het eenvoudigste.</para>
<screen>
ip adres    : 11000000.10101000.11000111.11101001
subnet mask : <command>11111111.11111111.111111</command>00.00000000
network id  : <command>11000000.10101000.110001</command>00.00000000
host id     : 00000000.00000000.000000<command>11.11101001</command>
</screen>
<para>Decimaal wordt dat dan:</para>
<screen>
ip adres    : 192.168.199.233
subnet mask : <command>255.255.252</command>.0
network id  : <command>192.168.196</command>.0
host id     :           <command>3.233</command>
</screen>
<para></para>
<para></para>
<para></para>
</section>
<section><title>voorbeeldoefening binaire subnets</title>
<para>De vragen die jullie kregen in de oktober test komen bijna letterlijk terug op het examen, maar dan met binaire subnet masks i.p.v. met classful.</para>
<para>Aziz was al zo vriendelijk om een paar oefeningen te mailen (lichtjes aangepast van 168.192.x.y naar 192.168.x.y). Vul de volgende tabel aan voor <command>192.168.234.234/17</command>.</para>

<table frame='all'><title>oefening 192.168.234.234/17</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="left"/>
<colspec colname='c2' colwidth="7*" align="center"/>
<colspec colname='c3' colwidth="3*" align="center"/>
<thead>
<row>
  <entry></entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>ip address</entry>
  <entry>11000000.10101000.11101010.11101010</entry>
  <entry>192.168.234.234</entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry>11111111.11111111.10000000.00000000</entry>
  <entry>255.255.128.0</entry>
</row>
<row>
  <entry>network id</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>aantal ip's</entry>
  <entry></entry>
  <entry></entry>
</row>
</tbody>
</tgroup>
</table>

<para>Hieronder vind je de oplossing van bovenstaande oefening.</para>

<table frame='all'><title>oplossing 192.168.234.234/17</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="left"/>
<colspec colname='c2' colwidth="7*" align="center"/>
<colspec colname='c3' colwidth="3*" align="center"/>
<thead>
<row>
  <entry></entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>ip address</entry>
  <entry>11000000.10101000.11101010.11101010</entry>
  <entry>192.168.234.234</entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry>11111111.11111111.10000000.00000000</entry>
  <entry>255.255.128.0</entry>
</row>
<row>
  <entry>network id</entry>
  <entry>11000000.10101000.10000000.00000000</entry>
  <entry>192.168.128.0</entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry>11000000.10101000.10000000.00000001</entry>
  <entry>192.168.128.1</entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry>11000000.10101000.11111111.11111110</entry>
  <entry>192.168.255.254</entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry>11000000.10101000.11111111.11111111</entry>
  <entry>192.168.255.255</entry>
</row>
<row>
  <entry>aantal ip's</entry>
  <entry>van 0000000.00000001 tot 1111111.11111110</entry>
  <entry>128*256-2=32766</entry>
</row>
</tbody>
</tgroup>
</table>

<para>Het bovenstaande netwerk bevat exact de helft van alle ip adressen in de 192.168.0.0/16 reeks. Kan je de tabel ook invullen voor de andere helft ?</para>

<table frame='all'><title>andere helft van 192.168.234.234/17</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="left"/>
<colspec colname='c2' colwidth="7*" align="center"/>
<colspec colname='c3' colwidth="3*" align="center"/>
<thead>
<row>
  <entry></entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>ip address</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry>11111111.11111111.10000000.00000000</entry>
  <entry>255.255.128.0</entry>
</row>
<row>
  <entry>network id</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>aantal ip's</entry>
  <entry></entry>
  <entry></entry>
</row>
</tbody>
</tgroup>
</table>

<para>Hieronder de oplossing van de andere helft.</para>

<table frame='all'><title>oplossing andere helft 192.168.234.234/17</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="left"/>
<colspec colname='c2' colwidth="7*" align="center"/>
<colspec colname='c3' colwidth="3*" align="center"/>
<thead>
<row>
  <entry></entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>ip address</entry>
  <entry>11000000.10101000.<command>0</command>1101010.11101010</entry>
  <entry>192.168.106.234</entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry>11111111.11111111.10000000.00000000</entry>
  <entry>255.255.128.0</entry>
</row>
<row>
  <entry>network id</entry>
  <entry>11000000.10101000.<command>0</command>0000000.00000000</entry>
  <entry>192.168.0.0</entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry>11000000.10101000.<command>0</command>0000000.00000001</entry>
  <entry>192.168.0.1</entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry>11000000.10101000.<command>0</command>1111111.11111110</entry>
  <entry>192.168.127.254</entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry>11000000.10101000.<command>0</command>1111111.11111111</entry>
  <entry>192.168.127.255</entry>
</row>
<row>
  <entry>aantal ip's</entry>
  <entry>van 0000000.00000001 tot 1111111.11111110</entry>
  <entry>128*256-2=32766</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>oefeningen binaire subnets</title>

<para>Aziz vroeg ook nog dezelfde oefening voor:</para>
<screen>
168.186.240.192/11
192.168.248.234/17
168.190.248.199/27
</screen>
<para>Kan je de network id, subnet mask, eerste ip, laatste ip, broadcast ip en aantal ip's geven voor de subnets van die drie ip adressen ? Zonder naar de oplossing hieronder te kijken ?</para>
<para>Hieronder eerst drie lege tabellen om te oefenen, dan de oplossing.</para>

<table frame='all'><title>lege tabel 168.186.240.192/11</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="left"/>
<colspec colname='c2' colwidth="7*" align="center"/>
<colspec colname='c3' colwidth="3*" align="center"/>
<thead>
<row>
  <entry></entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>ip address</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>network id</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>aantal ip's</entry>
  <entry></entry>
  <entry></entry>
</row>
</tbody>
</tgroup>
</table>

<table frame='all'><title>lege tabel 192.168.248.234/17</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="left"/>
<colspec colname='c2' colwidth="7*" align="center"/>
<colspec colname='c3' colwidth="3*" align="center"/>
<thead>
<row>
  <entry></entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>ip address</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>network id</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>aantal ip's</entry>
  <entry></entry>
  <entry></entry>
</row>
</tbody>
</tgroup>
</table>

<table frame='all'><title>lege tabel 168.190.248.199/27</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="left"/>
<colspec colname='c2' colwidth="7*" align="center"/>
<colspec colname='c3' colwidth="3*" align="center"/>
<thead>
<row>
  <entry></entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>ip address</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>network id</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry></entry>
  <entry></entry>
</row>
<row>
  <entry>aantal ip's</entry>
  <entry></entry>
  <entry></entry>
</row>
</tbody>
</tgroup>
</table>

<table frame='all'><title>oplossing 168.186.240.192/11</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="left"/>
<colspec colname='c2' colwidth="7*" align="center"/>
<colspec colname='c3' colwidth="3*" align="center"/>
<thead>
<row>
  <entry></entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>ip address</entry>
  <entry>10101000.10111010.11110000.11000000</entry>
  <entry>168.186.240.192</entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry><command>11111111.111</command>00000.00000000.00000000</entry>
  <entry>255.224.0.0</entry>
</row>
<row>
  <entry>network id</entry>
  <entry><command>10101000.101</command>00000.00000000.00000000</entry>
  <entry>168.160.0.0</entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry><command>10101000.101</command>00000.00000000.0000000<command>1</command></entry>
  <entry>168.160.0.1</entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry><command>10101000.101</command>11111.11111111.11111110</entry>
  <entry>168.191.255.254</entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry><command>10101000.101</command>11111.11111111.11111111</entry>
  <entry>168.191.255.255</entry>
</row>
<row>
  <entry>aantal ip's</entry>
  <entry>van 00000.00000000.00000001 tot 11111.11111111.11111110</entry>
  <entry>32*256*256-2</entry>
</row>
</tbody>
</tgroup>
</table>

<table frame='all'><title>oplossing 192.168.248.234/17</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="left"/>
<colspec colname='c2' colwidth="7*" align="center"/>
<colspec colname='c3' colwidth="3*" align="center"/>
<thead>
<row>
  <entry></entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>ip address</entry>
  <entry>11000000.10101000.11111000.11101010</entry>
  <entry>192.168.248.234</entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry><command>11111111.11111111.1</command>0000000.00000000</entry>
  <entry>255.255.128.0</entry>
</row>
<row>
  <entry>network id</entry>
  <entry><command>11000000.10101000.1</command>0000000.00000000</entry>
  <entry>192.168.128.0</entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry><command>11000000.10101000.1</command>0000000.0000000<command>1</command></entry>
  <entry>192.168.128.1</entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry><command>11000000.10101000.1</command>1111111.11111110</entry>
  <entry>192.168.255.254</entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry><command>11000000.10101000.1</command>1111111.11111111</entry>
  <entry>192.168.255.255</entry>
</row>
<row>
  <entry>aantal ip's</entry>
  <entry>van 0000000.00000001 tot 1111111.11111110</entry>
  <entry>128*256-2</entry>
</row>
</tbody>
</tgroup>
</table>

<table frame='all'><title>oplossing 168.190.248.199/27</title>
<?dbfo table-width="99%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="left"/>
<colspec colname='c2' colwidth="7*" align="center"/>
<colspec colname='c3' colwidth="3*" align="center"/>
<thead>
<row>
  <entry></entry>
  <entry>binair</entry>
  <entry>decimaal</entry>
</row>
</thead>
<tbody>
<row>
  <entry>ip address</entry>
  <entry>10101000.10111110.11111000.11000111</entry>
  <entry>168.190.248.199</entry>
</row>
<row>
  <entry>subnet mask</entry>
  <entry><command>11111111.11111111.11111111.111</command>00000</entry>
  <entry>255.255.255.224</entry>
</row>
<row>
  <entry>network id</entry>
  <entry><command>10101000.10111110.11111000.110</command>00000</entry>
  <entry>168.190.248.192</entry>
</row>
<row>
  <entry>eerste ip</entry>
  <entry><command>10101000.10111110.11111000.110</command>0000<command>1</command></entry>
  <entry>168.190.248.193</entry>
</row>
<row>
  <entry>laatste ip</entry>
  <entry><command>10101000.10111110.11111000.110</command>11110</entry>
  <entry>168.190.248.222</entry>
</row>
<row>
  <entry>broadcast ip</entry>
  <entry><command>10101000.10111110.11111000.110</command>11111</entry>
  <entry>168.190.248.223</entry>
</row>
<row>
  <entry>aantal ip's</entry>
  <entry>van 00001 tot 11110</entry>
  <entry>32-2</entry>
</row>
</tbody>
</tgroup>
</table>
</section>
<section><title>zelfde of ander netwerk ?</title>
<para>Zitten de computers 192.168.117.5/18 en 192.168.34.18/18 in hetzelfde netwerk ?</para>
<para></para>
<para></para>
<para></para>
<para></para>

</section>
<section><title>subnetworks</title>
<para>Je beheert een departement met 200 computers, verdeeld over vier verdiepingen in eenzelfde gebouw, met ongeveer vijftig computers per verdiep. Je krijgt van je netwerkbeheerder <command>192.168.5.0/24</command> en moet deze reeks verdelen over de vier verdiepen. Hoe doe je dat ?</para>
<para>Je begint met uit te rekenen hoeveel computers er in die reeks kunnen:</para>
<screen>
192.168.5.0/24 --> 256 - 2 = 254 computers
</screen>
<para>Je weet ook uit de tabel hierboven dat een <command>/26</command> <command>subnet mask</command><indexterm><primary>subnet mask</primary></indexterm> volstaat voor elk individueel verdiep. Je verdeelt jou /24 netwerk in vier /26 netwerken.</para>
<para>We bekijken dit eerst binair:</para>
<screen>
192.168.5.0 == 11000000.10101000.00000101.00000000
/24 mask    == 11111111.11111111.11111111.00000000
/26 mask    == 11111111.11111111.11111111.11000000
</screen>
<para>We moeten dus twee <command>bits</command><indexterm><primary>bit</primary></indexterm> toevoegen aan de /24 <command>netword id</command><indexterm><primary>network id</primary></indexterm> om een /26 network id te maken. Twee bits kunnen exact vier mogelijke waarden hebben: 00, 01, 10 of 11. We komen dus tot de volgende vier nieuwe /26 network id's.</para>
<screen>
/26 network id 1 == 11000000.10101000.00000101.<command>00</command>000000
/26 network id 2 == 11000000.10101000.00000101.<command>01</command>000000
/26 network id 3 == 11000000.10101000.00000101.<command>10</command>000000
/26 network id 4 == 11000000.10101000.00000101.<command>11</command>000000
</screen>
<para>Hieronder een tabel van eerste en laatste ip van de vier /26 netwerken. Tel bij de laatste ip eentje bij voor de broadcast ip.</para>
<table frame='all'><title>echt supernetten</title>
<?dbfo table-width="80%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="2*" align="center"/>
<colspec colname='c2' colwidth="2*" align="center"/>
<colspec colname='c3' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>verdiep</entry>
  <entry>eerste ip</entry>
  <entry>laatste ip</entry>
</row>
</thead>
<tbody>
<row>
  <entry>1</entry>
  <entry>192.168.5.1</entry>
  <entry>192.168.5.62</entry>
</row>
<row>
  <entry>2</entry>
  <entry>192.168.5.65</entry>
  <entry>192.168.5.126</entry>
</row>
<row>
  <entry>3</entry>
  <entry>192.168.5.129</entry>
  <entry>192.168.5.190</entry>
</row>
<row>
  <entry>4</entry>
  <entry>192.168.5.193</entry>
  <entry>192.168.5.254</entry>
</row>
</tbody>
</tgroup>
</table>
<para>Tussen haakjes, nu zijn we echt aan het <command>supernetten</command><indexterm><primary>supernet</primary></indexterm>. Want in de routers van buitenaf staat er enkel 192.168.5.0/24 als bestemming, terwijl er intern eigenlijk vier /26 netwerkjes zijn.</para>
</section>
<section><title>huiswerk antwoorden</title>
<para>1. Welke subnet is nodig om deze computers in hetzelfde netwerk te zetten ? (We zoeken de subnet mask met het grootste aantal bits op 1 gezet, zodat de computers in hetzelfde netwerk zitten.)</para>
<screen>
192.168.117.12
192.168.116.33
192.168.115.42     antwoord: /21
</screen>
<para>2. idem</para>
<screen>
192.166.117.12
192.162.116.33
192.168.115.42     antwoord: /12
</screen>
<para>3. Verdeel dit /16 netwerk in acht gelijke delen (en gebruik zoveel mogelijk ip adressen).</para>
<screen>
10.33.0.0/16

antwoord:
10.33.0.0/19
10.33.32.0/19
10.33.64.0/19
10.33.96.0/19
10.33.128.0/19
10.33.160.0/19
10.33.192.0/19
10.33.224.0/19
</screen>
<para>4. Verdeel dit /24 netwerk in drie delen, deel A krijgt de eerste helft van de adressen, delen B en C krijgen elk een vierde van de adressen.</para>
<screen>
10.42.42.0/24

antwoord:
A 10.42.42.0/25
B 10.42.42.128/26
C 10.42.42.192/26
</screen>
<para>5. Geef de network id, host id en subnet mask van de volgende ip adressen en geef eerste ip, laatste ip, broadcast ip en aantal ip van hun respectievelijk netwerk.</para>
<screen>
10.42.33.42/8   10.0.0.0 42.33.42 /8 10.0.0.1 10.255.255.254 10.255.255.255 2^24-2
10.33.42.33/18  10.33.0.0 42.33 /18 10.33.0.1 10.33.63.254 10.33.63.255 2^14-2
12.01.33.42/28  12.01.33.32 10 /28 12.01.33.33 12.01.33.46 12.01.33.47 16-2
</screen>
</section>
<section><title>huiswerk</title>
<para>Jullie vroegen huiswerk ? Alsjeblief:</para>
<para>1. Welke subnet is nodig om deze computers in hetzelfde netwerk te zetten ? (We zoeken de subnet mask met het grootste aantal bits op 1 gezet, zodat de computers in hetzelfde netwerk zitten.)</para>
<screen>
192.168.117.12
192.168.116.33
192.168.115.42
</screen>
<para>2. idem</para>
<screen>
192.166.117.12
192.162.116.33
192.168.115.42
</screen>
<para>3. Verdeel dit /16 netwerk in acht gelijke delen (en gebruik zoveel mogelijk ip adressen).</para>
<screen>
10.33.0.0/16
</screen>
<para>4. Verdeel dit /24 netwerk in drie delen, deel A krijgt de eerste helft van de adressen, delen B en C krijgen elk een vierde van de adressen.</para>
<screen>
10.42.42.0/24
</screen>
<para>5. Geef de network id, host id en subnet mask van de volgende ip adressen en geef eerste ip, laatste ip, broadcast ip en aantal ip van hun respectievelijk netwerk.</para>
<screen>
10.42.33.42/8
10.33.42.33/18
12.01.33.42/28
</screen>
<para>De oplossingen krijg je tijdens de volgende les (of vlak erna). Al wie volgende les een correct huiswerk afgeeft kan een extra punt verdienen.</para>
<para></para>
<para></para>
</section>
<section><title>/etc/hosts</title>
	<para>We hebben vorige les reeds kennis gemaakt met het bestand <command>/etc/hosts</command> (alle Unix, incluis Linux en MacOSX) of <command>%systemroot%/system32/drivers/etc/hosts</command> (Microsoft). We hebben gezien hoe dit een tabel is die namen vertaalt naar ip adressen. De inhoud van het bestand ziet er bijvoorbeeld zo uit:</para>
	<screen>
paul@laika:~$ cat /etc/hosts
127.0.0.1	localhost
127.0.1.1	laika

192.168.1.1 illyria
192.168.1.2 pasha
192.168.1.33 barry
192.168.1.34 laika
192.168.1.35 faith
192.168.1.36 wolf
192.168.1.38 rekkie
192.168.1.44 kiss
192.168.1.29 hero

192.168.1.39 rhel5
192.168.1.40 w2003
192.168.1.87 jump10
192.168.1.88 sa200
192.168.1.89 sol10

#192.168.1.71 pasha #netboot
#192.168.1.72 shaka
#192.168.1.73 mira
	</screen>
	<para>Dankzij dit bestand zal een <command>ping</command> commando naar een van deze namen resulteren in een <command>ping</command> naar het ip adres dat voor deze naam staat.</para>
	<screen>
paul@laika:~$ ping illyria
PING illyria (192.168.1.1) 56(84) bytes of data.
64 bytes from illyria (192.168.1.1): icmp_seq=1 ttl=254 time=0.596 ms
64 bytes from illyria (192.168.1.1): icmp_seq=2 ttl=254 time=0.588 ms
	</screen>
	<para>Meer info over het <command>hosts</command> bestand vind je hier:</para>
	<screen>
http://en.wikipedia.org/wiki/Hosts_file
	</screen>
</section>
<section><title>DNS geschiedenis</title>
	<para>Voordat <command>DNS</command> bestond, gebruikten computers op <command>arpanet</command> een HOSTS.TXT bestand dat op een centrale server stond in Stanford. Dit bestand werd op regelmatige tijden gecopieerd naar de lokale machine. Dit systeem was op termijn onhoudbaar, zeker toen er begin jaren 80 duizenden computernamen in het bestand stonden en de groei exponentieel werd.</para>
	<para>In 1983 ontwikkelde de Griek <command>Paul Mockapetris</command> het <command>Domain Name System</command> (rfc 882/883, later rfc 1034/1035) als alternatief voor dit centrale <command>hosts</command> bestand.</para>
	<para>DNS is een gedistribueerde hierarchische naamgevende database voor diensten en computers op tcp/ip netwerken. Een van de voor de hand liggende functies is het vertalen van host- en domeinnamen naar ip-adressen (net zoals het /etc/hosts bestand dat al deed).</para>
	<para>DNS is al enkele keren uitgebreid (tik maar eens DNS als zoekterm op www.rfc-editor.org), onder andere om het veilig te maken en om DNS compatible te maken met ipv6 (AAAA records).</para>
</section>
<section><title>volgorde</title>
	<para>Met twee technische oplossingen voor hetzelfde probleem (hosts bestand en DNS) moeten er duidelijke afspraken zijn over de prioriteit die beide systemen krijgen. Met andere woorden, als we een ping doen naar computer42, wordt dan eerst DNS geraadpleegd ? Of eerst /etc/hosts ?</para>
	<para>Om dit te configureren moeten we een onderscheid maken tussen Microsoft, Mac OS X en de rest (Unix/Solaris/Linux/BSD...)</para>
	<section><title>Microsoft</title>
		<para>Op Microsoft systemen is er geen optie om de volgorde in te stellen. Het lokale hosts bestand heeft volgens Microsoft altijd voorrang op DNS. (Zie http://support.microsoft.com/kb/172218 en gelijkaardige artikels voor W200X etc).</para>
		<para>De volgende lijst van <command>hostnames</command> werken niet op Microsoft computers als je ze plaatst in het <command>hosts</command> bestand:</para>
		<screen>
www.msdn.com
msdn.com
www.msn.com
msn.com
go.microsoft.com
msdn.microsoft.com
office.microsoft.com
microsoftupdate.microsoft.com
wustats.microsoft.com
support.microsoft.com
www.microsoft.com
microsoft.com
update.microsoft.com
download.microsoft.com
microsoftupdate.com
windowsupdate.com
windowsupdate.microsoft.com
		</screen>
		<para>Meer info hierover vind je hier:</para>
		<screen>
http://archive.cert.uni-stuttgart.de/bugtraq/2006/04/msg00291.html
		</screen>
		<para>We hebben ook commando's als <command>ipconfig /all</command>, <command>ipconfig /displaydns</command> en <command>ipconfig /flushdns</command> gezien in de vorige les.</para>
	</section>
	<section><title>Mac OS X</title>
		<para>Mac OS X gebruikt hiervoor twee .plist bestanden in de directory /Library/Preferences/DirectoryService/ .</para>
	</section>
	<section><title>Unix Linux Solaris BSD</title>
		<para>Zowat alle andere besturingssystemen gebruiken een <command>name service switch</command> bestand genaamd <command>/etc/nsswitch.conf</command> . In dit bestand staan voor heel wat name services de volgorde waarin verschillende diensten gebruikt worden.</para>
		<para>Zo zal bijvoorbeeld de volgende lijn bepalen dat eerst het lokale hosts bestand moet geraadpleegd worden, en dan pas DNS.</para>
		<screen>
paul@laika:~$ grep hosts /etc/nsswitch.conf 
hosts:          files dns
		</screen>
		<para>Als je dit omdraaid naar <command>dns files</command> dan krijgt dns onmiddellijk voorrang op hosts.</para>
		<para>Sommige applicaties zullen dit bestand ook aanmaken op <command>Mac OS X</command>.</para>
	</section>
</section>
<section><title>DNS namespace</title>
	<para>De <command>namespace</command> van DNS is een boomstructuur met bovenaan een puntje. Dit puntje wordt de <command>root</command> van de DNS namespace genoemd. Servers die beschikken over dit puntje zijn <command>DNS root servers</command>, en worden in de (IT)volksmond ook gewoon <command>root servers</command> of <command>dot servers</command> genoemd.</para>
	<para>Onder dit puntje vinden we de <command>Top Level Domains</command> ofte <command>TLD's</command>. Oor spronkelijk waren dit er zeven generieke:</para>
	<screen>
.COM
.NET
.ORG
.MIL
.GOV
.EDU
.INT (nato.int)
	</screen>
	<para>Er zijn ook enkele honderden <command>TLD's</command> voor individuele landen, zoals .BE .NL .FR .US. Tussen haakjes, domeinnamen zijn hoofdletterongevoelig dus je kan zowel .be als .BE schrijven.</para>
	<para>Sinds enkele jaren zijn er enkele nieuwe generieke TLD's bijgekomen zoals .aero, .biz, .coop, .info, .museum, .name en .pro , maar deze worden nauwelijks gebruikt.</para>
	<para>Onder de TLD's in de boomstructuur vinden we dan de domeinnamen.</para>
</section>
<section><title>fqdn</title>
	<para>De combinatie van een <command>hostname</command> met een domeinnaam noemt men de <command>FQDN</command> ofte <command>Fully Qualified Domain Name</command>.</para>
</section>
<section><title>Belgische domein namen</title>
	<para>Oorspronkelijk stond de Belgisch .BE server op de eerste verdieping van het computerwetenschappengebouw van de KULeuven in de Celestijnenlaan. De beheerder was professor Verbaeten en de enige manier om een .be te registreren was door een brief met BTW-nr te schrijven naar dit departement.</para>
	<para>Op 1 januari werd <command>dotbe</command> overgenomen door de <command>vzw DNS.BE</command>. Op 11 december 2000 was er een serieuze liberalisering van de regels voor aanvraag van een Belgische domeinnaam, vanaf dat moment konden voor het eerst ook particulieren hun eigen naam registreren.</para>
	<para>Voor meer info:</para>
	<screen>http://dns.be/nl/home.php?n=22</screen>
</section>
<section><title>DNS caching</title>
	<para>DNS is een <command>caching</command> protocol. Je kan zelfs <command>caching only servers</command> installeren.</para>
	<screen></screen>
</section>
<section><title>DNS root servers</title>
	<para>Er zijn logisch gezien 13 <command>root name servers</command> op het internet genaamd A tot M. Deze worden beheerd door ICANN en werken op enkele na allemaal met de BIND software op AIX.</para>
	<para>Elke root server bestaat uit meerdere fysieke machines. Zo is de K-root server verspreid over alle continenten en aanwezig in 18 steden. De J-root server heeft 62 <command>nodes</command>.</para>
	<screen>
http://root-servers.org/
	</screen>
</section>
<section><title>root servers van internet</title>
	<para>Journalisten noemen dit wel eens de root servers van internet.</para>
	<para>In 2002 en in 2007 was er een poging om alle root servers plat te leggen met een DDOS aanval.</para>
	<screen>http://en.wikipedia.org/wiki/Distributed_denial_of_service_attacks_on_root_nameservers</screen>
</section>
<section><title>praktijkvoorbeeld</title>
	<para>De rol van DNS (en andere servers) bij het sturen van een e-mail.</para>
	<screen></screen>
</section>
<section><title>DNS records</title>
	<para>A NS MX SOA CNAME SRV AAAA</para>
	<screen></screen>
</section>
<section><title>DNS reverse lookup</title>
	<para>PTR .arpa</para>
	<screen></screen>
</section>
<section><title>DNS server software</title>
	<para>BIND</para>
	<screen></screen>
</section>
<section><title>resolving</title>
	<para>/etc/resolv.conf</para>
	<para>recursief - iteratief</para>
	<para>forward - reverse</para>
	<para></para>
	<screen></screen>
</section>
<section><title>DNS IDN</title>
	<para>unicode i.p.v. ascii, spoofing en squatting van homoniemen of homografen</para>
	<para>nog niet mogelijk in .be !</para>
	<screen></screen>
</section>
<section><title>Domeinnamen registreren</title>
	<para></para>
	<screen></screen>
</section>
<section><title>DNS round robin</title>
	<para></para>
	<screen></screen>
</section>
<section><title>DNS</title>
	<para></para>
	<screen></screen>
</section>
<section><title>over modems</title>
	<para>Over modems is heel wat te zeggen, modems hebben een essentiele rol gespeeld in de ontwikkeling van internet.</para>
	<section><title>modulatie-demodulatie</title>
		<para>Per definitie is een modem een modulator-demodulator. Modulatie is het encoderen van digitale informatie (zoals bits) over een analoog signaal (zoals het geluid over een telefoonverbinding). Demodulatie is het terug omzetten van dit analoge signaal naar (hopelijk dezelfde) bits.</para>
		<para>Een modem is dus een interface tussen de computer en het telefoonnetwerk, en laat toe dat twee computers (digitaal) met elkaar praten over de (analoge) telefoon.</para>
	</section>
	<section><title>baud</title>
		<para>Het moduleren van digitale informatie gebeurt in <command>symbolen</command>. Een symbool is een eenheid van digitale informatie die gecodeerd (gemoduleerd) is in een analoog signaal. Zo een eenheid van digitale informatie is bijvoorbeeld een bit (deze kan 0 of 1 zijn). Maar het kan evengoed een koppel bits zijn (mogelijke symbolen zijn dan 00, 01, 10 en 11). </para>
		<para>Indien een modem 300 symbolen per seconde kan zenden of ontvangen, spreken we van een <command>modulatie rate</command> of <command>baud rate</command> van 300.</para>
	</section>
	<section><title>bit rate</title>
		<para>De <command>bit rate</command> van de modem hangt af van de gebruikte symbolen. In het geval dat elk symbool slechts 1 bit bevat, is de bit rate gelijk aan de baud rate. Bevat elk symbool twee bits, dan is de bit rate het dubbel van de baud rate.</para>
	</section>
	<section><title>bits per seconde</title>
		<para>De <command>bit rate</command> kan je meten in bits per seconde (<command>bit/s</command> of <command>bps</command>) of ook in kilo- mega- giga- en terabits per seconde (ook geschreven als Mbit/s, Mbps, Gbit/s, Gbps, Tbit/s, Tbps). In tegenstelling tot de kibi vs kilo discussie bij harde schijven, is hier een kilo altijd gelijk geweest aan 1000 en een mega altijd aan 1000 kilo (enzoverder).</para>
	</section>
	<section><title>pariteit</title>
		<para>Pariteit is een eenvoudige controle op fouten tijdens de transmissie.</para>
		<para></para>
	</section>
	<section><title>seventies V. standaarden</title>
		<para>De bandbreedte (soms ook snelheid genoemd) in bits per seconde hangt af van de gebruikte standaard. De <command>V.21</command> standaard van 1962 liet toe om 300 bit/s te halen met een baud rate van 300 (m.b.v. FSK). De <command>V.22</command> standaard uit 1976 haalde 1200 bit/s gebruik makend van 600 baud (mbv PSK).</para>
		<para></para>
	</section>
	<section><title>eighties V. standaarden</title>
		<para>De jaren 80 zagen een evolutie van 2400 bit/s over 600 baud (de V.22bis standaard) naar 9600 bit/s over 2400 baud. Deze laatste werd in 1989 bereikt met de <command>V.32</command> standaard.</para>
		<para></para>
	</section>
	<section><title>nineties V. standaarden</title>
		<para>1991 zag de 14.4 kbit/s, dit werd verdubbelt in 1994 en verdrievoudigt in 1996 om vanaf 1998 een tijdje te verblijven op de veelgebrukte <command>V.90</command> standaard van 56 kilobits per seconde.</para>
		<para>Nadien zijn we overgeschakeld op andere technologien zoals DSL en DOCSIS.</para>
	</section>
</section>
<section><title>over DSL</title>
	<section><title>DSL</title>
		<para>DSL is een verzamelnaam voor verschillende <command>digital subscriber loop</command> implementaties zoals SDSL, IDSL, ADSL, ADSL2 etc.</para>
		<para>Typisch aan DSL is dat je een <command>DSL-splitter</command> nodig hebt om de lage voice-tonen (die naar de klassieke telefoon moeten) te scheiden van de hoge tonen (boven 25kHz) die DSL gebruikt voor data, en die naar de xDSL modem moeten.</para>
		<para>In tegenstelling tot wat sommige mensen denken, maakt de DSL technologie geen gebruik van het echte <command>pots</command> netwerk, maar enkel van de <command>local loop</command>.</para>
	</section>
	<section><title>ADSL</title>
		<para><command>Asynchronous DSL</command> werkt ook over de telefoonlijn, maar is veel sneller dan de 'normale' modems. ADSL gebruikt andere frequenties dan de voice-modems, en werkt enkel op de korte afstand (de local loop) tot aan de <command>DSLAM</command> in de telefooncentrale. Die DSLAM splitst wederom de stem van de rest, en waardat de stem over het pots netwerk verder gaat, gaat het adsl signaal over het datanetwerk van de telefoonmaatschappij (of isp) om zodoende het internet te bereiken.</para>
		<para>ADSL heeft typisch een veel grotere download bandbreedte dan upload. Een adsl modem synchroniseert met een bepaalde sync rate, de gebruiker bereikt door overhead maximaal 80-85 procent van deze sync rate.</para>
	</section>
	<section><title>SDSL</title>
		<para><command>Synchronous DSL</command> is nagenoeg identiek aan ADSL, behalve dat de up en download hetzelfde is.</para>
	</section>
	<section><title>DSLAM</title>
		<para>Een DSLAM is een <command>multiplexer</command> die verscheidene DSL lijnen verbindt met het internet. Je kan pas ADSL nemen als jou telefooncentrale over een DSLAM beschikt.</para>
		<para>De bandbreedte die je haalt tussen je xDSL modem en je lokale DSLAM wordt beperkt door de afstand tot aan de centrale:</para>
		<screen>
 300m --> 25 Mbit/s
 600m --> 24 Mbit/s
 900m --> 23 Mbit/s
1200m --> 22 Mbit/s
1500m --> 21 Mbit/s
1800m --> 19 Mbit/s
2100m --> 16 Mbit/s 
4500m --> 1.5 Mbit/s 
		</screen>
	</section>
	<section><title>local loop</title>
		<para>Met de <command>local loop</command> bedoelen we de laatste paar kilometer draad van de telefooncentrale tot aan uw woning. In heel wat landen is de (oude) publieke telefoonmaatschappij de eigenaar van deze laatste kilometer tot aan uw huis. Sommige landen hebben een wetgeving die verplicht om deze <command>local loop</command> te delen met concurrenten.</para>
	</section>
	<section><title>ATM</title>
		<para>ATM is ontwikkeld in de jaren 80 met realtime audio en video over het netwerk als doel. ATM werkt met zeer kleine cellen om <command>jitter</command> te voorkomen. Het is immers onaanvaardbaar dat packetjes te laat komen tijdens een telefoongesprek.</para>
		<para>Naast een DSLAM (in dezelfde telefooncentrale) staat soms een ATM verbonden met een ISP.</para>
	</section>
	<section><title>IP-DSLAM</title>
		<para>Een IP-DSLAM is een DSLAM die rechtstreeks IP spreekt met routers (in tegenstelling tot de normale DSLAM die ATM gebruikt om daarna via een ATM-IP router te verbinden met IP.</para>
	</section>
	<section><title>IDSL</title>
		<para>IDSL is DSL over ISDN. Het grote verschil met SDSL en ADSL is dat er bij IDSL geen gebruik wordt gemaakt van het klassieke voice-telefoonnetwerk. Alle data gaat over het ISDN netwerk. Nadeel is dan weer dat je niet tegelijk kan internetten en telefoneren (als je enkel over ISDN beschikt).</para>
		<para></para>
	</section>
	<section><title>multiplexen</title>
		<para>Multiplexen wil zeggen dat meerdere digitale signalen (die komen van meerdere kabels) worden samengezet op 1 enkel signaal (een enkele kabel). Multiplexen laat dus toe dat meerdere digitale signalen een (duur) kanaal (of een enkele kabel) delen. De multiplexer is een toestel dat meerdere signaal groepeert, de demultiplexer haalt de originele signalen er weer uit. Deze toestellen worden ook een <command>muxer</command> en een <command>demuxer</command> genoemd.</para>
	</section>
	<section><title>ADSL2+</title>
		<para>ADSL2+ gebruikt een groter spectrum om de downloadsnelheid van ADSL te verdubbelen tot 24Mbit/s.</para>
	</section>
</section>
<section><title>over kabelmodems</title>
	<section><title>DOCSIS</title>
		<para>DOCSIS is een internationale standaard om dataverkeer mogelijk te maken over de bestaande kabel-TV netwerken (zonder de TV utizendingen te verstoren).</para>
		<para>DOCSIS maakt gebruikt van kabelmodems die dienst doen als bridge en als modem om internet toegang te leveren via het (coax) kabelnetwerk.</para>
		<para>In Europa wordt door de PAL/NTSC verschillen eigenlijk de <command>EuroDOCSIS</command> standaard gebruikt (die ongeveer 25 procent sneller is dan de equivalente DOCSIS standaard).</para>
	</section>
	<section><title>CMTS</title>
		<para>Te vergelijken met de DSLAM bij DSL, verbinden de kabelmodems van de klanten zich met een CMTS in de centrales van het (TV-)kabelnetwerk. Een CMTS heeft (duizenden) coax kabels aan de ene kant, en ethernet interfaces aan de internet kant.</para>
		<para></para>
	</section>
</section>
<section><title>over bandbreedte</title>
	<para>Tot slot nog een kleine vergelijking van bandbreedtes van de besproken modems in kilobytes per seconde.</para>
	<screen>
Modem 300/300 bit/baud  -->  0.03kB/s
Modem 2400/600 bit/baud -->  0.24kB/s
Modem 9600/2400         -->  0.96kB/s
Modem 14.4 (V.32 bis)   -->  1.4 kB/s
Modem 56k (V.90)        -->  6.6 kB/s

ISDN BRI                -->   16 kB/s
IDSL                    -->   18 kB/s
SDSL                    -->  290 kB/s

ADSL                    -->  1024/  128 kB/s
ADSL2+                  -->  3072/  448 kB/s
DOCSIS v1               -->  4750/ 1125 kB/s
EuroDOCSIS v1           -->  6000/ 1125 kB/s
DOCSIS v2               -->  4750/ 3375 kB/s
EuroDOCSIS v2           -->  6000/ 3375 kB/s
DOCSIS v3               --> 20000/15000 kB/s
EuroDOCSIS v3           --> 25000/15000 kB/s

ter info : GPON FTTH    --> +300000 kB/s
	</screen>
</section>
<section><title>wireless</title>
	<para>Wireless is veel trager dan bijvoorbeeld utp kabels, maar meestal wel snel genoeg (sneller dus) dan gangbare thuis-internet verbindingen.</para>
	<para>Wireless ofte draadloos wil zeggen dat we alles bekijken wat golven van energie gebruikt om (data) te communiceren. Eerst eens kijken wat een golf is.</para>
	<para>Een golf (voor zover we die gebruiken bij datacommunicatie) beweegt zich voort in de lucht (of in een ander medium) met een bepaalde frequentie en amplitude. We laten voor het gemak de lichtgolven en electromagnetische golven even buiten beschouwing.</para>
</section>

<section><title>frequentie</title>
	<para>Frequentie wordt uitgedrukt in <command>Hertz</command>. Een golf met een frequentie van 440 Hertz ontvang je 440 keer in zijn geheel per seconde. Tussen haakjes, 440Hz is de basisfrequentie voor het stemmen van instrumenten (ook wel kamertoon genoemd).</para>
	<para>De meeste golven in deze cursus hebben echter een veel hogere frequentie, daarom gebruiken we onder andere kHz, MHz, GHz en THz (voor elke orde van 1000).</para>
	<para><command>Heinrich Hertz</command> (1857-02-27 - 1894-01-01) was een Hamburgs natuurkundige die vooral bezig was met elektromagnetisme en lichtgolven. Hij was de eerste om het bestaan van <command>VHF</command> en <command>UHF</command> aan te tonen.</para>
</section>

<section><title>spectrum</title>
	<para>UHF en VHF zijn onderdelen van het volledige radiospectrum, gaande van 3 Hz tot 300 Ghz.</para>
<screen>http://nl.wikipedia.org/wiki/Radiospectrum
</screen>
	<para>De AM-radiouitzendingen (de langegolf) zitten bijvoorbeeld in de LF band (Low Frequency). FM en (analoge)TV utizendingen gebruiken de VHF (30-300Mhz). Een toontje hoger zitten UHF-TV, GSM, onze microgolfoven, wireless LAN en Bluetooth. UHF golven zijn tussen de 10 centimeter en 1 meter lang, en overbruggen moeiteloos afstanden tot 100km. UHF wordt ook opgevangen door sattellietschotel antennes.</para>
	<para>Het spectrum is bepaald door de <command>ITU</command> (http://www.itu.int).</para>
</section>


<section><title>amplitude</title>
	<para><command>Amplitude</command> is de grootte van de golf.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/amplitude.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Een geluidsgolf is bijvoorbeeld sterker (of groter) als hij vertrekt bij uw mond, dan wanneer hij aankomt bij iemands oor (toch als je zonder versterkers in een open ruimte spreekt). Bij geluidsgolven wordt deze amplitude gemeten als luchtdruk (in <command>pascal</command> dus).</para>
</section>


<section><title>fase</title>
	<para>De fase van een golf kan uitgedrukt worden in graden, waarbij 360 graden gelijk is aan 1 golflengte. Verschillende golven kunnen met elkaar in fase zijn, of niet.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/fase.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Sommige mensen zetten bass-luidsprekers per ongeluk in tegenfase.</para>
</section>

<section><title>golflengte</title>
	<para>De <command>golflengte</command> is de lengte in meter van een golf, te meten van top tot top (of eender welk ander puntenkoppel met dezelfde fase).</para>
</section>

<section><title>IEEE 802.11</title>
	<para>De <command>IEEE 802.11</command> standaarden beschrijven draadloze radiogolf communicatie voor computers in een WLAN (wireless local area network). De gebruikte frequenties zijn 2.4, 3.6 en 5GHz.</para>
	<para>De meest gebruikte van deze standaarden zijn de 802.11a, 802.11b en 802.11g.</para>
	<section><title>802.11a</title>
		<para>De <command>IEEE 802.11a</command> standaard dateert al uit 1999 en werkt op de 5GHz band. De theoretische maximum bandbreedte die je met deze standaard haals is 54Mbit/s (net zoals modems wordt er teruggevallen op lagere snelheden bij het handshaken).</para>
		<para>Deze standaard gebruikt 12 kanalen.</para>
	</section>

	<section><title>802.11b</title>
		<para>De <command>IEEE 802.11b</command> standaard (ook uit 1999) is beperkt tot maximaal 11Mbit/s, maar is wel al tien jaar beschikbaar in de praktijk. Bijkomend voordeel op de 802.11a is dat deze de 2.4GHz band gebruikt i.p.v. de 5GHz (deze laatste wordt makkelijker geabsorbeerd door muren).</para>
		<para>Nadeel is dan weer dat de 2.4GHz band een vrije band is, er is dus interferentie mogelijk met andere draadloze toestellen (en ook met microgolfovens).</para>
	</section>

	<section><title>802.11g</title>
		<para>In 2003 kwam met op de proppen met de <command>IEE 802.11g</command> standaard. Deze werkt ook in het 2.4GHz spectrum, maar wel aan maximaal 54Mbit (in de praktijk 22Mbit bruikbare data).</para>
		<para>Al sinds januari 2003 (dus nog voordat de standaard er was) zijn er triband (ondersteuning voor a,b en g) producten op de markt.</para>
	</section>

	<section><title>802.11n</title>
		<para>Sinds vorige maand is er een nieuwe standaard, de <command>802.11n</command> met een theoretische bandbreedte van 600Mbit/s. De toestellen zijn al wel sinds twee jaar te koop.</para>
		<screen>http://en.wikipedia.org/wiki/IEEE_802.11n-2009</screen>
	</section>

	<section><title>kanalen</title>
		<para>Een band zoals bijvoorbeeld de 2.4GHz band wordt de een IEEE 802.11 standaard steeds onderverdeeld in <command>kanalen</command>. De 2.4Ghz band beschikt eigenlijk over alle frequenties van 2.400 Ghz tot en met 2.499 GHz. Vanaf het eerste kanaal op 2.412 GHz is er om de 5Mhz een nieuw kanaal. Alle kanalen zijn 22MHz breed, er is dus overlapping.</para>
		<screen>http://en.wikipedia.org/wiki/List_of_WLAN_channels</screen>
		<para>Het is aan te raden om enkel de kanalen 1, 6 en 11 te gebruiken als het bereik van de access points elkaar overlapt. Het gebruik van de kanalen 1, 4, 8 en 11 kan voor problemen zorgen (als je ze dom plaatst).</para>
		<screen>http://www.cisco.com/en/US/docs/wireless/technology/channel/deployment/guide/Channel.html</screen>
	</section>
	<section><title>bonding</title>
		<para>Producten die kanalen samen gebruiken (bonding) om 108Mbit aan te bieden, zijn niet beschreven in een standaard en zijn zeker niet met alle draadloze clients compatibel.</para>
	</section>
	<section><title>bandbreedte?</title>
		<para>In de praktijk wordt door de asynchroniteit van deze standaarden en de overhead van de lagen een veel lagere doorvoer van data gehaald dan de geadverteerde 54Mbit (of 11Mbit).</para>
	</section>
</section>

<section><title>WiMAX</title>
	<para><command>WiMAX</command> is de marketing naam voor de <command>IEEE 802.16</command> standaard om mobiele draadloze toegang te voorzien met een bereik van enkele kilometer en een bandbreedte tussen 1 en 20Mbit. Steden zoals Leuven, Gent en Aalst beschikken over een WiMAX netwerk (van Clearwire).</para>
	<para>Praktijkervaring leert dat de technologie nog in de kinderschoenen staat (of dat clearwire het aantal stations duidelijk onderschat). Er zijn (of waren) plannen bij Clearwire om heel Belgie te dekken met WiMAX (maar vandaag is er nog geen verbinding in Antwerpen bv).</para>
</section>

<section><title>Wi-fi</title>
	<para>Dit is een handelsmerk, meestal gebruikt voor WLAN (Wireless LAN) toestellen.</para>
</section>

<section><title>Access Point</title>
	<para>Een <command>Wireless Access Point</command> is een toestel dat draadloze verbindingen toelaat van client devices (wireless pc-cards etc). Meestal is de <command>access point</command> verbonden met een bekabeld netwerk.</para>
	<para>Deze toestellen kunnen meestal verschillende draadloze WLAN (of Bluetooth) standaarden aan, en kunnen een kanaal kiezen.</para>
	<para>De meeste <command>access points</command> die thuis staan zijn tegelijk ook router (nat), ethernet hub en dhcp en dns server voor alle computers in het thuisnetwerk. </para>
</section>

<section><title>hotspot</title>
	<para>Een <command>hotspot</command> is een plaats waar draadloos internet beschikbaar is. Zowel laptops, netbooks als pda en smartphones kunnen gebruik maken van hotspots.</para>
	<para>Beveiliging van hotspots (of wireless in het algemeen) is een heel groot onderwerp...</para>
</section>

<section><title>draadloze beveiliging</title>
<para>Het grote verschil met bekabelde netwerken, is dat je geen firewall in de lucht kan hangen om je draadloze netwerk te beveiligen.</para>

<section><title>per ongeluk</title>
	<para>Heel wat software zoekt automatisch een netwerk, heel wat draadloze toestellen (modems) staan standaard open voor deze automatische zoekopdrachten. Het is dus perfect mogelijk dat je per ongeluk op een ander zijn draadloos netwerk surft.</para>
</section>

<section><title>MAC beveiliging</title>
	<para>Je kan de meeste <command>access points</command> beveiligen door enkel bepaalde MAC-adressen toe te laten. Maar zoals jullie weten is het MAC-adres eem essentieel onderdeel van elk ethernet frame, en door elke sniffer gewoon te lezen.</para>
	<para>MAC filtering beschermt je wel tegen 'per ongeluk'.</para>
</section>

<section><title>Denial of Service</title>
	<para>Niet echt een hack, maar wel lastig als je er mee te maken krijgt.</para>
</section>

<section><title>IP beveiliging</title>
	<para>Je kan de draadloze DHCP server afzetten, en enkel werken met (enkele) toegelaten vaste ip-adressen.</para>
</section>

<section><title>WEP</title>
	<para>WEP staat voor <command>Wired Equivalency Privacy/Protocol</command> en is een verouderde standaard om draadloze netwerken te beveiligen.</para>
	<para>De WEP standaard dateert uit 1997, sinds 2001 zijn er tools te vinden om WEP te kraken. Als reactie hierop werd WPA ontworpen.</para>
	<para>WEP bestaat (of bestond) in een 40bit en een 128bit standaard (danku USA). Een grotere sleutel wil zeggen dat er meer pakketjes moeten gesnift worden alvorens je de key kan berekenen (kraken). Een goeie crack-tool genereerd zelf binnen enkele minuten de nodige traffiek om de WEP-sleutel te achterhalen. (Sinds 2007 is publiek aangetoond dat dit ook binnen de enkele seconden kan.</para>
<screen>http://eprint.iacr.org/2007/120.pdf</screen>
</section>

<section><title>WPA</title>
	<para>WPA staat voor <command>Wi-Fi Protected Access</command> is ontworpen als reactie op de zwakke WEP beveiliging. WPA is ondertussen zelf vervangen door WPA2. WPA beveiliging met een simpele passphrase (pre-shared key) kan binnen de minuut gekraakt worden. WPA2 (dat AES gebruikt) is wel veilig als je een goeie 64-hex string gebruikt.</para>
</section>

<section><title>ramen en muren</title>
	<para>Om te verhinderen dat je (corporate) netwerk ook op de parking beschikbaar is, kan je speciale verf op de muur plaatsen (of een film op de ruiten) om radiogolven bewust te absorberen.</para>
</section>

</section>

<section><title>radius, ssh en ipsec</title>
	<para></para>
</section>

<section><title>planning ?</title>
	<para>18/11: huiswerk + wireless (+ demo?)</para>
	<para>25/11: demo-dag (ip, subnets, dns, dhcp + hoe webserver maken...)</para>
	<para>02/12: Hoe netwerk bouwen (VLAN, switches, ...) + terminologie</para>
	<para>09/12: ??</para>
	<para>16/12: herhaling alles + vragen</para>
	<para>06/01: examen (multiple choice)</para>
</section>
<section><title>demo DNS</title>
	<para>Hieronder enkele screenshots van het opzetten en testen van een DNS server op Red Hat Enterprise Linux 5.3 en Microsoft Windows Server 2003.</para>
	<para>Om de twee eens naast elkaar te zetten heb ik geopteerd om de DNS setup op RHEL5 ook grafisch te doen, ook al zullen de meeste Unix sysadmins dit eerder doen door een bestaande <command>zone database file</command> (die in de laatste screenshot getoond wordt) te copieren en aan te passen.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_vs_w2003_logon.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Beide OS-sen zijn geinstalleerd in een <command>Virtualbox</command> virtuele machine.</para>
</section>

<section><title>software installeren</title>
	<para>We zoeken in beide OS-sen de GUI om software te installeren. Microsoft noemt dit <command>Add or Remove Programs</command>. Gemakshalve zijn we hier aangelogd als <command>Administrator</command>.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_w2003_dns_add_remove_apps.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Red Hat noemt dit <command>Add/Remove Software</command>. Ook hier zijn we gemakshalve aangelogd als <command>root</command>.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_dns_add_remove_apps.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Alternatief kan je op Linux gebruik maken van de command line <command>yum</command> of <command>aptitude</command>.</para>
	<screen>
root@RHEL5:~# yum install bind
root@debian:~# aptitude install bind9
	</screen>
</section>

<section><title>installatie wizard</title>
	<para>Microsoft Windows beschouwt <command>Domain Name System</command> als een <command>Windows Component</command> die je gratis krijgt bij aankoop van een Windows Server.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_w2003_dns_install.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Red Hat gebruikt de vrije applicatie genaamd <command>BIND</command>. BIND is sinds de ontwikkeling van DNS in 1983 de meest gebruikte DNS server.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_dns_install.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>GUI tool voor DNS beheer</title>
	<para>Microsoft heeft samen met de DNS server software ook een <command>snapin</command> voor DNS server beheer geinstalleerd en toegevoegd aan het start menu.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_w2003_dns_installed.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Red Hat heeft ook een GUI DNS tool, maar deze moet je wel apart installeren. Unix mensen zijn al jaren gewoon om rechtstreeks met de text bestanden te werken.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_dns_installed.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>DNS voor zichzelf</title>
	<para>Hierzie de <command>tcp/ip properties</command> zodat Windows DNS server kan zijn voor zichzelf.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_w2003_dns_himself.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>En we doen hetzelfde op Red Hat. Alternatief kunnen we dit op zowat elke Unix ook zo doen:</para>
	<screen>echo nameserver 192.168.1.200 > /etc/resolv.conf</screen>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_dns_himself.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>nieuwe zone maken</title>
	<para>Microsoft voorziet een <command>wizard</command> om een nieuwe zone aan te maken. In tegenstelling tot <command>Windows 2000 Server</command> wordt standaard geen root-zone meer aangemaakt.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_w2003_dns_wizard_primary_zone.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>BIND levert standaard een aantal zones mee. Zoals eerder gezegd, zullen Unix mensen meestal een bestaande zone-bestand copieren en aanpassen.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_dns_wizard_primary_zone.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>zone database file</title>
	<para>Microsoft geeft hier mooi de naam van de <command>zone database file</command>. Hoewel de naam vrij te kiezen is, is het formaat van dit tekstbestand wel vastgelegd in een <command>rfc</command>.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_w2003_dns_wizard_zonefile.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Red Hat vraagt eveneens de naam van de aan te maken zone, en gebruikt deze naam om de <command>zone database file</command> aan te maken.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_dns_wizard_zonefile.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>nslookup</title>
	<para>Hier gebruiken we <command>nslookup</command> om de DNS server te testen. We vragen de A record van w2003.classdemo.local en www.classdemo.local (die laatste bestaat niet).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_w2003_dns_lookup_A_fail.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Microsoft start vanzelf de DNS server, Red Hat wacht totdat we dit zelf doen. U ziet wederom <command>nslookup</command> met twee queries voor twee A records.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_dns_lookup_A_fail.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>A record</title>
	<para>Na aanmaken van de A record, wordt die ook geresolved door <command>nslookup</command>.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_w2003_dns_lookup_success.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Na aanmaken van de A record, wordt die ook geresolved door <command>nslookup</command>.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_dns_lookup_success.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>MX record</title>
	<para>Een MX record wijst naar de <command>smtp</command> server van een domeinnaam. Deze mailserver kan zelf in een andere domein zitten.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_w2003_dns_mx_record.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>In de nslookup prompt kan je <command>set type=MX</command> typen om MX records te vinden.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_dns_mx_record.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>reverse lookup</title>
	<para>Zonder <command>reverse lookup zone</command> kan je geen ip-to-name vertaling doen. Met een PTR record in een reverse lookup zone kan dat wel.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_w2003_dns_reverse_lookup.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Op Linux wordt behalve <command>nslookup</command> ook meer en meer gebruikt gemaakt van <command>dig</command>.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_dns_reverse_lookup.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>zone database file formaat</title>
	<para>Het formaat van de <command>zone database file</command> is vastgelegd in rfc 1034 (en opvolgers).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_w2003_dns_zonedb_file.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Knippen en plakken in deze files kan zelfs tussen Unix en Microsoft systemen.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_rhel5_dns_zonedb_file.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>
<section><title>praktijk netwerk bouwen</title>
	<para>Jullie vroegen wat praktijk om een netwerk te bouwen met <command>hubs</command>, <command>switches</command>, <command>routers</command> en kabels. Dit past ook in het leerprogramma als we er de nodige terminologie bij gooien.</para>
</section>

<section><title>hubs</title>
	<para>We weten nog dat hubs in principe veredelde versterkers zijn die signalen die ze binnenkrijgen doorsturen naar alle andere poorten. Hubs zijn de domste dingen en zitten in laag 1.</para>
	<para>We beschikken over een GeoStax/E 16-port hub en over een 5-port 3Com OfficeConnect 'switch' (die behalve 802.1p en 10/100Mbit detectie eigenlijk een hub is).</para>
</section>

<section><title>switches</title>
	<para>We weten nog dat switches in laag 2 zitten, en dat die dus ietske slimmer zijn dan hubs. Switches bestaan er in 1001 soorten. We hebben een 24-port SmartStack ELS-100, een 24-port DNswitch 224s en een 24-port LinkSys/Cisco SR224.</para>
</section>

<section><title>routers</title>
	<para>Routers kennen ip-adressen en zitten dus in laag 3. We hebben geen router in de klas...</para>
</section>

<section><title>kabels</title>
	<para>We hebben uiteraard straight en crossed utp kabels nodig, en ook een nullmodem kabel.</para>

<section><title>rj45</title>
	<para>In de volksmond heeft en het dikwijls over rj11 en rj45 aansluitingen voor respectievelijk de telefoon-plug en de netwerkkabel-plug. Feitelijk berust dit op een misverstand.</para>
	<screen>
http://en.wikipedia.org/wiki/RJ45
	</screen>
</section>

<section><title>rechte kabel</title>
	<para>Een <command>straight cable</command> ook wel patch-kabel genoemd is een utp kabel met de draadjes an beide uiteinden (de rj45 plugs) hetzelfde. Dit is nodig voor heel wat 10/100Mbit netwerken (gigabit ethernet heeft auto-MDIX en ondersteund dus beide soorten kabels). </para>
	<screen>
http://en.wikipedia.org/wiki/Twisted_pair
	</screen>
</section>

<section><title>crossover ethernet kabel</title>
	<para>Een <command>crossed cable</command> of crossover cable (NL: een gekruiste kabel), is dus een kabel waar enkele draadjes anders zitten aan de ene kant dan aan de andere kant (paren 3 en 6 zijn gekruist).</para>
	<screen>
http://en.wikipedia.org/wiki/Ethernet_crossover_cable
	</screen>
</section>

<section><title>nullmodem kabel</title>
	<para>Deze kabel uit de oertijd van de informatica (db9-db9) kon gebruikt worden in de jaren 80 om twee computers met elkaar te verbinden langs de seriële poort. Vandaag wordt deze kabel nog gebruikt om consoles van allerhande toestellen te bereiken.</para>
	<para>Als je laptop geen seriële poort meer heeft, dan kan een serial-to-usb dongle je verder helpen.</para>
	<screen>
http://en.wikipedia.org/wiki/Null_modem
http://nl.wikipedia.org/wiki/Seriële_poort
http://en.wikipedia.org/wiki/D-subminiature
	</screen>
</section>

<section><title>de console</title>
	<para>Er bestaat soms veel verwarring over wat de <command>console</command> nu juist is. We gebruiken hier in de klas een nullmodem kabel om de console van een switch te bekijken. In onze klas is de console dus het scherm dat luistert naar de seriële poort van een van de computers.</para>
	<para>Op Unix wordt het toestel (of het device) dat luistert naar /dev/console wel eens de <command>console</command> genoemd.</para>
</section>

</section>

<section><title>demo console switch</title>
	<para>We gebruiken hier een terminal programma dat luistert naar de seriële poort (die verbonden is via een nullmodem kabel met de seriële poort van de switch) terwijl de switch opstart. Wat volgt zijn enkele screenshots.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_vh-2402s_welkom.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Het eerste screenshot hierboven toont het welkomstscherm van de SmartStack ELS100 switch. Je moet uiteraard over een userid en paswoord beschikken om de switch te beheren.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_vh-2402s_main_menu.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>De switch beschikt over een overzichtelijk en makkelijk te navigeren menu.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_vh-2402s_spanning_tree.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Je kan het stp (spanning tree protocol) beheren en installen via dit menu. In het screenshot hierboven zie je dat er een kabel steekt in port 4.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_vh-2402s_ipconfig.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Altijd handig om het ip adres van je switch te kennen.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/screenshot_vh-2402s_webinterface.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Als je het ip-adres kent, dan kan je surfen naar de webinterface van de switch.</para>
</section>

<section><title>stp</title>
	<para>Het <command>spanning tree protocol</command> of <command>stp</command> ...</para>
	<para>Een voorbeeldje van <command>stp</command> aan het werk (met dank aan GhosT die deze tekeningen onder CC Attribution 3.0 op wikipedia heeft gezet).</para>
	<para>Hieronder een netwerk bestaande uit 6 segmenten (letters a tot f), gescheiden door zeven switches (cijfers 3, 4, 5, 7, 12, 24, 92). Zonder <command>stp</command> zouden er eindeloze lussen ontstaan (van bijvoorbeeld arp broadcasts).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/Spanning_tree_protocol_at_work_1.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>De eerste actie van <command>stp</command> is om een <command>root bridge</command> te verkiezen (herinner U dat bridges en switches beide op layer 2 zitten). De switch met de laagste <command>bridge id</command> wordt verkozen toto <command>root bridge</command>.</para>
	<para>Een <command>bridge id</command> is een combinatie van een in te stellen prioriteit (een geheel getal) en het mac adres. Enkel bij gelijke prioriteit wint de bridge(switch) met het laagste mac adres. In ons voorbeeld is switch nr 3 verkozen tot root bridge.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/Spanning_tree_protocol_at_work_2.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Vervolgens zoekt elke switch de kortste weg naar de <command>root bridge</command>. In ons voorbeeld hier heeft elk netwerk een <command>cost</command> van 1 gekregen, maar in de praktijk kan dit verschillen. Elke switch benoemt de poort van die kortste weg de <command>root port</command> (RP).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/Spanning_tree_protocol_at_work_3.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Vervolgens wordt er voor elk netwerksegment de poort gezocht die de kortste weg aanduidt naar de <command>root bridge</command>. Deze poort wordt dan de <command>designated port</command>(DP) voor dat netwerksegment genoemd.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/Spanning_tree_protocol_at_work_4.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Alle overige poortten worden geblocked (Blocked Ports).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/Spanning_tree_protocol_at_work_5.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Als het netwerk (door een losse kabel bijvoorbeeld) hertekend wordt, dan berekent <command>stp</command> automatisch de nieuwe koste weg naar de <command>root bridge</command>, met bijhorende herbenoeming van <command>root ports</command> en <command>designated ports</command>.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/Spanning_tree_protocol_at_work_6.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para></para>
</section>
<section><title>inleiding</title>
	<para>Wat volgt is een demo van het opzetten van een DHCP server. Eerst op Windows 2003 Server zoals we in de klas vorige week gedaan hebben, dan op Red Hat Linux Server.</para>
	<para></para>
</section>

<section><title>vier broadcasts</title>
	<para>We weten nog dat dhcp werkt met broadcasts. Als een dhcp client opstart, dan stuurt die een <command>DHCPdiscover</command>. Alle dhcp servers antwoorden met een <command>DHCPoffer</command>. De client kiest een van de offers (volgens de rfc het eerste offer) en stuurt een <command>DHCPrequest</command>. De server antwoordt dan (meestal) met een <command>DHCPack</command>(knowledge). U ziet een sniff hiervan hieronder.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/wireshark_dhcp_four_broadcasts.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Pas na deze vier broadcasts mag de client de ip-configuratie die hij gekregen heeft gebruiken. Dit tot aan het einde van de lease periode.</para>
</section>

<section><title>dhcp server op windows</title>
	<para>De installatie verloopt geheel gelijk aan die van Microsoft Windows 2003 DNS server, we beperken ons tot een enkel screenshot hier.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/dhcp_w2003_install.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>

	<para>Zoals de meeste Windows settings wordt je ook hier een wizard kado gedaan die je begeleidt door de setup van een nieuwe scope (of range).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/dhcp_w2003_new_scope.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>

	<para>Elke setting krijgt een aparte pagina in de wizard. Hieronder de vraag naar de range van ip-adressen.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/dhcp_w2003_range.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>

	<para>Als een client een ip-adres (of een ip-configuratie met subnet+router+dns+...) krijgt, dan is dit altijd tijdelijk. Als de helft van deze <command>lease time</command> bereikt is, dan zal de client terug een <command>DHCPrequest</command> broadcasten. Meestal komt er dan een <command>DHCPack</command> van de server, met een nieuwe (meestal dezelfde) lease time.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/dhcp_w2003_lease_time.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>

	<para>Eens de wizard doorlopen, en de scope geactiveerd, kan je alle settings en alle leases bekijken via de DHCP tool (eigenlijk een dhcp snapin voor de mmc).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/dhcp_w2003_done.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>dhcp server op Linux</title>
	<para>Eerste stap is om even te kijken in het <command>/etc/dhcpd.conf</command> bestand (om te zien of er al iets gedefinieerd is). Er is nog geen bestaande config, het bestand wijst ons naar een voorbeeld config genaamd <command>dhcpd.conf.sample</command>.</para>
	<screen>
[root@localhost ~]# cat /etc/dhcpd.conf 
#
# DHCP Server Configuration file.
#   see /usr/share/doc/dhcp*/dhcpd.conf.sample  
	</screen>
	<para>We passen het voorbeeldje een beetje aan en copieren de volgende configuratie naar <command>/etc/dhcpd.conf</command>.</para>
	<screen>
subnet 192.168.1.0 netmask 255.255.255.0 {
	range 192.168.1.140 192.168.1.159
	option routers               192.168.1.1;
	option subnet-mask           255.255.255.0;
	option domain-name           "classdemo.local";
	option domain-name-servers   192.168.1.1;
	default-lease-time           21600;
}
	</screen>
	<para>U herkent hierboven (hopelijk) dezelfde opties als in de Windows 2003 DHCP Server wizard.</para>
</section>

<section><title>dhcp client</title>
	<para>Hieronder een voorbeeldje van een Windows 2003 computer die client is van een RHEL5 dhcp server.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/dhcp_w2003_client.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>
<section><title>inleiding</title>
	<para>Vorige les hebben we een webserver opgezet op Windows 2003 server, een simpele website gemaakt en deze beveiligd met een paswoord. We hebben de nadruk gelegd op http en welke informatie een webserver gebruikt om een van zijn websites te tonen: ip-adres, domeinnaam en poort.</para>
	<para>Je kan verschillende websites op dezelfde webserver benaderen door een andere poort te kiezen, een ander ip adres te kiezen, of de website een andere domeinnaam te geven.</para>
	<para>Nadien hebben we ook met <command>apache</command> een webserver gemaakt die een simpele website toonde. We gebruikten een domeinnaam (toegevoegd aan het hosts bestand) om deze website te bereiken.</para>
</section>

<section><title>simpele websites</title>
	<para>Hieronder een screenshot van de broncode (html source code) van onze website op Windows, getoond via de <command>browser</command> internet explorer.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/website_w2003_ie.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Hieronder een screenshot van de broncode (html source code) van onze website op Linux, getoond via de browser firefox.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/website_rhel5_ff.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>de webservers</title>
	<para>Op Windows maakten we gebruik van Microsoft IIS (Internet Information Server). We hebben de default website aangepast, en laten wijzen naar ons index.html document.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/webserver_w2003.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Op Red Hat Enterprise Linux hebben we enkel de laatste tien lijnen aangepast in httpd.conf (het configuratiebestand van de httpd (alias apache) webserver.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/webserver_rhel5.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>routerke in netwerk</title>
	<para>We hebben naast hubs en switches vorige les ook een een routerke in een netwerk gehangen. Dit vereist de berekening van twee subnets, de juiste 'kanten' van de router herkennen en werken met de (web)interface van de router zelf. Het routerke had ook een interne DHCP server en DNS server.</para>
</section>
<section><title>tekening DNS</title>
	<para>Hieronder op vraag van Carry en Marjan  een tekening zoals ik ze gemaakt heb in de klas. Het gaat hier enkel over DNS. Als ik tijd vind, dan vul ik dit hoofdstukje wel aan met tekeningen over HTTP, DHCP en SMTP.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/dns.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>0. Ik surf thuis op mijn laptop naar http://www.linux-training.be, we volgen het DNS verhaal om tot aan de webserver te geraken waar deze website staat. De laptop staat helemaal links op de tekening, de webserver staat helemaal rechts (ip 88.151.243.8). De webserver heeft meerdere namen (meerdere A records wijzen naar deze webserver).</para>
	<para>Voor deze test heb ik even rechtstreeks het ip-adres van de EDPNET DNS server (212.71.8.10) in de laptop gezet. Alternatief had ik ook het ip-adres van mijn routerke (alias dns/dhcp/adslmodem/nat) kunnen ingeven, een situatie die u kan bekijken in de volgende tekening.</para>
	<para>1. De laptop vraagt aan de DNS server van mijn ISP EDPNET de A record van www.linux-training.be. We gaan er even van uit dat ik de eerste ben vandaag die naar deze website surft. DNS is een caching protocol, dus als vijf minuten geleden een andere klant van EDPNET naar deze website is geweest, dan antwoord de DNS server gewoon uit zijn cache.</para>
	<para>2. De DNS server van EDPNET vraagt in een <command>iteratieve query</command> aan een root server (hier de H root server in de USA) waar zich www.linux-training.be bevindt.</para>
	<para>3. De root server antwoordt met een verwijzing naar de DNS server die verantwoordelijk is voor de hele .be zone. Als je snift dan zie je dat er een hele lijst van .be servers wordt gegeven en kan je zien dat deze lijst zowel namen als IP-addressen bevat.</para>
	<para>4. De DNS server van EDPNET vraagt, wederom iteratief, waar www.linux-training.be is aan een van de .be DNS servers (de eerste uit de lijst van de vorige stap was a.ns.dns.be).</para>
	<para>5. De .be DNS server antwoordt met een reeks namen en bijhorende ip adressen van <command>openminds</command> (het hosting bedrijf waar de www.linux-training.be) webserver staat.</para>
	<para>6. De DNS server van EDPNET heeft nu de DNS server gevonden die verantwoordelijk (authoritative) is voor linux-training.be en vraagt aan deze de A record voor www.linux-training.be.</para>
	<para>7. De DNS server ns1.openminds.be antwoordt met de gezochte A record 88.151.243.8.</para>
	<para>8. De DNS server van EDPNET geeft dit antwoord aan de laptop. De laptop kan nu rechtstreeks de webserver bereiken (maar dat is een ander verhaal).</para>
	<para>In dit verhaal heeft de laptop een <command>recursieve query</command> gedaan, hij wil een volledig antwoord. De root servers en de .be servers antwoorden niet op recursieve queries, enkel op iteratieve!</para>
	<para>In dit verhaal werden enkel <command>udp</command> packetjes gebruikt, er is dus nergens een <command>tcp sessie</command> opgezet.</para>
</section>

<section><title>tekening DNS + routerke</title>
	<para>Deze tekening is nagenoeg de zelfde als de vorige, alleen hebben we nu ons lokaal routerke/adsl-modem/nat/dhcp-ke ertussen gezet. Op de laptop staat dus 192.168.1.1 als DNS server.</para>
	<para>U weet (hopelijk) dat het routerke twee ip adressen heeft, eentje aan de binnenkant (de kant van het thuisnetwerk 192.168.1.1) en eentje aan de buitenkant (de internet-kant).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/dns_routerke.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>0. De laptop doet een recursieve DNS query naar het routerke.</para>
	<para>1. Het routerke doet een recursieve DNS query naar de DNS server van de ISP.</para>
	<para>2. tot 7. De DNS server van de ISP EDPNET doet al het werk.</para>
	<para>8. Het routerke krijgt een definitief antwoord, en houdt dit antwoord bij in zijn cache.</para>
	<para>9. De laptop krijgt een definitief antwoord van het routerke.</para>
	<para>Als even later een andere (thuis)computer dezelfde vraag stelt aan het routerke, dan kan dit antwoorden vanuit zijn cache.</para>
</section>

<section><title>tekening DHCP</title>
	<para>We hebben een klein netwerkje met twee servers (DHCP-SRV1 en DHCP-SRV2) en twee clients (SunWS1 en Mac42). In het midden staat een hub (of een switch) om aan te tonen dat deze vier computers op hetzelfde netwerk, hetzelfde segment zitten. Alle vier de computers hebben een kabel naar de hub (niet getekend hier).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/dhcp.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>1. De client SunWS1 start op en stuurt een DHCPDiscover op het netwerk. Alle computers ontvangen deze broadcast.</para>
	<para>2. Beide DHCP servers antwoorden met een DHCPOffer. DHCP-SRV1 is een dedicated DHCP server en is sneller met zijn offer dan DHCP-SRV2 (die ook fileserver is).</para>
	<para>3. De client kiest het offer van DHCP-SRV1 en stuurt een DHCPRequest op het netwerk.</para>
	<para>4. DHCP-SRV1 antwoordt met een DHCPAck (een acknowledge).</para>
	<para>Alle vier de broadcasts (of vijf want er waren twee offers) zijn een layer 2 ethernet broadcast naar ff:ff:ff:ff:ff:ff en een layer 3 ip broadcast naar 255.255.255.255. Alle vier de computers hebben alle broadcasts ontvangen.</para>
</section>

<section><title>tekening http</title>
	<para>Hieronder een overzicht van een http request naar google.com. Het DNS verhaal is hier ingekort tot de recursieve A query en response, het layer 2 en layer 3 verhaal is volledig weggelaten.</para>
	<para>Links staat een macbook pro en ik gebruik de safari browser om te surfen naar google.com. Deze website is gehost op een van de google webservers (209.85.227.113).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/http.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>1. Stap 1 gebruikt <command>udp</command> om een A record te vragen aan de lokale DNS server (mijn routerke genaamd illyria). Dit is een forward lookup query voor www.google.com.</para>
	<para>2. Is een antwoord van de DNS server dat het ip-adres (209.85.227.113) bevat van de webserver. Dit antwoord kwam ook in een <command>udp</command> packetje.</para>
	<para>3. Dit packetje is de eerste stap in de <command>tcp three-way handshake</command> om een <command>tcp sessie</command> op te zetten. Op layer vier is dit een sessie tussen de macbook en de webserver van Google, maar vergeet niet dat in de praktijk de layer 2 tot aan de router gaat, en de layer 3 (ip) via de router (en nog een tiental andere routers die je kan vinden via traceroute) gaat.</para>
	<para>4. Dit is de tweede stap in de <command>tcp handshake</command>, de webserver antwoord met een tcp <command>syn,ack</command> packetje.</para>
	<para>5. De macbook bevestigt de <command>tcp sessie</command> met een <command>tcp ack</command>. Na deze drie packetjes (syn ; syn,ack ; ack) is de <command>tcp-sessie</command> een feit.</para>
	<para>6. Als de tcp-sessie klaar is, dan kan <command>http</command> eindelijk zijn http query doen om een webpagina te vragen aan de webserver. Zoals we in de demo-les hebben gezien bevat deze http GET een ip-adres, de naam van een website en een poortnummer (hier 80). Hieronder zie je de handshake en de http GET door de ogen van <command>wireshark</command>.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/tcp_http_handshake.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>Vanaf stap 7, (niet op de tekening) zijn er heel wat packetjes die tussen de macbook en de webserver worden uitgewisseld.</para>
</section>

<section><title>tekening pop3</title>
	<para>Je mailbox staat op een mailserver. Mailservers ontvangen mail via <command>smtp</command> en droppen de mail (hopelijk) in de juiste mailbox. Als je je mail leest via MS Outlook, Evolution of Thunderbird, dan maak je een verbinding met die mailbox om de mail te copieren naar je lokale pc. We bekijken kort hoe dit in zijn werk gaat als we <command>pop3</command> (post office protocol) gebruiken.</para>
	<para>U merkt dat dit essentieel dezelfde tekening is als de vorige (het tot stand brengen van een http verbinding).</para>
	<para>Links staat de laptop (192.168.1.34) met het e-mailprogramma Thunderbird, rechts staat een mailserver genaamd vanadium.openminds.be (ook gekend als mail.cobbaut.be).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/pop3_tek.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>1. De eerste actie is een dns A query voor mail.cobbaut.be.</para>
	<para>2. Het routerke met ingebouwde DNS server antwoord met 88.151.243.22</para>
	<para>3. De tcp syn.</para>
	<para>4. De tcp syn, ack.</para>
	<para>5. De tcp ack (de tcp sessie is nu een feit).</para>
	<para>6. Nu kan <command>pop3</command> in actie schieten. Als je snift kan je zien dat pop3 een login vereist, en dat alle mails in platte tekst van de mailserver tot op de laptop komen. Hieronder nog even een wireshark screenshot van de 6 stappen.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/pop3.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>

<section><title>tekening smtp (deel 1)</title>
	<para>We weten al dat <command>smtp</command> wordt gebruikt voor het versturen van email. Deze eerste tekening toont <command>smtp</command> tussen een client (Thunderbird) en een server (smtp.edpnet.be). In deel 2 zien we smtp tussen twee mailservers.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/smtp_tek.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>1. Het eerste wat onze mailclient (Thunderbird hier) doet is een dns query voor de A record van smtp.edpnet.be (die naam haalt hij uit de instellingen die je manueel in je mailprogramma moet ingeven).</para>
	<para>2. Gelukkig komt er een antwoord met ip 212.71.0.14</para>
	<para>3. tcp syn</para>
	<para>4. tcp syn, ack</para>
	<para>5. tcp ack</para>
	<para>6. Als zesde stap zien we hieronder niet enkel het begin van <command>smtp</command> in actie. We zien ook dat de mailserver zich identificeert als <command>Sendmail</command>. Sendmail is open source software die door heel wat internet providers wordt gebruikt. Hieronder een wireshark screenshot met deze zes packetjes.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/smtp.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
</section>
<section><title>tekening smtp (deel 2)</title>
	<para>We volgen effe een mail, gestuurd vanop een pc met MS Outlook tot de mail zijn bestemming bereikt.</para>
	<para>Links onderaan staat de computer waarop de mail wordt geschreven, rechts onderaan staat de laptop van de bestemmeling.</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/smtp2.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para>1. De eerste stap is het sturen van de mail naar de mailserver van de provider. In dit geval gaat de computer van de email-verstuurder een tcp sessie opzetten met de smtp server van de <command>isp</command> (in dit geval smtp.edpnet.be). Deze ene stap is uitgelegd in meerdere stappen in de vorige tekening.</para>
	<para>2. Als de mailserver van de internet provider de mail ontvangen heeft, dan gaat die eerst nakijken of die bedoelt is voor een lokale mailbox. Indien niet, dan gaat die op zoek naar de MX en de A record van de mailserver waar de mail wel naartoe moet. De mailserver vraagt dus aan zijn lokale DNS server voor de MX record van gmail.com (als je een mail stuurt naar gmail.com natuurlijk).</para>
	<para>3. Stap 3 is het antwoord van de DNS server op de MX query. Dit antwoord bevat ook de A records van o.a. smtp4.google.com.</para>
	<para>4. De mailserver van edpnet maakt nu een smtp verbinding (en dus ook een tcp sessie op port 25) met de smtp4.google.com (72.14.221.25) server. De mail verlaat de internet provider van de verstuurder en bereikt de Google servers.</para>
	<para>5. Stap 5 daar hebben we het raden naar. Google beschikt over tienduizenden servers, mails kunnen gelezen worden van verschillende servers tegelijkertijd...</para>
	<para>6. De laatste stap is het gebruik van een protocol zoals <command>pop3</command> om de mail te lezen. Om te vermijden dat mails onderweg gelezen worden kan je ook <command>pop3s</command> (pop3 over ssl) gebruiken.</para>
	<para>Als extraatje een wireshark screenshot van <command>pop3s</command> in actie. (We hebben in de les nooit over pop3s gesproken, dus ge moet dat niet kennen).</para>
	<mediaobject><imageobject><imagedata fileref="modules/mod_cvotsm/pop3s.png" format="EPS" align="center"></imagedata></imageobject></mediaobject>
	<para></para>
	<para>Ik hoop dat deze tekeningen de zaak wat verduidelijken. Als ik tijd heb, teken ik ook nog wat arp en ping packetjes ofzo... prettige feesten!</para>
</section>
