<?hard-pagebreak?>
<section><title>introduction to lvm</title>
	<section><title>problems with standard partitions</title>
		<para>There are some problems when working with hard disks and standard partitions. Consider a system with a small and a large hard disk device, partitioned like this. The first disk (/dev/sda) is partitioned in two, the second disk (/dev/sdb) has three partitions.</para>

<table frame='all'><title>disk partitioning example</title>
<?dbfo table-width="100%" ?>
<tgroup cols='6' align='left' colsep='1' rowsep='1'>
<colspec colname='p1' align="center"/>
<colspec colname='p2' align="center"/>
<colspec colname='p3' align="center"/>
<colspec colname='p4' align="center"/>
<colspec colname='p5' align="center"/>
<colspec colname='p6' align="center"/>
<thead>
<row>
  <entry namest="p1" nameend="p2">/dev/sda</entry>
  <entry namest="p3" nameend="p6">/dev/sdb</entry>
</row>
</thead>
<tbody>
<row>
  <entry>/dev/sda1</entry>
  <entry>/dev/sda2</entry>
  <entry>/dev/sdb1</entry>
  <entry>/dev/sdb2</entry>
  <entry>/dev/sdb3</entry>
  <entry>unused</entry>
</row>
<row>
  <entry>/boot</entry>
  <entry>/</entry>
  <entry>/var</entry>
  <entry>/home</entry>
  <entry>/project42</entry>
</row>
<row>
  <entry>ext2</entry>
  <entry>ext3</entry>
  <entry>ext2</entry>
  <entry>reiserfs</entry>
  <entry>ext3</entry>
</row>
</tbody>
</tgroup>
</table>
	<para>In the example above, consider the options when you want to enlarge the space available for <command>/project42</command>. What can you do ? The solution will always force you to unmount the filesystem, take a backup of the data, remove and recreate partitions, and then restore the data and remount the file system.</para>
	</section>
	<section><title>solution with lvm</title>
	<para>Using <command>lvm</command> will create a virtual layer between the mounted file systems and the hardware devices. This virtual layer will allow for an administrator to enlarge a mounted file system in use. When <command>lvm</command> is properly used, then there is no need to unmount the file system to enlarge it.</para>

<table frame='all'><title>LVM Example</title>
<?dbfo table-width="100%" ?>
<tgroup cols='6' align='left' colsep='1' rowsep='1'>
<colspec colname='p1' align="center"/>
<colspec colname='p2' align="center"/>
<colspec colname='p3' align="center"/>
<colspec colname='p4' align="center"/>
<colspec colname='p5' align="center"/>
<colspec colname='p6' align="center"/>
<thead>
<row>
  <entry namest="p1" nameend="p2">/dev/sda</entry>
  <entry namest="p3" nameend="p6">/dev/sdb</entry>
</row>
</thead>
<tbody>
<row>
  <entry namest="p1" nameend="p6">Volume Group</entry>
</row>
<row>
  <entry>/boot</entry>
  <entry>/</entry>
  <entry>/var</entry>
  <entry>/home</entry>
  <entry>/project42</entry>
</row>
<row>
  <entry>ext2</entry>
  <entry>ext3</entry>
  <entry>ext2</entry>
  <entry>reiserfs</entry>
  <entry>ext3</entry>
</row>
</tbody>
</tgroup>
</table>
	</section>
	<section><title>about lvm</title>
		<para>Most <command>lvm</command> implementations support <command>physical storage grouping</command><indexterm><primary>LVM</primary></indexterm>, <command>logical volume resizing</command> and <command>data migration</command>. </para>
		<para>Physical storage grouping is a fancy name for grouping multiple physical devices (hard disks) into a logical mass storage device. To enlarge this physical group, hard disks or even single partitions can be added at a later time. The size of <command>lvm volumes</command> on this <command>physical group</command> is independent of the individual size of the components. The total size of the group is the limit.</para>
		<para>One of the nicest features of <command>lvm</command> is the logical volume resizing. You can increase the size of an <command>lvm volume</command>, sometimes even without any downtime. Additionally, you can migrate data away from a failing hard disk device. </para>
	</section>
</section>
<section><title>lvm terminology</title>
	<section><title>physical volume (pv)</title>
		<para>A <command>physical volume</command> is a disk, a partition or a (hardware or software) RAID device. All these devices can become a member of a <command>Volume Group</command>.</para>
	</section>
	<section><title>volume group (vg)</title>
		<para>A <command>Volume Group</command> is an abstraction layer between <command>Physical Devices</command> and <command>Logical Volumes</command>.</para>
	</section>
	<section><title>logical volume (lv)</title>
		<para>A <command>Logical Volume</command> is created in a <command>Volume Group</command>. Logical Volumes that contain a file system can be mounted. The use of logical volumes is similar to the use of partitions (both are standard block devices) and is accomplished with the same standard commands (mkfs, mount, fsck, df, ...).</para>
	</section>
</section>
