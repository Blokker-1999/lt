<?hard-pagebreak?>
<section><title>oefening ip-adressen</title>
	<para>0. Sluit je browser, tijdens de oefening ben je even het internet kwijt.</para>
	<para>1a. Gebruik <command>ipconfig</command> op Microsoft of <command>ifconfig</command> op Unix om je eigen <command>ip-adres</command> te vinden. Noteer het hier.</para>
	<para></para>
	<para></para>
	<para>1b. Gebruik <command>ipconfig /all</command> of <command>cat /etc/resolv.conf</command> om het ip-adres van de dns-server te vinden. Noteer het hier.</para>
	<para></para>
	<para></para>
	<para>1c. Gebruik <command>netstat -nr</command> of <command>route print</command> (of iets anders) om de default router te vinden.</para>
	<para></para>
	<para></para>
	<para>2. Zoek een partner en noteer zijn/haar <command>ip-adres</command> (dns en router zouden hetzelfde moeten zijn).</para>
	<para></para>
	<para></para>
	<para>3. Test met <command>ping</command> dat jullie elkaar kunnen bereiken. Dit zou moeten werken.</para>
	<screen>ping ip-adres-partner</screen>
	<para></para>
	<para></para>
	<para>4. Test met <command>ping</command> dat jullie de router en dns server kunnen bereiken. Dit zou moeten werken.</para>
	<para></para>
	<para></para>
	<para>5. Zoek de <command>grafische interface</command> om de eigenschappen van je ip-configuratie aan te passen, en noteer de informatie de je daar vindt. De kans is groot dat hier 'automatisch' of 'dhcp' staat.</para>
	<para></para>
	<para></para>
	<para></para>
	<para>6. Gebruik deze grafische interface en de informatie uit vraag 1 om het <command>eerste cijfer</command> van je ip-adres aan te passen. Verander dit eerste cijfer in 10 (als er al een 10 staat, zet er dan 9). Heb je nog steeds verbinding met je buurman ? (Dit zou moeten werken als jullie allebei de aanpassing gedaan hebben.)</para>
	<para></para>
	<para>7. Test met <command>ping</command> dat jullie nog steeds de router en dns server kunnen bereiken. Dit zou niet mogen werken.</para>
	<para></para>
	<para></para>
	<para>8. Lukt het pingen ook als je het eerste cijfer verandert in 11 ? Zou moeten werken voor je buurman, niet voor de rest.</para>
	<para></para>
	<para></para>
	<para>9. Lukt het pingen ook als je het eerste cijfer verandert in 127 ? Zou niet mogen werken.</para>
	<para></para>
	<para></para>
	<para>10. Verander de eerste twee cijfers van je ip-adres in <command>169.254</command>, maar behoud de laatste twee. Lukt dit ?</para>
	<para></para>
	<para></para>
	<para>11. Verander je ip-adres in 192.168.1.259. Waarom lukt dit niet ?</para>
	<para></para>
	<para></para>
	<para>12. Zet je ip-configuratie terug zoals ze stond voor de oefening. Test dat je terug verbinding hebt met internet door te surfen naar <command>http://linux-training.be</command> ;-)</para>
</section>
<?hard-pagebreak?>
<section><title>ip-adressen</title>
	<para>Een <command>ip-adres</command><indexterm><primary>ip-adres</primary></indexterm> is een 32-bit getal dat als logisch adres aan een computer wordt gegeven. Een <command>ip-adres</command> is de unieke identificatie van een <command>host</command> op laag 3.</para>
	<para>Theoretisch hebben we 4294967296 ip-adressen (256*256*256*256).</para>
	<para>In decimale octetjes schrijven we dat van 0.0.0.0 tot 255.255.255.255, in hexadecimale bytes is dat van 00:00:00:00 tot FF:FF:FF:FF en binair is dat van 00000000.00000000.00000000.00000000 tot 11111111.11111111.11111111.11111111.</para>
	<para>Hieronder een <command>ip-adres</command> in drie talstelsels.</para>
<table frame='all'><title>een ip-adres</title>
<?dbfo table-width="90%" ?>
<tgroup cols='4' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<colspec colname='c3' colwidth="1*" align="center"/>
<colspec colname='c4' colwidth="1*" align="center"/>
<thead>
<row>
  <entry>bits 0-7</entry>
  <entry>bits 8-15</entry>
  <entry>bits 16-23</entry>
  <entry>bits 24-31</entry>
</row>
</thead>
<tbody>
<row>
  <entry>192</entry>
  <entry>168</entry>
  <entry>0</entry>
  <entry>42</entry>
</row>
<row>
  <entry>C0</entry>
  <entry>A8</entry>
  <entry>00</entry>
  <entry>2A</entry>
</row>
<row>
  <entry>11000000</entry>
  <entry>10101000</entry>
  <entry>00000000</entry>
  <entry>00101010</entry>
</row>
</tbody>
</tgroup>
</table>

</section>
<section><title>private en publieke adressen</title>
	<para>Om een geldig <command>ip-adres</command> te hebben op het <command>internet</command>, moet je dit aankopen bij je lokale <command>RIR (Regional Internet Registry)</command><indexterm><primary>regional internet registry</primary></indexterm>. Voor Europa is dit <command>RIPE NCC (Réseaux IP Européens Network Coordination Centre)</command><indexterm><primary>ripe</primary></indexterm> in Amsterdam.</para>
	<para>In de meeste gevallen is het de <command>isp (Internet Service Provider)</command><indexterm><primary>isp</primary></indexterm> die deze aankoop doet, eindgebruikers merken daar weinig van.</para>
	<para>Niet alle <command>ip-adressen</command> zijn geldig op internet. Sommige reeksen zijn gereserveerd voor speciale doeleinden.</para>
	<section><title>private adressen</title>
		<para>Er zijn drie reeksen gereserveerd voor <command>privé</command><indexterm><primary>private ip ranges</primary></indexterm>-gebruik. Deze ip-adressen zijn niet te gebruiken op internet (ze werken niet). Technisch kan je zeggen dat routers op internet alle packetjes voor deze adresssen automatisch verwerpen.</para>
		<para>De drie reeksen zijn:</para>
<table frame='all'><title>private ip-adressen</title>
<?dbfo table-width="90%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<colspec colname='c3' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>eerste ip-adres</entry>
  <entry>laatste ip-adres</entry>
  <entry>aantal adressen in de reeks</entry>
</row>
</thead>
<tbody>
<row>
  <entry>10.0.0.0</entry>
  <entry>10.255.255.255</entry>
  <entry>16777216 (+16 miljoen)</entry>
</row>
<row>
  <entry>172.16.0.0</entry>
  <entry>172.31.255.255</entry>
  <entry>1048576 (+1 miljoen)</entry>
</row>
<row>
  <entry>192.168.0.0</entry>
  <entry>192.168.255.255</entry>
  <entry>65536 (+65 duizend)</entry>
</row>
</tbody>
</tgroup>
</table>
		<para>De volledige definitie van deze reeksen vindt u in <command>rfc 1918</command>.</para>
		<screen>http://www.rfc-editor.org/rfc/rfc1918.txt</screen>
	</section>
	<section><title>loopback adressen</title>
		<para>Elke <command>tcp/ip stack</command> heeft een virtuele <command>loopback interface</command>. Dit is een ip-adres dat gebruikt wordt om naar de computer zelf te wijzen (en om te testen of je <command>tcp/ip</command> stack werkt).</para>
		<para>Meestal is dit <command>127.0.0.1</command><indexterm><primary>127.0.0.1</primary></indexterm>, vaak wijst de hele reeks echter naar ditzelfde adres.</para>
		<screen>
van 127.0.0.0 tot 127.255.255.255
		</screen>
		<para>Meestal wordt <command>localhost</command><indexterm><primary>localhost</primary></indexterm> vertaald naar <command>127.0.0.1</command>.</para>
	</section>
	<section><title>zeroconf adressen</title>
		<para>Een <command>zeroconf</command><indexterm><primary>zeroconf</primary></indexterm> adres wordt ook wel een <command>link local</command><indexterm><primary>link local</primary></indexterm> adres genoemd. Het is een ip-adres dat begint met <command>169.254</command><indexterm><primary>169.254.x.y</primary></indexterm> en dan twee willekeurig gekozen bytes. Microsoft noemt dit <command>APIPA (Automatic Private IP Adddressing)</command><indexterm><primary>apipa</primary></indexterm>.</para>
		<para>Een host die automatisch een ip-adres zou moeten krijgen van <command>dhcp</command><indexterm><primary>dhcp</primary></indexterm>, maar dit niet krijgt, kan zichzelf van een <command>zeroconf</command> adres voorzien. De host zal op het lokale netwerk (de <command>local link</command>) eerst testen dat geen enkele andere host dit adres gebruikt, alvorens het aan zichzelf toe te wijzen.</para>
		<screen>
van 169.254.0.0 tot 169.254.255.255
		</screen>
		<para>Als een computer in de praktijk in een bedrijf een <command>zeroconf</command> adres heeft, dan wil dit meestal zeggen dat de netwerkbekabeling van de computer onderbroken is. Soms duidt zo'n adres op een probleem met de <command>dhcp server</command>.</para>
	</section>
	<section><title>oefening ip-adressen</title>
		<para>1. Duid voor de volgende ip-adressen aan waarvoor ze dienen (privaat, publiek, loopback of zeroconf)</para> 
<table frame='all'><title>oefening gereserveerde ip-adressen</title>
<?dbfo table-width="70%" ?>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="center"/>
<thead>
<row>
  <entry>ip-adres</entry>
  <entry>gereserveerd doel</entry>
</row>
</thead>
<tbody>
<row>
  <entry>192.168.244.16</entry>
  <entry>privaat</entry>
</row>
<row>
  <entry>195.238.2.21</entry>
  <entry></entry>
</row>
<row>
  <entry>169.254.33.42</entry>
  <entry></entry>
</row>
<row>
  <entry>127.0.0.1</entry>
  <entry></entry>
</row>
<row>
  <entry>9.33.42.12</entry>
  <entry></entry>
</row>
<row>
  <entry>10.11.12.13</entry>
  <entry></entry>
</row>
<row>
  <entry>171.191.42.33</entry>
  <entry></entry>
</row>
<row>
  <entry>172.18.33.42</entry>
  <entry></entry>
</row>
</tbody>
</tgroup>
</table>
	<para>2a. Hoeveel ip-adressen zijn gereserveerd voor de <command>loopback</command> functie ?</para>
	<para></para>
	<para>2b. Een op hoeveel van het totaal aantal ip-adressen is dat ?</para>
	<para></para>
	<para>3. Hoeveel ip-adressen zijn gereserveerd voor privaat gebruik ?</para>
	<para></para>
	</section>
</section>
<?hard-pagebreak?>
<section><title>ip-adres klassen</title>
	<para><command>IP-adressen</command><indexterm><primary>ip-adres</primary></indexterm> zijn onderverdeeld in klassen. Een adres van <command>klasse A</command><indexterm><primary>class A</primary></indexterm> begint binair met als meest significante bit een 0. Een <command>klasse B</command><indexterm><primary>class B</primary></indexterm> adres begint binair met 10, <command>klasse C</command><indexterm><primary>class C</primary></indexterm> met 110, <command>klasse D</command> met 1110 en tenslotte <command>klasse E</command> met 1111.</para>
<para>De eerste byte decimaal omgerekend, komen we tot de volgende indeling van ip-adressen:</para>
<table frame='all'><title>ip address classes</title>
<?dbfo table-width="80%" ?>
<tgroup cols='3' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="1*" align="center"/>
<colspec colname='c2' colwidth="1*" align="left"/>
<colspec colname='c3' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>class</entry>
  <entry>first bit(s)</entry>
  <entry>first decimal byte</entry>
</row>
</thead>
<tbody>
<row>
  <entry>A</entry>
  <entry>0</entry>
  <entry>0-127</entry>
</row>
<row>
  <entry>B</entry>
  <entry>10</entry>
  <entry>128-191</entry>
</row>
<row>
  <entry>C</entry>
  <entry>110</entry>
  <entry>192-223</entry>
</row>
<row>
  <entry>D</entry>
  <entry>1110</entry>
  <entry>224-239</entry>
</row>
<row>
  <entry>E</entry>
  <entry>1111</entry>
  <entry>240-255</entry>
</row>
</tbody>
</tgroup>
</table>
<para>Alle ip-adressen die beginnen met een getal lager dan 127 zijn dus klasse A adressen (onthoud dat 127 zelf gereserveerd is voor de loopback adapter).</para>
</section>
<section><title>oefening ip-adres klassen</title>
<para>Duid voor de volgende ip-adressen steeds de correcte klasse aan:</para>
<table frame='all'><title>oefening classful ip addressing</title>
<?dbfo table-width="70%" ?>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<colspec colname='c1' colwidth="3*" align="center"/>
<colspec colname='c2' colwidth="2*" align="center"/>
<thead>
<row>
  <entry>ip-adres</entry>
  <entry>klasse ?</entry>
</row>
</thead>
<tbody>
<row>
  <entry>192.168.42.33</entry>
  <entry></entry>
</row>
<row>
  <entry>9.101.12.01</entry>
  <entry>A</entry>
</row>
<row>
  <entry>188.33.42.33</entry>
  <entry></entry>
</row>
<row>
  <entry>9.42.12.33</entry>
  <entry></entry>
</row>
<row>
  <entry>230.19.4.42</entry>
  <entry></entry>
</row>
<row>
  <entry>11.19.6.200</entry>
  <entry></entry>
</row>
<row>
  <entry>191.192.193.194</entry>
  <entry></entry>
</row>
<row>
  <entry>134.0.0.42</entry>
  <entry></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
